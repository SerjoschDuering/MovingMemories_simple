var RC=Object.defineProperty;var wC=(t,e,n)=>e in t?RC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rs=(t,e,n)=>wC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function DC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oy={exports:{}},ua={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=Symbol.for("react.transitional.element"),bC=Symbol.for("react.fragment");function sy(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:NC,type:t,key:i,ref:e!==void 0?e:null,props:n}}ua.Fragment=bC;ua.jsx=sy;ua.jsxs=sy;oy.exports=ua;var U=oy.exports,ry={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.transitional.element"),IC=Symbol.for("react.portal"),UC=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),VC=Symbol.for("react.profiler"),LC=Symbol.for("react.consumer"),kC=Symbol.for("react.context"),BC=Symbol.for("react.forward_ref"),GC=Symbol.for("react.suspense"),HC=Symbol.for("react.memo"),ly=Symbol.for("react.lazy"),Qd=Symbol.iterator;function FC(t){return t===null||typeof t!="object"?null:(t=Qd&&t[Qd]||t["@@iterator"],typeof t=="function"?t:null)}var ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uy=Object.assign,cy={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=cy,this.updater=n||ay}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fy(){}fy.prototype=Oo.prototype;function df(t,e,n){this.props=t,this.context=e,this.refs=cy,this.updater=n||ay}var hf=df.prototype=new fy;hf.constructor=df;uy(hf,Oo.prototype);hf.isPureReactComponent=!0;var Zd=Array.isArray,Ce={H:null,A:null,T:null,S:null,V:null},dy=Object.prototype.hasOwnProperty;function mf(t,e,n,i,o,s){return n=s.ref,{$$typeof:ff,type:t,key:e,ref:n!==void 0?n:null,props:s}}function qC(t,e){return mf(t.type,e,void 0,void 0,void 0,t.props)}function pf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ff}function zC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wd=/\/+/g;function La(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zC(""+t.key):e.toString(36)}function jd(){}function OC(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(jd,jd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function $i(t,e,n,i,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case ff:case IC:r=!0;break;case ly:return r=t._init,$i(r(t._payload),e,n,i,o)}}if(r)return o=o(t),r=i===""?"."+La(t,0):i,Zd(o)?(n="",r!=null&&(n=r.replace(Wd,"$&/")+"/"),$i(o,e,n,"",function(f){return f})):o!=null&&(pf(o)&&(o=qC(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(Wd,"$&/")+"/")+r)),e.push(o)),1;r=0;var u=i===""?".":i+":";if(Zd(t))for(var c=0;c<t.length;c++)i=t[c],s=u+La(i,c),r+=$i(i,e,n,s,o);else if(c=FC(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,s=u+La(i,c++),r+=$i(i,e,n,s,o);else if(s==="object"){if(typeof t.then=="function")return $i(OC(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function br(t,e,n){if(t==null)return t;var i=[],o=0;return $i(t,i,"","",function(s){return e.call(n,s,o++)}),i}function YC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var eh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function KC(){}Z.Children={map:br,forEach:function(t,e,n){br(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return br(t,function(){e++}),e},toArray:function(t){return br(t,function(e){return e})||[]},only:function(t){if(!pf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Oo;Z.Fragment=UC;Z.Profiler=VC;Z.PureComponent=df;Z.StrictMode=PC;Z.Suspense=GC;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce;Z.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ce.H.useMemoCache(t)}};Z.cache=function(t){return function(){return t.apply(null,arguments)}};Z.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=uy({},t.props),o=t.key,s=void 0;if(e!=null)for(r in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(o=""+e.key),e)!dy.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return mf(t.type,o,void 0,void 0,s,i)};Z.createContext=function(t){return t={$$typeof:kC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:LC,_context:t},t};Z.createElement=function(t,e,n){var i,o={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)dy.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var r=arguments.length-2;if(r===1)o.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)o[i]===void 0&&(o[i]=r[i]);return mf(t,s,void 0,void 0,null,o)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:BC,render:t}};Z.isValidElement=pf;Z.lazy=function(t){return{$$typeof:ly,_payload:{_status:-1,_result:t},_init:YC}};Z.memo=function(t,e){return{$$typeof:HC,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Ce.T,n={};Ce.T=n;try{var i=t(),o=Ce.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(KC,eh)}catch(s){eh(s)}finally{Ce.T=e}};Z.unstable_useCacheRefresh=function(){return Ce.H.useCacheRefresh()};Z.use=function(t){return Ce.H.use(t)};Z.useActionState=function(t,e,n){return Ce.H.useActionState(t,e,n)};Z.useCallback=function(t,e){return Ce.H.useCallback(t,e)};Z.useContext=function(t){return Ce.H.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t,e){return Ce.H.useDeferredValue(t,e)};Z.useEffect=function(t,e,n){var i=Ce.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};Z.useId=function(){return Ce.H.useId()};Z.useImperativeHandle=function(t,e,n){return Ce.H.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Ce.H.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Ce.H.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Ce.H.useMemo(t,e)};Z.useOptimistic=function(t,e){return Ce.H.useOptimistic(t,e)};Z.useReducer=function(t,e,n){return Ce.H.useReducer(t,e,n)};Z.useRef=function(t){return Ce.H.useRef(t)};Z.useState=function(t){return Ce.H.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Ce.H.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Ce.H.useTransition()};Z.version="19.1.1";ry.exports=Z;var O=ry.exports;const Ir=DC(O);var hy={exports:{}},ca={},my={exports:{}},py={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,x){var B=M.length;M.push(x);e:for(;0<B;){var V=B-1>>>1,G=M[V];if(0<o(G,x))M[V]=x,M[B]=G,B=V;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var x=M[0],B=M.pop();if(B!==x){M[0]=B;e:for(var V=0,G=M.length,K=G>>>1;V<K;){var z=2*(V+1)-1,Y=M[z],q=z+1,H=M[q];if(0>o(Y,B))q<G&&0>o(H,Y)?(M[V]=H,M[q]=B,V=q):(M[V]=Y,M[z]=B,V=z);else if(q<G&&0>o(H,B))M[V]=H,M[q]=B,V=q;else break e}}return x}function o(M,x){var B=M.sortIndex-x.sortIndex;return B!==0?B:M.id-x.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],f=[],d=1,h=null,m=3,p=!1,g=!1,T=!1,R=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(M){for(var x=n(f);x!==null;){if(x.callback===null)i(f);else if(x.startTime<=M)i(f),x.sortIndex=x.expirationTime,e(c,x);else break;x=n(f)}}function w(M){if(T=!1,A(M),!g)if(n(c)!==null)g=!0,_||(_=!0,I());else{var x=n(f);x!==null&&k(w,x.startTime-M)}}var _=!1,N=-1,C=5,E=-1;function D(){return R?!0:!(t.unstable_now()-E<C)}function b(){if(R=!1,_){var M=t.unstable_now();E=M;var x=!0;try{e:{g=!1,T&&(T=!1,v(N),N=-1),p=!0;var B=m;try{t:{for(A(M),h=n(c);h!==null&&!(h.expirationTime>M&&D());){var V=h.callback;if(typeof V=="function"){h.callback=null,m=h.priorityLevel;var G=V(h.expirationTime<=M);if(M=t.unstable_now(),typeof G=="function"){h.callback=G,A(M),x=!0;break t}h===n(c)&&i(c),A(M)}else i(c);h=n(c)}if(h!==null)x=!0;else{var K=n(f);K!==null&&k(w,K.startTime-M),x=!1}}break e}finally{h=null,m=B,p=!1}x=void 0}}finally{x?I():_=!1}}}var I;if(typeof S=="function")I=function(){S(b)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,P=L.port2;L.port1.onmessage=b,I=function(){P.postMessage(null)}}else I=function(){y(b,0)};function k(M,x){N=y(function(){M(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var x=3;break;default:x=m}var B=m;m=x;try{return M()}finally{m=B}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(M,x){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=m;m=M;try{return x()}finally{m=B}},t.unstable_scheduleCallback=function(M,x,B){var V=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,M={id:d++,callback:x,priorityLevel:M,startTime:B,expirationTime:G,sortIndex:-1},B>V?(M.sortIndex=B,e(f,M),n(c)===null&&M===n(f)&&(T?(v(N),N=-1):T=!0,k(w,B-V))):(M.sortIndex=G,e(c,M),g||p||(g=!0,_||(_=!0,I()))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var x=m;return function(){var B=m;m=x;try{return M.apply(this,arguments)}finally{m=B}}}})(py);my.exports=py;var JC=my.exports,gy={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=O;function yy(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pn(){}var at={d:{f:Pn,r:function(){throw Error(yy(522))},D:Pn,C:Pn,L:Pn,m:Pn,X:Pn,S:Pn,M:Pn},p:0,findDOMNode:null},$C=Symbol.for("react.portal");function QC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$C,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var As=XC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fa(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(yy(299));return QC(t,e,null,n)};ct.flushSync=function(t){var e=As.T,n=at.p;try{if(As.T=null,at.p=2,t)return t()}finally{As.T=e,at.p=n,at.d.f()}};ct.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,at.d.C(t,e))};ct.prefetchDNS=function(t){typeof t=="string"&&at.d.D(t)};ct.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=fa(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?at.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:s}):n==="script"&&at.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ct.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=fa(e.as,e.crossOrigin);at.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&at.d.M(t)};ct.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=fa(n,e.crossOrigin);at.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ct.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=fa(e.as,e.crossOrigin);at.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else at.d.m(t)};ct.requestFormReset=function(t){at.d.r(t)};ct.unstable_batchedUpdates=function(t,e){return t(e)};ct.useFormState=function(t,e,n){return As.H.useFormState(t,e,n)};ct.useFormStatus=function(){return As.H.useHostTransitionStatus()};ct.version="19.1.1";function vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vy)}catch(t){console.error(t)}}vy(),gy.exports=ct;var ZC=gy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=JC,Ty=O,WC=ZC;function F(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function th(t){if(ur(t)!==t)throw Error(F(188))}function jC(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return th(o),t;if(s===i)return th(o),e;s=s.sibling}throw Error(F(188))}if(n.return!==i.return)n=o,i=s;else{for(var r=!1,u=o.child;u;){if(u===n){r=!0,n=o,i=s;break}if(u===i){r=!0,i=o,n=s;break}u=u.sibling}if(!r){for(u=s.child;u;){if(u===n){r=!0,n=s,i=o;break}if(u===i){r=!0,i=s,n=o;break}u=u.sibling}if(!r)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Ay(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Ay(t),e!==null)return e;t=t.sibling}return null}var ye=Object.assign,e1=Symbol.for("react.element"),Ur=Symbol.for("react.transitional.element"),ys=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),xy=Symbol.for("react.consumer"),gn=Symbol.for("react.context"),gf=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Bu=Symbol.for("react.activity"),n1=Symbol.for("react.memo_cache_sentinel"),nh=Symbol.iterator;function ls(t){return t===null||typeof t!="object"?null:(t=nh&&t[nh]||t["@@iterator"],typeof t=="function"?t:null)}var i1=Symbol.for("react.client.reference");function Gu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===i1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Vu:return"Profiler";case Ey:return"StrictMode";case Lu:return"Suspense";case ku:return"SuspenseList";case Bu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ys:return"Portal";case gn:return(t.displayName||"Context")+".Provider";case xy:return(t._context.displayName||"Context")+".Consumer";case gf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yf:return e=t.displayName||null,e!==null?e:Gu(t.type)||"Memo";case Bn:e=t._payload,t=t._init;try{return Gu(t(e))}catch{}}return null}var vs=Array.isArray,$=Ty.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=WC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mi={pending:!1,data:null,method:null,action:null},Hu=[],eo=-1;function an(t){return{current:t}}function Ke(t){0>eo||(t.current=Hu[eo],Hu[eo]=null,eo--)}function Ae(t,e){eo++,Hu[eo]=t.current,t.current=e}var tn=an(null),zs=an(null),$n=an(null),Sl=an(null);function Cl(t,e){switch(Ae($n,e),Ae(zs,t),Ae(tn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?lm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=lm(e),t=F0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ke(tn),Ae(tn,t)}function bo(){Ke(tn),Ke(zs),Ke($n)}function Fu(t){t.memoizedState!==null&&Ae(Sl,t);var e=tn.current,n=F0(e,t.type);e!==n&&(Ae(zs,t),Ae(tn,n))}function Al(t){zs.current===t&&(Ke(tn),Ke(zs)),Sl.current===t&&(Ke(Sl),js._currentValue=Mi)}var qu=Object.prototype.hasOwnProperty,vf=qe.unstable_scheduleCallback,ka=qe.unstable_cancelCallback,o1=qe.unstable_shouldYield,s1=qe.unstable_requestPaint,nn=qe.unstable_now,r1=qe.unstable_getCurrentPriorityLevel,My=qe.unstable_ImmediatePriority,_y=qe.unstable_UserBlockingPriority,El=qe.unstable_NormalPriority,l1=qe.unstable_LowPriority,Ry=qe.unstable_IdlePriority,a1=qe.log,u1=qe.unstable_setDisableYieldValue,cr=null,xt=null;function On(t){if(typeof a1=="function"&&u1(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(cr,t)}catch{}}var Mt=Math.clz32?Math.clz32:d1,c1=Math.log,f1=Math.LN2;function d1(t){return t>>>=0,t===0?32:31-(c1(t)/f1|0)|0}var Pr=256,Vr=4194304;function vi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,s=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~s,i!==0?o=vi(i):(r&=u,r!==0?o=vi(r):n||(n=u&~t,n!==0&&(o=vi(n))))):(u=i&~s,u!==0?o=vi(u):r!==0?o=vi(r):n||(n=i&~t,n!==0&&(o=vi(n)))),o===0?0:e!==0&&e!==o&&!(e&s)&&(s=o&-o,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:o}function fr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function h1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wy(){var t=Pr;return Pr<<=1,!(Pr&4194048)&&(Pr=256),t}function Dy(){var t=Vr;return Vr<<=1,!(Vr&62914560)&&(Vr=4194304),t}function Ba(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function m1(t,e,n,i,o,s){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-Mt(n),h=1<<d;u[d]=0,c[d]=-1;var m=f[d];if(m!==null)for(f[d]=null,d=0;d<m.length;d++){var p=m[d];p!==null&&(p.lane&=-536870913)}n&=~h}i!==0&&Ny(t,i,0),s!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=s&~(r&~e))}function Ny(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Mt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function by(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Mt(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function Tf(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sf(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Iy(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Z0(t.type))}function p1(t,e){var n=ie.p;try{return ie.p=t,e()}finally{ie.p=n}}var ai=Math.random().toString(36).slice(2),tt="__reactFiber$"+ai,gt="__reactProps$"+ai,Yo="__reactContainer$"+ai,zu="__reactEvents$"+ai,g1="__reactListeners$"+ai,y1="__reactHandles$"+ai,ih="__reactResources$"+ai,hr="__reactMarker$"+ai;function Cf(t){delete t[tt],delete t[gt],delete t[zu],delete t[g1],delete t[y1]}function to(t){var e=t[tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yo]||n[tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cm(t);t!==null;){if(n=t[tt])return n;t=cm(t)}return e}t=n,n=t.parentNode}return null}function Ko(t){if(t=t[tt]||t[Yo]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ts(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(F(33))}function To(t){var e=t[ih];return e||(e=t[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Oe(t){t[hr]=!0}var Uy=new Set,Py={};function Hi(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(Py[t]=e,t=0;t<e.length;t++)Uy.add(e[t])}var v1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oh={},sh={};function T1(t){return qu.call(sh,t)?!0:qu.call(oh,t)?!1:v1.test(t)?sh[t]=!0:(oh[t]=!0,!1)}function jr(t,e,n){if(T1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Lr(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function dn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Ga,rh;function Qi(t){if(Ga===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ga=e&&e[1]||"",rh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+t+rh}var Ha=!1;function Fa(t,e){if(!t||Ha)return"";Ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(p){var m=p}Reflect.construct(t,[],h)}else{try{h.call()}catch(p){m=p}t.call(h.prototype)}}else{try{throw Error()}catch(p){m=p}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),r=s[0],u=s[1];if(r&&u){var c=r.split(`
`),f=u.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{Ha=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Qi(n):""}function S1(t){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Fa(t.type,!1);case 11:return Fa(t.type.render,!1);case 1:return Fa(t.type,!0);case 31:return Qi("Activity");default:return""}}function lh(t){try{var e="";do e+=S1(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C1(t){var e=Vy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(r){i=""+r,s.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xl(t){t._valueTracker||(t._valueTracker=C1(t))}function Ly(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Vy(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var A1=/[\n"\\]/g;function Lt(t){return t.replace(A1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ou(t,e,n,i,o,s,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ut(e)):t.value!==""+Ut(e)&&(t.value=""+Ut(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Yu(t,r,Ut(e)):n!=null?Yu(t,r,Ut(n)):i!=null&&t.removeAttribute("value"),o==null&&s!=null&&(t.defaultChecked=!!s),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+Ut(u):t.removeAttribute("name")}function ky(t,e,n,i,o,s,r,u){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Ut(n):"",e=e!=null?""+Ut(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function Yu(t,e,n){e==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function So(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ut(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function By(t,e,n){if(e!=null&&(e=""+Ut(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ut(n):""}function Gy(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(F(92));if(vs(i)){if(1<i.length)throw Error(F(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ut(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var E1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||E1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Hy(t,e,n){if(e!=null&&typeof e!="object")throw Error(F(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&ah(t,o,i)}else for(var s in e)e.hasOwnProperty(s)&&ah(t,s,e[s])}function Af(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(t){return M1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ku=null;function Ef(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var no=null,Co=null;function uh(t){var e=Ko(t);if(e&&(t=e.stateNode)){var n=t[gt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ou(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[gt]||null;if(!o)throw Error(F(90));Ou(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Ly(i)}break e;case"textarea":By(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}}}var qa=!1;function Fy(t,e,n){if(qa)return t(e,n);qa=!0;try{var i=t(e);return i}finally{if(qa=!1,(no!==null||Co!==null)&&(Aa(),no&&(e=no,t=Co,Co=no=null,uh(e),t)))for(e=0;e<t.length;e++)uh(t[e])}}function Os(t,e){var n=t.stateNode;if(n===null)return null;var i=n[gt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=!1;if(En)try{var as={};Object.defineProperty(as,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Ju=!1}var Yn=null,xf=null,tl=null;function qy(){if(tl)return tl;var t,e=xf,n=e.length,i,o="value"in Yn?Yn.value:Yn.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===o[s-i];i++);return tl=o.slice(t,1<i?1-i:void 0)}function nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function ch(){return!1}function yt(t){function e(n,i,o,s,r){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kr:ch,this.isPropagationStopped=ch,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=yt(Fi),mr=ye({},Fi,{view:0,detail:0}),_1=yt(mr),za,Oa,us,ma=ye({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==us&&(us&&t.type==="mousemove"?(za=t.screenX-us.screenX,Oa=t.screenY-us.screenY):Oa=za=0,us=t),za)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),fh=yt(ma),R1=ye({},ma,{dataTransfer:0}),w1=yt(R1),D1=ye({},mr,{relatedTarget:0}),Ya=yt(D1),N1=ye({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),b1=yt(N1),I1=ye({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U1=yt(I1),P1=ye({},Fi,{data:0}),dh=yt(P1),V1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k1[t])?!!e[t]:!1}function Mf(){return B1}var G1=ye({},mr,{key:function(t){if(t.key){var e=V1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(t){return t.type==="keypress"?nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H1=yt(G1),F1=ye({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=yt(F1),q1=ye({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),z1=yt(q1),O1=ye({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y1=yt(O1),K1=ye({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J1=yt(K1),X1=ye({},Fi,{newState:0,oldState:0}),$1=yt(X1),Q1=[9,13,27,32],_f=En&&"CompositionEvent"in window,Es=null;En&&"documentMode"in document&&(Es=document.documentMode);var Z1=En&&"TextEvent"in window&&!Es,zy=En&&(!_f||Es&&8<Es&&11>=Es),mh=" ",ph=!1;function Oy(t,e){switch(t){case"keyup":return Q1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function W1(t,e){switch(t){case"compositionend":return Yy(e);case"keypress":return e.which!==32?null:(ph=!0,mh);case"textInput":return t=e.data,t===mh&&ph?null:t;default:return null}}function j1(t,e){if(io)return t==="compositionend"||!_f&&Oy(t,e)?(t=qy(),tl=xf=Yn=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zy&&e.locale!=="ko"?null:e.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eA[t.type]:e==="textarea"}function Ky(t,e,n,i){no?Co?Co.push(i):Co=[i]:no=i,e=zl(e,"onChange"),0<e.length&&(n=new ha("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var xs=null,Ys=null;function tA(t){B0(t,0)}function pa(t){var e=Ts(t);if(Ly(e))return t}function yh(t,e){if(t==="change")return e}var Jy=!1;if(En){var Ka;if(En){var Ja="oninput"in document;if(!Ja){var vh=document.createElement("div");vh.setAttribute("oninput","return;"),Ja=typeof vh.oninput=="function"}Ka=Ja}else Ka=!1;Jy=Ka&&(!document.documentMode||9<document.documentMode)}function Th(){xs&&(xs.detachEvent("onpropertychange",Xy),Ys=xs=null)}function Xy(t){if(t.propertyName==="value"&&pa(Ys)){var e=[];Ky(e,Ys,t,Ef(t)),Fy(tA,e)}}function nA(t,e,n){t==="focusin"?(Th(),xs=e,Ys=n,xs.attachEvent("onpropertychange",Xy)):t==="focusout"&&Th()}function iA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pa(Ys)}function oA(t,e){if(t==="click")return pa(e)}function sA(t,e){if(t==="input"||t==="change")return pa(e)}function rA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:rA;function Ks(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!qu.call(e,o)||!wt(t[o],e[o]))return!1}return!0}function Sh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ch(t,e){var n=Sh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sh(n)}}function $y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ml(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ml(t.document)}return e}function Rf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var lA=En&&"documentMode"in document&&11>=document.documentMode,oo=null,Xu=null,Ms=null,$u=!1;function Ah(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$u||oo==null||oo!==Ml(i)||(i=oo,"selectionStart"in i&&Rf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ms&&Ks(Ms,i)||(Ms=i,i=zl(Xu,"onSelect"),0<i.length&&(e=new ha("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=oo)))}function gi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},Xa={},Zy={};En&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function qi(t){if(Xa[t])return Xa[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zy)return Xa[t]=e[n];return t}var Wy=qi("animationend"),jy=qi("animationiteration"),ev=qi("animationstart"),aA=qi("transitionrun"),uA=qi("transitionstart"),cA=qi("transitioncancel"),tv=qi("transitionend"),nv=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function Xt(t,e){nv.set(t,e),Hi(e,[t])}var Eh=new WeakMap;function kt(t,e){if(typeof t=="object"&&t!==null){var n=Eh.get(t);return n!==void 0?n:(e={value:t,source:e,stack:lh(e)},Eh.set(t,e),e)}return{value:t,source:e,stack:lh(e)}}var It=[],ro=0,wf=0;function ga(){for(var t=ro,e=wf=ro=0;e<t;){var n=It[e];It[e++]=null;var i=It[e];It[e++]=null;var o=It[e];It[e++]=null;var s=It[e];if(It[e++]=null,i!==null&&o!==null){var r=i.pending;r===null?o.next=o:(o.next=r.next,r.next=o),i.pending=o}s!==0&&iv(n,o,s)}}function ya(t,e,n,i){It[ro++]=t,It[ro++]=e,It[ro++]=n,It[ro++]=i,wf|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Df(t,e,n,i){return ya(t,e,n,i),_l(t)}function Jo(t,e){return ya(t,null,null,e),_l(t)}function iv(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(o=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,o&&e!==null&&(o=31-Mt(n),t=s.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),s):null}function _l(t){if(50<Vs)throw Vs=0,yc=null,Error(F(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var lo={};function fA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,i){return new fA(t,e,n,i)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ov(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function il(t,e,n,i,o,s){var r=0;if(i=t,typeof t=="function")Nf(t)&&(r=1);else if(typeof t=="string")r=hE(t,n,tn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Bu:return t=Et(31,n,e,o),t.elementType=Bu,t.lanes=s,t;case ji:return _i(n.children,o,s,e);case Ey:r=8,o|=24;break;case Vu:return t=Et(12,n,e,o|2),t.elementType=Vu,t.lanes=s,t;case Lu:return t=Et(13,n,e,o),t.elementType=Lu,t.lanes=s,t;case ku:return t=Et(19,n,e,o),t.elementType=ku,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t1:case gn:r=10;break e;case xy:r=9;break e;case gf:r=11;break e;case yf:r=14;break e;case Bn:r=16,i=null;break e}r=29,n=Error(F(130,t===null?"null":typeof t,"")),i=null}return e=Et(r,n,e,o),e.elementType=t,e.type=i,e.lanes=s,e}function _i(t,e,n,i){return t=Et(7,t,i,e),t.lanes=n,t}function $a(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function Qa(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ao=[],uo=0,Rl=null,wl=0,Pt=[],Vt=0,Ri=null,yn=1,vn="";function Ti(t,e){ao[uo++]=wl,ao[uo++]=Rl,Rl=t,wl=e}function sv(t,e,n){Pt[Vt++]=yn,Pt[Vt++]=vn,Pt[Vt++]=Ri,Ri=t;var i=yn;t=vn;var o=32-Mt(i)-1;i&=~(1<<o),n+=1;var s=32-Mt(e)+o;if(30<s){var r=o-o%5;s=(i&(1<<r)-1).toString(32),i>>=r,o-=r,yn=1<<32-Mt(e)+o|n<<o|i,vn=s+t}else yn=1<<s|n<<o|i,vn=t}function bf(t){t.return!==null&&(Ti(t,1),sv(t,1,0))}function If(t){for(;t===Rl;)Rl=ao[--uo],ao[uo]=null,wl=ao[--uo],ao[uo]=null;for(;t===Ri;)Ri=Pt[--Vt],Pt[Vt]=null,vn=Pt[--Vt],Pt[Vt]=null,yn=Pt[--Vt],Pt[Vt]=null}var lt=null,we=null,ne=!1,wi=null,jt=!1,Zu=Error(F(519));function Pi(t){var e=Error(F(418,""));throw Js(kt(e,t)),Zu}function xh(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[tt]=t,e[gt]=i,n){case"dialog":j("cancel",e),j("close",e);break;case"iframe":case"object":case"embed":j("load",e);break;case"video":case"audio":for(n=0;n<Qs.length;n++)j(Qs[n],e);break;case"source":j("error",e);break;case"img":case"image":case"link":j("error",e),j("load",e);break;case"details":j("toggle",e);break;case"input":j("invalid",e),ky(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),xl(e);break;case"select":j("invalid",e);break;case"textarea":j("invalid",e),Gy(e,i.value,i.defaultValue,i.children),xl(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||H0(e.textContent,n)?(i.popover!=null&&(j("beforetoggle",e),j("toggle",e)),i.onScroll!=null&&j("scroll",e),i.onScrollEnd!=null&&j("scrollend",e),i.onClick!=null&&(e.onclick=Ma),e=!0):e=!1,e||Pi(t)}function Mh(t){for(lt=t.return;lt;)switch(lt.tag){case 5:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:lt=lt.return}}function cs(t){if(t!==lt)return!1;if(!ne)return Mh(t),ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ec(t.type,t.memoizedProps)),n=!n),n&&we&&Pi(t),Mh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){we=Jt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}we=null}}else e===27?(e=we,ui(t.type)?(t=_c,_c=null,we=t):we=e):we=lt?Jt(t.stateNode.nextSibling):null;return!0}function pr(){we=lt=null,ne=!1}function _h(){var t=wi;return t!==null&&(ht===null?ht=t:ht.push.apply(ht,t),wi=null),t}function Js(t){wi===null?wi=[t]:wi.push(t)}var Wu=an(null),zi=null,Tn=null;function Hn(t,e,n){Ae(Wu,e._currentValue),e._currentValue=n}function An(t){t._currentValue=Wu.current,Ke(Wu)}function ju(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ec(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){var r=o.child;s=s.firstContext;e:for(;s!==null;){var u=s;s=o;for(var c=0;c<e.length;c++)if(u.context===e[c]){s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ju(s.return,n,t),i||(r=null);break e}s=u.next}}else if(o.tag===18){if(r=o.return,r===null)throw Error(F(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),ju(r,n,t),r=null}else r=o.child;if(r!==null)r.return=o;else for(r=o;r!==null;){if(r===t){r=null;break}if(o=r.sibling,o!==null){o.return=r.return,r=o;break}r=r.return}o=r}}function gr(t,e,n,i){t=null;for(var o=e,s=!1;o!==null;){if(!s){if(o.flags&524288)s=!0;else if(o.flags&262144)break}if(o.tag===10){var r=o.alternate;if(r===null)throw Error(F(387));if(r=r.memoizedProps,r!==null){var u=o.type;wt(o.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(o===Sl.current){if(r=o.alternate,r===null)throw Error(F(387));r.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(js):t=[js])}o=o.return}t!==null&&ec(e,t,n,i),e.flags|=262144}function Dl(t){for(t=t.firstContext;t!==null;){if(!wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vi(t){zi=t,Tn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nt(t){return rv(zi,t)}function Br(t,e){return zi===null&&Vi(t),rv(t,e)}function rv(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Tn===null){if(t===null)throw Error(F(308));Tn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Tn=Tn.next=e;return n}var dA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},hA=qe.unstable_scheduleCallback,mA=qe.unstable_NormalPriority,He={$$typeof:gn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new dA,data:new Map,refCount:0}}function yr(t){t.refCount--,t.refCount===0&&hA(mA,function(){t.controller.abort()})}var _s=null,tc=0,Po=0,Ao=null;function pA(t,e){if(_s===null){var n=_s=[];tc=0,Po=nd(),Ao={status:"pending",value:void 0,then:function(i){n.push(i)}}}return tc++,e.then(Rh,Rh),e}function Rh(){if(--tc===0&&_s!==null){Ao!==null&&(Ao.status="fulfilled");var t=_s;_s=null,Po=0,Ao=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function gA(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var wh=$.S;$.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&pA(t,e),wh!==null&&wh(t,e)};var Di=an(null);function Pf(){var t=Di.current;return t!==null?t:de.pooledCache}function ol(t,e){e===null?Ae(Di,Di.current):Ae(Di,e.pool)}function lv(){var t=Pf();return t===null?null:{parent:He._currentValue,pool:t}}var vr=Error(F(460)),av=Error(F(474)),va=Error(F(542)),nc={then:function(){}};function Dh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gr(){}function uv(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Gr,Gr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,bh(t),t;default:if(typeof e.status=="string")e.then(Gr,Gr);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(F(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,bh(t),t}throw Rs=e,vr}}var Rs=null;function Nh(){if(Rs===null)throw Error(F(459));var t=Rs;return Rs=null,t}function bh(t){if(t===vr||t===va)throw Error(F(483))}var Gn=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ic(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=_l(t),iv(t,null,n),e}return ya(t,i,e,n),_l(t)}function ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,by(t,n)}}function Za(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?o=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var oc=!1;function Ds(){if(oc){var t=Ao;if(t!==null)throw t}}function Ns(t,e,n,i){oc=!1;var o=t.updateQueue;Gn=!1;var s=o.firstBaseUpdate,r=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,f=c.next;c.next=null,r===null?s=f:r.next=f,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(s!==null){var h=o.baseState;r=0,d=f=c=null,u=s;do{var m=u.lane&-536870913,p=m!==u.lane;if(p?(te&m)===m:(i&m)===m){m!==0&&m===Po&&(oc=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var g=t,T=u;m=e;var R=n;switch(T.tag){case 1:if(g=T.payload,typeof g=="function"){h=g.call(R,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=T.payload,m=typeof g=="function"?g.call(R,h,m):g,m==null)break e;h=ye({},h,m);break e;case 2:Gn=!0}}m=u.callback,m!==null&&(t.flags|=64,p&&(t.flags|=8192),p=o.callbacks,p===null?o.callbacks=[m]:p.push(m))}else p={lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=p,c=h):d=d.next=p,r|=m;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;p=u,u=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,s===null&&(o.shared.lanes=0),si|=r,t.lanes=r,t.memoizedState=h}}function cv(t,e){if(typeof t!="function")throw Error(F(191,t));t.call(e)}function fv(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)cv(n[t],e)}var Vo=an(null),Nl=an(0);function Ih(t,e){t=_n,Ae(Nl,t),Ae(Vo,e),_n=t|e.baseLanes}function sc(){Ae(Nl,_n),Ae(Vo,Vo.current)}function Lf(){_n=Nl.current,Ke(Vo),Ke(Nl)}var ii=0,W=null,ue=null,ke=null,bl=!1,Eo=!1,Li=!1,Il=0,Xs=0,xo=null,yA=0;function be(){throw Error(F(321))}function kf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wt(t[n],e[n]))return!1;return!0}function Bf(t,e,n,i,o,s){return ii=s,W=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$.H=t===null||t.memoizedState===null?qv:zv,Li=!1,s=n(i,o),Li=!1,Eo&&(s=hv(e,n,i,o)),dv(t),s}function dv(t){$.H=Ul;var e=ue!==null&&ue.next!==null;if(ii=0,ke=ue=W=null,bl=!1,Xs=0,xo=null,e)throw Error(F(300));t===null||Ye||(t=t.dependencies,t!==null&&Dl(t)&&(Ye=!0))}function hv(t,e,n,i){W=t;var o=0;do{if(Eo&&(xo=null),Xs=0,Eo=!1,25<=o)throw Error(F(301));if(o+=1,ke=ue=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}$.H=xA,s=e(n,i)}while(Eo);return s}function vA(){var t=$.H,e=t.useState()[0];return e=typeof e.then=="function"?Tr(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(W.flags|=1024),e}function Gf(){var t=Il!==0;return Il=0,t}function Hf(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ff(t){if(bl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}bl=!1}ii=0,ke=ue=W=null,Eo=!1,Xs=Il=0,xo=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?W.memoizedState=ke=t:ke=ke.next=t,ke}function Be(){if(ue===null){var t=W.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=ke===null?W.memoizedState:ke.next;if(e!==null)ke=e,ue=t;else{if(t===null)throw W.alternate===null?Error(F(467)):Error(F(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ke===null?W.memoizedState=ke=t:ke=ke.next=t}return ke}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tr(t){var e=Xs;return Xs+=1,xo===null&&(xo=[]),t=uv(xo,t,e),e=W,(ke===null?e.memoizedState:ke.next)===null&&(e=e.alternate,$.H=e===null||e.memoizedState===null?qv:zv),t}function Ta(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tr(t);if(t.$$typeof===gn)return nt(t)}throw Error(F(438,String(t)))}function zf(t){var e=null,n=W.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=qf(),W.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=n1;return e.index++,n}function xn(t,e){return typeof e=="function"?e(t):e}function sl(t){var e=Be();return Of(e,ue,t)}function Of(t,e,n){var i=t.queue;if(i===null)throw Error(F(311));i.lastRenderedReducer=n;var o=t.baseQueue,s=i.pending;if(s!==null){if(o!==null){var r=o.next;o.next=s.next,s.next=r}e.baseQueue=o=s,i.pending=null}if(s=t.baseState,o===null)t.memoizedState=s;else{e=o.next;var u=r=null,c=null,f=e,d=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(te&h)===h:(ii&h)===h){var m=f.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===Po&&(d=!0);else if((ii&m)===m){f=f.next,m===Po&&(d=!0);continue}else h={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,r=s):c=c.next=h,W.lanes|=m,si|=m;h=f.action,Li&&n(s,h),s=f.hasEagerState?f.eagerState:n(s,h)}else m={lane:h,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,r=s):c=c.next=m,W.lanes|=h,si|=h;f=f.next}while(f!==null&&f!==e);if(c===null?r=s:c.next=u,!wt(s,t.memoizedState)&&(Ye=!0,d&&(n=Ao,n!==null)))throw n;t.memoizedState=s,t.baseState=r,t.baseQueue=c,i.lastRenderedState=s}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wa(t){var e=Be(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var r=o=o.next;do s=t(s,r.action),r=r.next;while(r!==o);wt(s,e.memoizedState)||(Ye=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function mv(t,e,n){var i=W,o=Be(),s=ne;if(s){if(n===void 0)throw Error(F(407));n=n()}else n=e();var r=!wt((ue||o).memoizedState,n);r&&(o.memoizedState=n,Ye=!0),o=o.queue;var u=yv.bind(null,i,o,t);if(Sr(2048,8,u,[t]),o.getSnapshot!==e||r||ke!==null&&ke.memoizedState.tag&1){if(i.flags|=2048,Lo(9,Sa(),gv.bind(null,i,o,n,e),null),de===null)throw Error(F(349));s||ii&124||pv(i,e,n)}return n}function pv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=W.updateQueue,e===null?(e=qf(),W.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gv(t,e,n,i){e.value=n,e.getSnapshot=i,vv(e)&&Tv(t)}function yv(t,e,n){return n(function(){vv(e)&&Tv(t)})}function vv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wt(t,n)}catch{return!0}}function Tv(t){var e=Jo(t,2);e!==null&&Rt(e,t,2)}function rc(t){var e=ft();if(typeof t=="function"){var n=t;if(t=n(),Li){On(!0);try{n()}finally{On(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:t},e}function Sv(t,e,n,i){return t.baseState=n,Of(t,ue,typeof i=="function"?i:xn)}function TA(t,e,n,i,o){if(Ca(t))throw Error(F(485));if(t=e.action,t!==null){var s={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};$.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,Cv(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Cv(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var s=$.T,r={};$.T=r;try{var u=n(o,i),c=$.S;c!==null&&c(r,u),Uh(t,e,u)}catch(f){lc(t,e,f)}finally{$.T=s}}else try{s=n(o,i),Uh(t,e,s)}catch(f){lc(t,e,f)}}function Uh(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ph(t,e,i)},function(i){return lc(t,e,i)}):Ph(t,e,n)}function Ph(t,e,n){e.status="fulfilled",e.value=n,Av(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Cv(t,n)))}function lc(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Av(e),e=e.next;while(e!==i)}t.action=null}function Av(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Ev(t,e){return e}function Vh(t,e){if(ne){var n=de.formState;if(n!==null){e:{var i=W;if(ne){if(we){t:{for(var o=we,s=jt;o.nodeType!==8;){if(!s){o=null;break t}if(o=Jt(o.nextSibling),o===null){o=null;break t}}s=o.data,o=s==="F!"||s==="F"?o:null}if(o){we=Jt(o.nextSibling),i=o.data==="F!";break e}}Pi(i)}i=!1}i&&(e=n[0])}}return n=ft(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ev,lastRenderedState:e},n.queue=i,n=Gv.bind(null,W,i),i.dispatch=n,i=rc(!1),s=Xf.bind(null,W,!1,i.queue),i=ft(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=TA.bind(null,W,o,s,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function Lh(t){var e=Be();return xv(e,ue,t)}function xv(t,e,n){if(e=Of(t,e,Ev)[0],t=sl(xn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Tr(e)}catch(r){throw r===vr?va:r}else i=e;e=Be();var o=e.queue,s=o.dispatch;return n!==e.memoizedState&&(W.flags|=2048,Lo(9,Sa(),SA.bind(null,o,n),null)),[i,s,t]}function SA(t,e){t.action=e}function kh(t){var e=Be(),n=ue;if(n!==null)return xv(e,n,t);Be(),e=e.memoizedState,n=Be();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Lo(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=W.updateQueue,e===null&&(e=qf(),W.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Sa(){return{destroy:void 0,resource:void 0}}function Mv(){return Be().memoizedState}function rl(t,e,n,i){var o=ft();i=i===void 0?null:i,W.flags|=t,o.memoizedState=Lo(1|e,Sa(),n,i)}function Sr(t,e,n,i){var o=Be();i=i===void 0?null:i;var s=o.memoizedState.inst;ue!==null&&i!==null&&kf(i,ue.memoizedState.deps)?o.memoizedState=Lo(e,s,n,i):(W.flags|=t,o.memoizedState=Lo(1|e,s,n,i))}function Bh(t,e){rl(8390656,8,t,e)}function _v(t,e){Sr(2048,8,t,e)}function Rv(t,e){return Sr(4,2,t,e)}function wv(t,e){return Sr(4,4,t,e)}function Dv(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nv(t,e,n){n=n!=null?n.concat([t]):null,Sr(4,4,Dv.bind(null,e,t),n)}function Yf(){}function bv(t,e){var n=Be();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&kf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Iv(t,e){var n=Be();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&kf(e,i[1]))return i[0];if(i=t(),Li){On(!0);try{t()}finally{On(!1)}}return n.memoizedState=[i,e],i}function Kf(t,e,n){return n===void 0||ii&1073741824?t.memoizedState=e:(t.memoizedState=n,t=A0(),W.lanes|=t,si|=t,n)}function Uv(t,e,n,i){return wt(n,e)?n:Vo.current!==null?(t=Kf(t,n,i),wt(t,e)||(Ye=!0),t):ii&42?(t=A0(),W.lanes|=t,si|=t,e):(Ye=!0,t.memoizedState=n)}function Pv(t,e,n,i,o){var s=ie.p;ie.p=s!==0&&8>s?s:8;var r=$.T,u={};$.T=u,Xf(t,!1,e,n);try{var c=o(),f=$.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=gA(c,i);bs(t,e,d,_t(t))}else bs(t,e,i,_t(t))}catch(h){bs(t,e,{then:function(){},status:"rejected",reason:h},_t())}finally{ie.p=s,$.T=r}}function CA(){}function ac(t,e,n,i){if(t.tag!==5)throw Error(F(476));var o=Vv(t).queue;Pv(t,o,e,Mi,n===null?CA:function(){return Lv(t),n(i)})}function Vv(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Mi,baseState:Mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:Mi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Lv(t){var e=Vv(t).next.queue;bs(t,e,{},_t())}function Jf(){return nt(js)}function kv(){return Be().memoizedState}function Bv(){return Be().memoizedState}function AA(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=_t();t=Qn(n);var i=Zn(e,t,n);i!==null&&(Rt(i,e,n),ws(i,e,n)),e={cache:Uf()},t.payload=e;return}e=e.return}}function EA(t,e,n){var i=_t();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ca(t)?Hv(e,n):(n=Df(t,e,n,i),n!==null&&(Rt(n,t,i),Fv(n,e,i)))}function Gv(t,e,n){var i=_t();bs(t,e,n,i)}function bs(t,e,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ca(t))Hv(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var r=e.lastRenderedState,u=s(r,n);if(o.hasEagerState=!0,o.eagerState=u,wt(u,r))return ya(t,e,o,0),de===null&&ga(),!1}catch{}finally{}if(n=Df(t,e,o,i),n!==null)return Rt(n,t,i),Fv(n,e,i),!0}return!1}function Xf(t,e,n,i){if(i={lane:2,revertLane:nd(),action:i,hasEagerState:!1,eagerState:null,next:null},Ca(t)){if(e)throw Error(F(479))}else e=Df(t,n,i,2),e!==null&&Rt(e,t,2)}function Ca(t){var e=t.alternate;return t===W||e!==null&&e===W}function Hv(t,e){Eo=bl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fv(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,by(t,n)}}var Ul={readContext:nt,use:Ta,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},qv={readContext:nt,use:Ta,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:Bh,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,rl(4194308,4,Dv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rl(4194308,4,t,e)},useInsertionEffect:function(t,e){rl(4,2,t,e)},useMemo:function(t,e){var n=ft();e=e===void 0?null:e;var i=t();if(Li){On(!0);try{t()}finally{On(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=ft();if(n!==void 0){var o=n(e);if(Li){On(!0);try{n(e)}finally{On(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=EA.bind(null,W,t),[i.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:function(t){t=rc(t);var e=t.queue,n=Gv.bind(null,W,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Yf,useDeferredValue:function(t,e){var n=ft();return Kf(n,t,e)},useTransition:function(){var t=rc(!1);return t=Pv.bind(null,W,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=W,o=ft();if(ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),de===null)throw Error(F(349));te&124||pv(i,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Bh(yv.bind(null,i,s,t),[t]),i.flags|=2048,Lo(9,Sa(),gv.bind(null,i,s,n,e),null),n},useId:function(){var t=ft(),e=de.identifierPrefix;if(ne){var n=vn,i=yn;n=(i&~(1<<32-Mt(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=Il++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=yA++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Jf,useFormState:Vh,useActionState:Vh,useOptimistic:function(t){var e=ft();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Xf.bind(null,W,!0,n),n.dispatch=e,[t,e]},useMemoCache:zf,useCacheRefresh:function(){return ft().memoizedState=AA.bind(null,W)}},zv={readContext:nt,use:Ta,useCallback:bv,useContext:nt,useEffect:_v,useImperativeHandle:Nv,useInsertionEffect:Rv,useLayoutEffect:wv,useMemo:Iv,useReducer:sl,useRef:Mv,useState:function(){return sl(xn)},useDebugValue:Yf,useDeferredValue:function(t,e){var n=Be();return Uv(n,ue.memoizedState,t,e)},useTransition:function(){var t=sl(xn)[0],e=Be().memoizedState;return[typeof t=="boolean"?t:Tr(t),e]},useSyncExternalStore:mv,useId:kv,useHostTransitionStatus:Jf,useFormState:Lh,useActionState:Lh,useOptimistic:function(t,e){var n=Be();return Sv(n,ue,t,e)},useMemoCache:zf,useCacheRefresh:Bv},xA={readContext:nt,use:Ta,useCallback:bv,useContext:nt,useEffect:_v,useImperativeHandle:Nv,useInsertionEffect:Rv,useLayoutEffect:wv,useMemo:Iv,useReducer:Wa,useRef:Mv,useState:function(){return Wa(xn)},useDebugValue:Yf,useDeferredValue:function(t,e){var n=Be();return ue===null?Kf(n,t,e):Uv(n,ue.memoizedState,t,e)},useTransition:function(){var t=Wa(xn)[0],e=Be().memoizedState;return[typeof t=="boolean"?t:Tr(t),e]},useSyncExternalStore:mv,useId:kv,useHostTransitionStatus:Jf,useFormState:kh,useActionState:kh,useOptimistic:function(t,e){var n=Be();return ue!==null?Sv(n,ue,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:zf,useCacheRefresh:Bv},Mo=null,$s=0;function Hr(t){var e=$s;return $s+=1,Mo===null&&(Mo=[]),uv(Mo,t,e)}function fs(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Fr(t,e){throw e.$$typeof===e1?Error(F(525)):(t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Gh(t){var e=t._init;return e(t._payload)}function Ov(t){function e(y,v){if(t){var S=y.deletions;S===null?(y.deletions=[v],y.flags|=16):S.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function o(y,v){return y=Cn(y,v),y.index=0,y.sibling=null,y}function s(y,v,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<v?(y.flags|=67108866,v):S):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function r(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function u(y,v,S,A){return v===null||v.tag!==6?(v=$a(S,y.mode,A),v.return=y,v):(v=o(v,S),v.return=y,v)}function c(y,v,S,A){var w=S.type;return w===ji?d(y,v,S.props.children,A,S.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Bn&&Gh(w)===v.type)?(v=o(v,S.props),fs(v,S),v.return=y,v):(v=il(S.type,S.key,S.props,null,y.mode,A),fs(v,S),v.return=y,v)}function f(y,v,S,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Qa(S,y.mode,A),v.return=y,v):(v=o(v,S.children||[]),v.return=y,v)}function d(y,v,S,A,w){return v===null||v.tag!==7?(v=_i(S,y.mode,A,w),v.return=y,v):(v=o(v,S),v.return=y,v)}function h(y,v,S){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=$a(""+v,y.mode,S),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ur:return S=il(v.type,v.key,v.props,null,y.mode,S),fs(S,v),S.return=y,S;case ys:return v=Qa(v,y.mode,S),v.return=y,v;case Bn:var A=v._init;return v=A(v._payload),h(y,v,S)}if(vs(v)||ls(v))return v=_i(v,y.mode,S,null),v.return=y,v;if(typeof v.then=="function")return h(y,Hr(v),S);if(v.$$typeof===gn)return h(y,Br(y,v),S);Fr(y,v)}return null}function m(y,v,S,A){var w=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return w!==null?null:u(y,v,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ur:return S.key===w?c(y,v,S,A):null;case ys:return S.key===w?f(y,v,S,A):null;case Bn:return w=S._init,S=w(S._payload),m(y,v,S,A)}if(vs(S)||ls(S))return w!==null?null:d(y,v,S,A,null);if(typeof S.then=="function")return m(y,v,Hr(S),A);if(S.$$typeof===gn)return m(y,v,Br(y,S),A);Fr(y,S)}return null}function p(y,v,S,A,w){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return y=y.get(S)||null,u(v,y,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ur:return y=y.get(A.key===null?S:A.key)||null,c(v,y,A,w);case ys:return y=y.get(A.key===null?S:A.key)||null,f(v,y,A,w);case Bn:var _=A._init;return A=_(A._payload),p(y,v,S,A,w)}if(vs(A)||ls(A))return y=y.get(S)||null,d(v,y,A,w,null);if(typeof A.then=="function")return p(y,v,S,Hr(A),w);if(A.$$typeof===gn)return p(y,v,S,Br(v,A),w);Fr(v,A)}return null}function g(y,v,S,A){for(var w=null,_=null,N=v,C=v=0,E=null;N!==null&&C<S.length;C++){N.index>C?(E=N,N=null):E=N.sibling;var D=m(y,N,S[C],A);if(D===null){N===null&&(N=E);break}t&&N&&D.alternate===null&&e(y,N),v=s(D,v,C),_===null?w=D:_.sibling=D,_=D,N=E}if(C===S.length)return n(y,N),ne&&Ti(y,C),w;if(N===null){for(;C<S.length;C++)N=h(y,S[C],A),N!==null&&(v=s(N,v,C),_===null?w=N:_.sibling=N,_=N);return ne&&Ti(y,C),w}for(N=i(N);C<S.length;C++)E=p(N,y,C,S[C],A),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?C:E.key),v=s(E,v,C),_===null?w=E:_.sibling=E,_=E);return t&&N.forEach(function(b){return e(y,b)}),ne&&Ti(y,C),w}function T(y,v,S,A){if(S==null)throw Error(F(151));for(var w=null,_=null,N=v,C=v=0,E=null,D=S.next();N!==null&&!D.done;C++,D=S.next()){N.index>C?(E=N,N=null):E=N.sibling;var b=m(y,N,D.value,A);if(b===null){N===null&&(N=E);break}t&&N&&b.alternate===null&&e(y,N),v=s(b,v,C),_===null?w=b:_.sibling=b,_=b,N=E}if(D.done)return n(y,N),ne&&Ti(y,C),w;if(N===null){for(;!D.done;C++,D=S.next())D=h(y,D.value,A),D!==null&&(v=s(D,v,C),_===null?w=D:_.sibling=D,_=D);return ne&&Ti(y,C),w}for(N=i(N);!D.done;C++,D=S.next())D=p(N,y,C,D.value,A),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?C:D.key),v=s(D,v,C),_===null?w=D:_.sibling=D,_=D);return t&&N.forEach(function(I){return e(y,I)}),ne&&Ti(y,C),w}function R(y,v,S,A){if(typeof S=="object"&&S!==null&&S.type===ji&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ur:e:{for(var w=S.key;v!==null;){if(v.key===w){if(w=S.type,w===ji){if(v.tag===7){n(y,v.sibling),A=o(v,S.props.children),A.return=y,y=A;break e}}else if(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Bn&&Gh(w)===v.type){n(y,v.sibling),A=o(v,S.props),fs(A,S),A.return=y,y=A;break e}n(y,v);break}else e(y,v);v=v.sibling}S.type===ji?(A=_i(S.props.children,y.mode,A,S.key),A.return=y,y=A):(A=il(S.type,S.key,S.props,null,y.mode,A),fs(A,S),A.return=y,y=A)}return r(y);case ys:e:{for(w=S.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(y,v.sibling),A=o(v,S.children||[]),A.return=y,y=A;break e}else{n(y,v);break}else e(y,v);v=v.sibling}A=Qa(S,y.mode,A),A.return=y,y=A}return r(y);case Bn:return w=S._init,S=w(S._payload),R(y,v,S,A)}if(vs(S))return g(y,v,S,A);if(ls(S)){if(w=ls(S),typeof w!="function")throw Error(F(150));return S=w.call(S),T(y,v,S,A)}if(typeof S.then=="function")return R(y,v,Hr(S),A);if(S.$$typeof===gn)return R(y,v,Br(y,S),A);Fr(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,v!==null&&v.tag===6?(n(y,v.sibling),A=o(v,S),A.return=y,y=A):(n(y,v),A=$a(S,y.mode,A),A.return=y,y=A),r(y)):n(y,v)}return function(y,v,S,A){try{$s=0;var w=R(y,v,S,A);return Mo=null,w}catch(N){if(N===vr||N===va)throw N;var _=Et(29,N,null,y.mode);return _.lanes=A,_.return=y,_}finally{}}}var ko=Ov(!0),Yv=Ov(!1),Ft=an(null),on=null;function Fn(t){var e=t.alternate;Ae(Fe,Fe.current&1),Ae(Ft,t),on===null&&(e===null||Vo.current!==null||e.memoizedState!==null)&&(on=t)}function Kv(t){if(t.tag===22){if(Ae(Fe,Fe.current),Ae(Ft,t),on===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(on=t)}}else qn()}function qn(){Ae(Fe,Fe.current),Ae(Ft,Ft.current)}function Sn(t){Ke(Ft),on===t&&(on=null),Ke(Fe)}var Fe=an(0);function Pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Mc(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ja(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=_t(),o=Qn(i);o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(Rt(e,t,i),ws(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=_t(),o=Qn(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(Rt(e,t,i),ws(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),i=Qn(n);i.tag=2,e!=null&&(i.callback=e),e=Zn(t,i,n),e!==null&&(Rt(e,t,n),ws(e,t,n))}};function Hh(t,e,n,i,o,s,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,r):e.prototype&&e.prototype.isPureReactComponent?!Ks(n,i)||!Ks(o,s):!0}function Fh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function ki(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ye({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}var Vl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jv(t){Vl(t)}function Xv(t){console.error(t)}function $v(t){Vl(t)}function Ll(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function qh(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function cc(t,e,n){return n=Qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ll(t,e)},n}function Qv(t){return t=Qn(t),t.tag=3,t}function Zv(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var s=i.value;t.payload=function(){return o(s)},t.callback=function(){qh(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){qh(e,n,i),typeof o!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function MA(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&gr(e,n,o,!0),n=Ft.current,n!==null){switch(n.tag){case 13:return on===null?vc():n.alternate===null&&De===0&&(De=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===nc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),cu(t,i,o)),!1;case 22:return n.flags|=65536,i===nc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),cu(t,i,o)),!1}throw Error(F(435,n.tag))}return cu(t,i,o),vc(),!1}if(ne)return e=Ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==Zu&&(t=Error(F(422),{cause:i}),Js(kt(t,n)))):(i!==Zu&&(e=Error(F(423),{cause:i}),Js(kt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=kt(i,n),o=cc(t.stateNode,i,o),Za(t,o),De!==4&&(De=2)),!1;var s=Error(F(520),{cause:i});if(s=kt(s,n),Ps===null?Ps=[s]:Ps.push(s),De!==4&&(De=2),e===null)return!0;i=kt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=cc(n.stateNode,i,t),Za(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Wn===null||!Wn.has(s))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Qv(o),Zv(o,t,n,i),Za(n,o),!1}n=n.return}while(n!==null);return!1}var Wv=Error(F(461)),Ye=!1;function $e(t,e,n,i){e.child=t===null?Yv(e,null,n,i):ko(e,t.child,n,i)}function zh(t,e,n,i,o){n=n.render;var s=e.ref;if("ref"in i){var r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}else r=i;return Vi(e),i=Bf(t,e,n,r,s,o),u=Gf(),t!==null&&!Ye?(Hf(t,e,o),Mn(t,e,o)):(ne&&u&&bf(e),e.flags|=1,$e(t,e,i,o),e.child)}function Oh(t,e,n,i,o){if(t===null){var s=n.type;return typeof s=="function"&&!Nf(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,jv(t,e,s,i,o)):(t=il(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!$f(t,o)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(r,i)&&t.ref===e.ref)return Mn(t,e,o)}return e.flags|=1,t=Cn(s,i),t.ref=e.ref,t.return=e,e.child=t}function jv(t,e,n,i,o){if(t!==null){var s=t.memoizedProps;if(Ks(s,i)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=i=s,$f(t,o))t.flags&131072&&(Ye=!0);else return e.lanes=t.lanes,Mn(t,e,o)}return fc(t,e,n,i,o)}function e0(t,e,n){var i=e.pendingProps,o=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=s!==null?s.baseLanes|n:n,t!==null){for(o=e.child=t.child,s=0;o!==null;)s=s|o.lanes|o.childLanes,o=o.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return Yh(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ol(e,s!==null?s.cachePool:null),s!==null?Ih(e,s):sc(),Kv(e);else return e.lanes=e.childLanes=536870912,Yh(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(ol(e,s.cachePool),Ih(e,s),qn(),e.memoizedState=null):(t!==null&&ol(e,null),sc(),qn());return $e(t,e,o,n),e.child}function Yh(t,e,n,i){var o=Pf();return o=o===null?null:{parent:He._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&ol(e,null),sc(),Kv(e),t!==null&&gr(t,e,i,!0),null}function ll(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function fc(t,e,n,i,o){return Vi(e),n=Bf(t,e,n,i,void 0,o),i=Gf(),t!==null&&!Ye?(Hf(t,e,o),Mn(t,e,o)):(ne&&i&&bf(e),e.flags|=1,$e(t,e,n,o),e.child)}function Kh(t,e,n,i,o,s){return Vi(e),e.updateQueue=null,n=hv(e,i,n,o),dv(t),i=Gf(),t!==null&&!Ye?(Hf(t,e,s),Mn(t,e,s)):(ne&&i&&bf(e),e.flags|=1,$e(t,e,n,s),e.child)}function Jh(t,e,n,i,o){if(Vi(e),e.stateNode===null){var s=lo,r=n.contextType;typeof r=="object"&&r!==null&&(s=nt(r)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=uc,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Vf(e),r=n.contextType,s.context=typeof r=="object"&&r!==null?nt(r):lo,s.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(ja(e,n,r,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&uc.enqueueReplaceState(s,s.state,null),Ns(e,i,s,o),Ds(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var u=e.memoizedProps,c=ki(n,u);s.props=c;var f=s.context,d=n.contextType;r=lo,typeof d=="object"&&d!==null&&(r=nt(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u||f!==r)&&Fh(e,s,i,r),Gn=!1;var m=e.memoizedState;s.state=m,Ns(e,i,s,o),Ds(),f=e.memoizedState,u||m!==f||Gn?(typeof h=="function"&&(ja(e,n,h,i),f=e.memoizedState),(c=Gn||Hh(e,n,c,i,m,f,r))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),s.props=i,s.state=f,s.context=r,i=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,ic(t,e),r=e.memoizedProps,d=ki(n,r),s.props=d,h=e.pendingProps,m=s.context,f=n.contextType,c=lo,typeof f=="object"&&f!==null&&(c=nt(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==h||m!==c)&&Fh(e,s,i,c),Gn=!1,m=e.memoizedState,s.state=m,Ns(e,i,s,o),Ds();var p=e.memoizedState;r!==h||m!==p||Gn||t!==null&&t.dependencies!==null&&Dl(t.dependencies)?(typeof u=="function"&&(ja(e,n,u,i),p=e.memoizedState),(d=Gn||Hh(e,n,d,i,m,p,c)||t!==null&&t.dependencies!==null&&Dl(t.dependencies))?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=c,i=d):(typeof s.componentDidUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,ll(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,n,o)):$e(t,e,n,o),e.memoizedState=s.state,t=e.child):t=Mn(t,e,o),t}function Xh(t,e,n,i){return pr(),e.flags|=256,$e(t,e,n,i),e.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(t){return{baseLanes:t,cachePool:lv()}}function nu(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Bt),t}function t0(t,e,n){var i=e.pendingProps,o=!1,s=(e.flags&128)!==0,r;if((r=s)||(r=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),r&&(o=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(o?Fn(e):qn(),ne){var u=we,c;if(c=u){e:{for(c=u,u=jt;c.nodeType!==8;){if(!u){u=null;break e}if(c=Jt(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:Ri!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},c=Et(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,lt=e,we=null,c=!0):c=!1}c||Pi(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Mc(u)?e.lanes=32:e.lanes=536870912,null;Sn(e)}return u=i.children,i=i.fallback,o?(qn(),o=e.mode,u=kl({mode:"hidden",children:u},o),i=_i(i,o,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,o=e.child,o.memoizedState=tu(n),o.childLanes=nu(t,r,n),e.memoizedState=eu,i):(Fn(e),dc(e,u))}if(c=t.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(s)e.flags&256?(Fn(e),e.flags&=-257,e=iu(t,e,n)):e.memoizedState!==null?(qn(),e.child=t.child,e.flags|=128,e=null):(qn(),o=i.fallback,u=e.mode,i=kl({mode:"visible",children:i.children},u),o=_i(o,u,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,ko(e,t.child,null,n),i=e.child,i.memoizedState=tu(n),i.childLanes=nu(t,r,n),e.memoizedState=eu,e=o);else if(Fn(e),Mc(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var f=r.dgst;r=f,i=Error(F(419)),i.stack="",i.digest=r,Js({value:i,source:null,stack:null}),e=iu(t,e,n)}else if(Ye||gr(t,e,n,!1),r=(n&t.childLanes)!==0,Ye||r){if(r=de,r!==null&&(i=n&-n,i=i&42?1:Tf(i),i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,Jo(t,i),Rt(r,t,i),Wv;u.data==="$?"||vc(),e=iu(t,e,n)}else u.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,we=Jt(u.nextSibling),lt=e,ne=!0,wi=null,jt=!1,t!==null&&(Pt[Vt++]=yn,Pt[Vt++]=vn,Pt[Vt++]=Ri,yn=t.id,vn=t.overflow,Ri=e),e=dc(e,i.children),e.flags|=4096);return e}return o?(qn(),o=i.fallback,u=e.mode,c=t.child,f=c.sibling,i=Cn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?o=Cn(f,o):(o=_i(o,u,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,u=t.child.memoizedState,u===null?u=tu(n):(c=u.cachePool,c!==null?(f=He._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=lv(),u={baseLanes:u.baseLanes|n,cachePool:c}),o.memoizedState=u,o.childLanes=nu(t,r,n),e.memoizedState=eu,i):(Fn(e),n=t.child,t=n.sibling,n=Cn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function dc(t,e){return e=kl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function kl(t,e){return t=Et(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function iu(t,e,n){return ko(e,t.child,null,n),t=dc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $h(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ju(t.return,e,n)}function ou(t,e,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function n0(t,e,n){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if($e(t,e,i.children,n),i=Fe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$h(t,n,e);else if(t.tag===19)$h(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Ae(Fe,i),o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Pl(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ou(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Pl(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ou(e,!0,n,null,s);break;case"together":ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))if(t!==null){if(gr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $f(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Dl(t)))}function _A(t,e,n){switch(e.tag){case 3:Cl(e,e.stateNode.containerInfo),Hn(e,He,t.memoizedState.cache),pr();break;case 27:case 5:Fu(e);break;case 4:Cl(e,e.stateNode.containerInfo);break;case 10:Hn(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Fn(e),e.flags|=128,null):n&e.child.childLanes?t0(t,e,n):(Fn(e),t=Mn(t,e,n),t!==null?t.sibling:null);Fn(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(gr(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return n0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ae(Fe,Fe.current),i)break;return null;case 22:case 23:return e.lanes=0,e0(t,e,n);case 24:Hn(e,He,t.memoizedState.cache)}return Mn(t,e,n)}function i0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ye=!0;else{if(!$f(t,n)&&!(e.flags&128))return Ye=!1,_A(t,e,n);Ye=!!(t.flags&131072)}else Ye=!1,ne&&e.flags&1048576&&sv(e,wl,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,o=i._init;if(i=o(i._payload),e.type=i,typeof i=="function")Nf(i)?(t=ki(i,t),e.tag=1,e=Jh(null,e,i,t,n)):(e.tag=0,e=fc(null,e,i,t,n));else{if(i!=null){if(o=i.$$typeof,o===gf){e.tag=11,e=zh(null,e,i,t,n);break e}else if(o===yf){e.tag=14,e=Oh(null,e,i,t,n);break e}}throw e=Gu(i)||i,Error(F(306,e,""))}}return e;case 0:return fc(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=ki(i,e.pendingProps),Jh(t,e,i,o,n);case 3:e:{if(Cl(e,e.stateNode.containerInfo),t===null)throw Error(F(387));i=e.pendingProps;var s=e.memoizedState;o=s.element,ic(t,e),Ns(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Hn(e,He,i),i!==s.cache&&ec(e,[He],n,!0),Ds(),i=r.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Xh(t,e,i,n);break e}else if(i!==o){o=kt(Error(F(424)),e),Js(o),e=Xh(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=Jt(t.firstChild),lt=e,ne=!0,wi=null,jt=!0,n=Yv(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pr(),i===o){e=Mn(t,e,n);break e}$e(t,e,i,n)}e=e.child}return e;case 26:return ll(t,e),t===null?(n=dm(e.type,null,e.pendingProps,null))?e.memoizedState=n:ne||(n=e.type,t=e.pendingProps,i=Ol($n.current).createElement(n),i[tt]=e,i[gt]=t,Ze(i,n,t),Oe(i),e.stateNode=i):e.memoizedState=dm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Fu(e),t===null&&ne&&(i=e.stateNode=z0(e.type,e.pendingProps,$n.current),lt=e,jt=!0,o=we,ui(e.type)?(_c=o,we=Jt(i.firstChild)):we=o),$e(t,e,e.pendingProps.children,n),ll(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((o=i=we)&&(i=eE(i,e.type,e.pendingProps,jt),i!==null?(e.stateNode=i,lt=e,we=Jt(i.firstChild),jt=!1,o=!0):o=!1),o||Pi(e)),Fu(e),o=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,i=s.children,Ec(o,s)?i=null:r!==null&&Ec(o,r)&&(e.flags|=32),e.memoizedState!==null&&(o=Bf(t,e,vA,null,null,n),js._currentValue=o),ll(t,e),$e(t,e,i,n),e.child;case 6:return t===null&&ne&&((t=n=we)&&(n=tE(n,e.pendingProps,jt),n!==null?(e.stateNode=n,lt=e,we=null,t=!0):t=!1),t||Pi(e)),null;case 13:return t0(t,e,n);case 4:return Cl(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ko(e,null,i,n):$e(t,e,i,n),e.child;case 11:return zh(t,e,e.type,e.pendingProps,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Hn(e,e.type,i.value),$e(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,Vi(e),o=nt(o),i=i(o),e.flags|=1,$e(t,e,i,n),e.child;case 14:return Oh(t,e,e.type,e.pendingProps,n);case 15:return jv(t,e,e.type,e.pendingProps,n);case 19:return n0(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=kl(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Cn(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return e0(t,e,n);case 24:return Vi(e),i=nt(He),t===null?(o=Pf(),o===null&&(o=de,s=Uf(),o.pooledCache=s,s.refCount++,s!==null&&(o.pooledCacheLanes|=n),o=s),e.memoizedState={parent:i,cache:o},Vf(e),Hn(e,He,o)):(t.lanes&n&&(ic(t,e),Ns(e,null,null,n),Ds()),o=t.memoizedState,s=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Hn(e,He,i)):(i=s.cache,Hn(e,He,i),i!==o.cache&&ec(e,[He],n,!0))),$e(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(F(156,e.tag))}function hn(t){t.flags|=4}function Qh(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!K0(e)){if(e=Ft.current,e!==null&&((te&4194048)===te?on!==null:(te&62914560)!==te&&!(te&536870912)||e!==on))throw Rs=nc,av;t.flags|=8192}}function qr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Dy():536870912,t.lanes|=e,Bo|=e)}function ds(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function RA(t,e,n){var i=e.pendingProps;switch(If(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return xe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),An(He),bo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(cs(e)?hn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_h())),xe(e),null;case 26:return n=e.memoizedState,t===null?(hn(e),n!==null?(xe(e),Qh(e,n)):(xe(e),e.flags&=-16777217)):n?n!==t.memoizedState?(hn(e),xe(e),Qh(e,n)):(xe(e),e.flags&=-16777217):(t.memoizedProps!==i&&hn(e),xe(e),e.flags&=-16777217),null;case 27:Al(e),n=$n.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&hn(e);else{if(!i){if(e.stateNode===null)throw Error(F(166));return xe(e),null}t=tn.current,cs(e)?xh(e):(t=z0(o,i,n),e.stateNode=t,hn(e))}return xe(e),null;case 5:if(Al(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&hn(e);else{if(!i){if(e.stateNode===null)throw Error(F(166));return xe(e),null}if(t=tn.current,cs(e))xh(e);else{switch(o=Ol($n.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?o.createElement(n,{is:i.is}):o.createElement(n)}}t[tt]=e,t[gt]=i;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;e:switch(Ze(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&hn(e)}}return xe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&hn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(t=$n.current,cs(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=lt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[tt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||H0(t.nodeValue,n)),t||Pi(e)}else t=Ol(t).createTextNode(i),t[tt]=e,e.stateNode=t}return xe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=cs(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[tt]=e}else pr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),o=!1}else o=_h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(Sn(e),e):(Sn(e),null)}if(Sn(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),qr(e,e.updateQueue),xe(e),null;case 4:return bo(),t===null&&id(e.stateNode.containerInfo),xe(e),null;case 10:return An(e.type),xe(e),null;case 19:if(Ke(Fe),o=e.memoizedState,o===null)return xe(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)ds(o,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Pl(t),s!==null){for(e.flags|=128,ds(o,!1),t=s.updateQueue,e.updateQueue=t,qr(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ov(n,t),n=n.sibling;return Ae(Fe,Fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&nn()>Gl&&(e.flags|=128,i=!0,ds(o,!1),e.lanes=4194304)}else{if(!i)if(t=Pl(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,qr(e,t),ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ne)return xe(e),null}else 2*nn()-o.renderingStartTime>Gl&&n!==536870912&&(e.flags|=128,i=!0,ds(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,t=Fe.current,Ae(Fe,i?t&1|2:t&1),e):(xe(e),null);case 22:case 23:return Sn(e),Lf(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),n=e.updateQueue,n!==null&&qr(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ke(Di),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),An(He),xe(e),null;case 25:return null;case 30:return null}throw Error(F(156,e.tag))}function wA(t,e){switch(If(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return An(He),bo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Al(e),null;case 13:if(Sn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));pr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Fe),null;case 4:return bo(),null;case 10:return An(e.type),null;case 22:case 23:return Sn(e),Lf(),t!==null&&Ke(Di),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return An(He),null;case 25:return null;default:return null}}function o0(t,e){switch(If(e),e.tag){case 3:An(He),bo();break;case 26:case 27:case 5:Al(e);break;case 4:bo();break;case 13:Sn(e);break;case 19:Ke(Fe);break;case 10:An(e.type);break;case 22:case 23:Sn(e),Lf(),t!==null&&Ke(Di);break;case 24:An(He)}}function Cr(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var s=n.create,r=n.inst;i=s(),r.destroy=i}n=n.next}while(n!==o)}}catch(u){fe(e,e.return,u)}}function oi(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var s=o.next;i=s;do{if((i.tag&t)===t){var r=i.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,o=e;var c=n,f=u;try{f()}catch(d){fe(o,c,d)}}}i=i.next}while(i!==s)}}catch(d){fe(e,e.return,d)}}function s0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{fv(e,n)}catch(i){fe(t,t.return,i)}}}function r0(t,e,n){n.props=ki(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){fe(t,e,i)}}function Is(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){fe(t,e,o)}}function en(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){fe(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){fe(t,e,o)}else n.current=null}function l0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){fe(t,t.return,o)}}function su(t,e,n){try{var i=t.stateNode;$A(i,t.type,n,e),i[gt]=e}catch(o){fe(t,t.return,o)}}function a0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ui(t.type)||t.tag===4}function ru(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ma));else if(i!==4&&(i===27&&ui(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(hc(t,e,n),t=t.sibling;t!==null;)hc(t,e,n),t=t.sibling}function Bl(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&ui(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bl(t,e,n),t=t.sibling;t!==null;)Bl(t,e,n),t=t.sibling}function u0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Ze(e,i,n),e[tt]=t,e[gt]=n}catch(s){fe(t,t.return,s)}}var pn=!1,Ue=!1,lu=!1,Zh=typeof WeakSet=="function"?WeakSet:Set,ze=null;function DA(t,e){if(t=t.containerInfo,Cc=Xl,t=Qy(t),Rf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,f=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||o!==0&&h.nodeType!==3||(u=r+o),h!==s||i!==0&&h.nodeType!==3||(c=r+i),h.nodeType===3&&(r+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++f===o&&(u=r),m===s&&++d===i&&(c=r),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ac={focusedElem:t,selectionRange:n},Xl=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,o=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var g=ki(n.type,o,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(g,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(T){fe(n,n.return,T)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)xc(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(F(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function c0(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(t,n),i&4&&Cr(5,n);break;case 1:if(Vn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){fe(n,n.return,r)}else{var o=ki(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){fe(n,n.return,r)}}i&64&&s0(n),i&512&&Is(n,n.return);break;case 3:if(Vn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{fv(t,e)}catch(r){fe(n,n.return,r)}}break;case 27:e===null&&i&4&&u0(n);case 26:case 5:Vn(t,n),e===null&&i&4&&l0(n),i&512&&Is(n,n.return);break;case 12:Vn(t,n);break;case 13:Vn(t,n),i&4&&h0(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=BA.bind(null,n),nE(t,n))));break;case 22:if(i=n.memoizedState!==null||pn,!i){e=e!==null&&e.memoizedState!==null||Ue,o=pn;var s=Ue;pn=i,(Ue=e)&&!s?Ln(t,n,(n.subtreeFlags&8772)!==0):Vn(t,n),pn=o,Ue=s}break;case 30:break;default:Vn(t,n)}}function f0(t){var e=t.alternate;e!==null&&(t.alternate=null,f0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Cf(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,dt=!1;function mn(t,e,n){for(n=n.child;n!==null;)d0(t,e,n),n=n.sibling}function d0(t,e,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(cr,n)}catch{}switch(n.tag){case 26:Ue||en(n,e),mn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ue||en(n,e);var i=Se,o=dt;ui(n.type)&&(Se=n.stateNode,dt=!1),mn(t,e,n),Ls(n.stateNode),Se=i,dt=o;break;case 5:Ue||en(n,e);case 6:if(i=Se,o=dt,Se=null,mn(t,e,n),Se=i,dt=o,Se!==null)if(dt)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(n.stateNode)}catch(s){fe(n,e,s)}else try{Se.removeChild(n.stateNode)}catch(s){fe(n,e,s)}break;case 18:Se!==null&&(dt?(t=Se,um(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),nr(t)):um(Se,n.stateNode));break;case 4:i=Se,o=dt,Se=n.stateNode.containerInfo,dt=!0,mn(t,e,n),Se=i,dt=o;break;case 0:case 11:case 14:case 15:Ue||oi(2,n,e),Ue||oi(4,n,e),mn(t,e,n);break;case 1:Ue||(en(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&r0(n,e,i)),mn(t,e,n);break;case 21:mn(t,e,n);break;case 22:Ue=(i=Ue)||n.memoizedState!==null,mn(t,e,n),Ue=i;break;default:mn(t,e,n)}}function h0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nr(t)}catch(n){fe(e,e.return,n)}}function NA(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Zh),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Zh),e;default:throw Error(F(435,t.tag))}}function au(t,e){var n=NA(t);e.forEach(function(i){var o=GA.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],s=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(ui(u.type)){Se=u.stateNode,dt=!1;break e}break;case 5:Se=u.stateNode,dt=!1;break e;case 3:case 4:Se=u.stateNode.containerInfo,dt=!0;break e}u=u.return}if(Se===null)throw Error(F(160));d0(s,r,o),Se=null,dt=!1,s=o.alternate,s!==null&&(s.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)m0(e,t),e=e.sibling}var Kt=null;function m0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:St(e,t),Ct(t),i&4&&(oi(3,t,t.return),Cr(3,t),oi(5,t,t.return));break;case 1:St(e,t),Ct(t),i&512&&(Ue||n===null||en(n,n.return)),i&64&&pn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Kt;if(St(e,t),Ct(t),i&512&&(Ue||n===null||en(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":s=o.getElementsByTagName("title")[0],(!s||s[hr]||s[tt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=o.createElement(i),o.head.insertBefore(s,o.querySelector("head > title"))),Ze(s,i,n),s[tt]=t,Oe(s),i=s;break e;case"link":var r=mm("link","href",o).get(i+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(s=r[u],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}s=o.createElement(i),Ze(s,i,n),o.head.appendChild(s);break;case"meta":if(r=mm("meta","content",o).get(i+(n.content||""))){for(u=0;u<r.length;u++)if(s=r[u],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}s=o.createElement(i),Ze(s,i,n),o.head.appendChild(s);break;default:throw Error(F(468,i))}s[tt]=t,Oe(s),i=s}t.stateNode=i}else pm(o,t.type,t.stateNode);else t.stateNode=hm(o,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?pm(o,t.type,t.stateNode):hm(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&su(t,t.memoizedProps,n.memoizedProps)}break;case 27:St(e,t),Ct(t),i&512&&(Ue||n===null||en(n,n.return)),n!==null&&i&4&&su(t,t.memoizedProps,n.memoizedProps);break;case 5:if(St(e,t),Ct(t),i&512&&(Ue||n===null||en(n,n.return)),t.flags&32){o=t.stateNode;try{Uo(o,"")}catch(p){fe(t,t.return,p)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,su(t,o,n!==null?n.memoizedProps:o)),i&1024&&(lu=!0);break;case 6:if(St(e,t),Ct(t),i&4){if(t.stateNode===null)throw Error(F(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){fe(t,t.return,p)}}break;case 3:if(cl=null,o=Kt,Kt=Yl(e.containerInfo),St(e,t),Kt=o,Ct(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{nr(e.containerInfo)}catch(p){fe(t,t.return,p)}lu&&(lu=!1,p0(t));break;case 4:i=Kt,Kt=Yl(t.stateNode.containerInfo),St(e,t),Ct(t),Kt=i;break;case 12:St(e,t),Ct(t);break;case 13:St(e,t),Ct(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ed=nn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,au(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=pn,d=Ue;if(pn=f||o,Ue=d||c,St(e,t),Ue=d,pn=f,Ct(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||pn||Ue||Si(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,o)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;u.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(p){fe(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(p){fe(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,au(t,n))));break;case 19:St(e,t),Ct(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,au(t,i)));break;case 30:break;case 21:break;default:St(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(a0(i)){n=i;break}i=i.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var o=n.stateNode,s=ru(t);Bl(t,s,o);break;case 5:var r=n.stateNode;n.flags&32&&(Uo(r,""),n.flags&=-33);var u=ru(t);Bl(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,f=ru(t);hc(t,f,c);break;default:throw Error(F(161))}}catch(d){fe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;p0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Vn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)c0(t,e.alternate,e),e=e.sibling}function Si(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:oi(4,e,e.return),Si(e);break;case 1:en(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&r0(e,e.return,n),Si(e);break;case 27:Ls(e.stateNode);case 26:case 5:en(e,e.return),Si(e);break;case 22:e.memoizedState===null&&Si(e);break;case 30:Si(e);break;default:Si(e)}t=t.sibling}}function Ln(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,s=e,r=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(o,s,n),Cr(4,s);break;case 1:if(Ln(o,s,n),i=s,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){fe(i,i.return,f)}if(i=s,o=i.updateQueue,o!==null){var u=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)cv(c[o],u)}catch(f){fe(i,i.return,f)}}n&&r&64&&s0(s),Is(s,s.return);break;case 27:u0(s);case 26:case 5:Ln(o,s,n),n&&i===null&&r&4&&l0(s),Is(s,s.return);break;case 12:Ln(o,s,n);break;case 13:Ln(o,s,n),n&&r&4&&h0(o,s);break;case 22:s.memoizedState===null&&Ln(o,s,n),Is(s,s.return);break;case 30:break;default:Ln(o,s,n)}e=e.sibling}}function Qf(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&yr(n))}function Zf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&yr(t))}function Zt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)g0(t,e,n,i),e=e.sibling}function g0(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Zt(t,e,n,i),o&2048&&Cr(9,e);break;case 1:Zt(t,e,n,i);break;case 3:Zt(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&yr(t)));break;case 12:if(o&2048){Zt(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,r=s.id,u=s.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){fe(e,e.return,c)}}else Zt(t,e,n,i);break;case 13:Zt(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,r=e.alternate,e.memoizedState!==null?s._visibility&2?Zt(t,e,n,i):Us(t,e):s._visibility&2?Zt(t,e,n,i):(s._visibility|=2,Zi(t,e,n,i,(e.subtreeFlags&10256)!==0)),o&2048&&Qf(r,e);break;case 24:Zt(t,e,n,i),o&2048&&Zf(e.alternate,e);break;default:Zt(t,e,n,i)}}function Zi(t,e,n,i,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,r=e,u=n,c=i,f=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(s,r,u,c,o),Cr(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Zi(s,r,u,c,o):Us(s,r):(d._visibility|=2,Zi(s,r,u,c,o)),o&&f&2048&&Qf(r.alternate,r);break;case 24:Zi(s,r,u,c,o),o&&f&2048&&Zf(r.alternate,r);break;default:Zi(s,r,u,c,o)}e=e.sibling}}function Us(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:Us(n,i),o&2048&&Qf(i.alternate,i);break;case 24:Us(n,i),o&2048&&Zf(i.alternate,i);break;default:Us(n,i)}e=e.sibling}}var Ss=8192;function Ji(t){if(t.subtreeFlags&Ss)for(t=t.child;t!==null;)y0(t),t=t.sibling}function y0(t){switch(t.tag){case 26:Ji(t),t.flags&Ss&&t.memoizedState!==null&&pE(Kt,t.memoizedState,t.memoizedProps);break;case 5:Ji(t);break;case 3:case 4:var e=Kt;Kt=Yl(t.stateNode.containerInfo),Ji(t),Kt=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ss,Ss=16777216,Ji(t),Ss=e):Ji(t));break;default:Ji(t)}}function v0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function hs(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ze=i,S0(i,t)}v0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T0(t),t=t.sibling}function T0(t){switch(t.tag){case 0:case 11:case 15:hs(t),t.flags&2048&&oi(9,t,t.return);break;case 3:hs(t);break;case 12:hs(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,al(t)):hs(t);break;default:hs(t)}}function al(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ze=i,S0(i,t)}v0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:oi(8,e,e.return),al(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,al(e));break;default:al(e)}t=t.sibling}}function S0(t,e){for(;ze!==null;){var n=ze;switch(n.tag){case 0:case 11:case 15:oi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:yr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ze=i;else e:for(n=t;ze!==null;){i=ze;var o=i.sibling,s=i.return;if(f0(i),i===n){ze=null;break e}if(o!==null){o.return=s,ze=o;break e}ze=s}}}var bA={getCacheForType:function(t){var e=nt(He),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},IA=typeof WeakMap=="function"?WeakMap:Map,le=0,de=null,ee=null,te=0,re=0,At=null,Kn=!1,Xo=!1,Wf=!1,_n=0,De=0,si=0,Ni=0,jf=0,Bt=0,Bo=0,Ps=null,ht=null,mc=!1,ed=0,Gl=1/0,Hl=null,Wn=null,Qe=0,jn=null,Go=null,_o=0,pc=0,gc=null,C0=null,Vs=0,yc=null;function _t(){if(le&2&&te!==0)return te&-te;if($.T!==null){var t=Po;return t!==0?t:nd()}return Iy()}function A0(){Bt===0&&(Bt=!(te&536870912)||ne?wy():536870912);var t=Ft.current;return t!==null&&(t.flags|=32),Bt}function Rt(t,e,n){(t===de&&(re===2||re===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Jn(t,te,Bt,!1)),dr(t,n),(!(le&2)||t!==de)&&(t===de&&(!(le&2)&&(Ni|=n),De===4&&Jn(t,te,Bt,!1)),un(t))}function E0(t,e,n){if(le&6)throw Error(F(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||fr(t,e),o=i?VA(t,e):uu(t,e,!0),s=i;do{if(o===0){Xo&&!i&&Jn(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!UA(n)){o=uu(t,e,!1),s=!1;continue}if(o===2){if(s=e,t.errorRecoveryDisabledLanes&s)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;o=Ps;var c=u.current.memoizedState.isDehydrated;if(c&&(Ho(u,r).flags|=256),r=uu(u,r,!1),r!==2){if(Wf&&!c){u.errorRecoveryDisabledLanes|=s,Ni|=s,o=4;break e}s=ht,ht=o,s!==null&&(ht===null?ht=s:ht.push.apply(ht,s))}o=r}if(s=!1,o!==2)continue}}if(o===1){Ho(t,0),Jn(t,e,0,!0);break}e:{switch(i=t,s=o,s){case 0:case 1:throw Error(F(345));case 4:if((e&4194048)!==e)break;case 6:Jn(i,e,Bt,!Kn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(F(329))}if((e&62914560)===e&&(o=ed+300-nn(),10<o)){if(Jn(i,e,Bt,!Kn),da(i,0,!0)!==0)break e;i.timeoutHandle=q0(Wh.bind(null,i,n,ht,Hl,mc,e,Bt,Ni,Bo,Kn,s,2,-0,0),o);break e}Wh(i,n,ht,Hl,mc,e,Bt,Ni,Bo,Kn,s,0,-0,0)}}break}while(!0);un(t)}function Wh(t,e,n,i,o,s,r,u,c,f,d,h,m,p){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Ws={stylesheets:null,count:0,unsuspend:mE},y0(e),h=gE(),h!==null)){t.cancelPendingCommit=h(em.bind(null,t,e,s,n,i,o,r,u,c,d,1,m,p)),Jn(t,s,r,!f);return}em(t,e,s,n,i,o,r,u,c)}function UA(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!wt(s(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e,n,i){e&=~jf,e&=~Ni,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var s=31-Mt(o),r=1<<s;i[s]=-1,o&=~r}n!==0&&Ny(t,n,e)}function Aa(){return le&6?!0:(Ar(0),!1)}function td(){if(ee!==null){if(re===0)var t=ee.return;else t=ee,Tn=zi=null,Ff(t),Mo=null,$s=0,t=ee;for(;t!==null;)o0(t.alternate,t),t=t.return;ee=null}}function Ho(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,ZA(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),td(),de=t,ee=n=Cn(t.current,null),te=e,re=0,At=null,Kn=!1,Xo=fr(t,e),Wf=!1,Bo=Bt=jf=Ni=si=De=0,ht=Ps=null,mc=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-Mt(i),s=1<<o;e|=t[o],i&=~s}return _n=e,ga(),n}function x0(t,e){W=null,$.H=Ul,e===vr||e===va?(e=Nh(),re=3):e===av?(e=Nh(),re=4):re=e===Wv?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,At=e,ee===null&&(De=1,Ll(t,kt(e,t.current)))}function M0(){var t=$.H;return $.H=Ul,t===null?Ul:t}function _0(){var t=$.A;return $.A=bA,t}function vc(){De=4,Kn||(te&4194048)!==te&&Ft.current!==null||(Xo=!0),!(si&134217727)&&!(Ni&134217727)||de===null||Jn(de,te,Bt,!1)}function uu(t,e,n){var i=le;le|=2;var o=M0(),s=_0();(de!==t||te!==e)&&(Hl=null,Ho(t,e)),e=!1;var r=De;e:do try{if(re!==0&&ee!==null){var u=ee,c=At;switch(re){case 8:td(),r=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(e=!0);var f=re;if(re=0,At=null,co(t,u,c,f),n&&Xo){r=0;break e}break;default:f=re,re=0,At=null,co(t,u,c,f)}}PA(),r=De;break}catch(d){x0(t,d)}while(!0);return e&&t.shellSuspendCounter++,Tn=zi=null,le=i,$.H=o,$.A=s,ee===null&&(de=null,te=0,ga()),r}function PA(){for(;ee!==null;)R0(ee)}function VA(t,e){var n=le;le|=2;var i=M0(),o=_0();de!==t||te!==e?(Hl=null,Gl=nn()+500,Ho(t,e)):Xo=fr(t,e);e:do try{if(re!==0&&ee!==null){e=ee;var s=At;t:switch(re){case 1:re=0,At=null,co(t,e,s,1);break;case 2:case 9:if(Dh(s)){re=0,At=null,jh(e);break}e=function(){re!==2&&re!==9||de!==t||(re=7),un(t)},s.then(e,e);break e;case 3:re=7;break e;case 4:re=5;break e;case 7:Dh(s)?(re=0,At=null,jh(e)):(re=0,At=null,co(t,e,s,7));break;case 5:var r=null;switch(ee.tag){case 26:r=ee.memoizedState;case 5:case 27:var u=ee;if(!r||K0(r)){re=0,At=null;var c=u.sibling;if(c!==null)ee=c;else{var f=u.return;f!==null?(ee=f,Ea(f)):ee=null}break t}}re=0,At=null,co(t,e,s,5);break;case 6:re=0,At=null,co(t,e,s,6);break;case 8:td(),De=6;break e;default:throw Error(F(462))}}LA();break}catch(d){x0(t,d)}while(!0);return Tn=zi=null,$.H=i,$.A=o,le=n,ee!==null?0:(de=null,te=0,ga(),De)}function LA(){for(;ee!==null&&!o1();)R0(ee)}function R0(t){var e=i0(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?Ea(t):ee=e}function jh(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Kh(n,e,e.pendingProps,e.type,void 0,te);break;case 11:e=Kh(n,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:Ff(e);default:o0(n,e),e=ee=ov(e,_n),e=i0(n,e,_n)}t.memoizedProps=t.pendingProps,e===null?Ea(t):ee=e}function co(t,e,n,i){Tn=zi=null,Ff(e),Mo=null,$s=0;var o=e.return;try{if(MA(t,o,e,n,te)){De=1,Ll(t,kt(n,t.current)),ee=null;return}}catch(s){if(o!==null)throw ee=o,s;De=1,Ll(t,kt(n,t.current)),ee=null;return}e.flags&32768?(ne||i===1?t=!0:Xo||te&536870912?t=!1:(Kn=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ft.current,i!==null&&i.tag===13&&(i.flags|=16384))),w0(e,t)):Ea(e)}function Ea(t){var e=t;do{if(e.flags&32768){w0(e,Kn);return}t=e.return;var n=RA(e.alternate,e,_n);if(n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);De===0&&(De=5)}function w0(t,e){do{var n=wA(t.alternate,t);if(n!==null){n.flags&=32767,ee=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ee=t;return}ee=t=n}while(t!==null);De=6,ee=null}function em(t,e,n,i,o,s,r,u,c){t.cancelPendingCommit=null;do xa();while(Qe!==0);if(le&6)throw Error(F(327));if(e!==null){if(e===t.current)throw Error(F(177));if(s=e.lanes|e.childLanes,s|=wf,m1(t,n,s,r,u,c),t===de&&(ee=de=null,te=0),Go=e,jn=t,_o=n,pc=s,gc=o,C0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,HA(El,function(){return U0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=$.T,$.T=null,o=ie.p,ie.p=2,r=le,le|=4;try{DA(t,e,n)}finally{le=r,ie.p=o,$.T=i}}Qe=1,D0(),N0(),b0()}}function D0(){if(Qe===1){Qe=0;var t=jn,e=Go,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$.T,$.T=null;var i=ie.p;ie.p=2;var o=le;le|=4;try{m0(e,t);var s=Ac,r=Qy(t.containerInfo),u=s.focusedElem,c=s.selectionRange;if(r!==u&&u&&u.ownerDocument&&$y(u.ownerDocument.documentElement,u)){if(c!==null&&Rf(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var h=u.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var p=m.getSelection(),g=u.textContent.length,T=Math.min(c.start,g),R=c.end===void 0?T:Math.min(c.end,g);!p.extend&&T>R&&(r=R,R=T,T=r);var y=Ch(u,T),v=Ch(u,R);if(y&&v&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var S=h.createRange();S.setStart(y.node,y.offset),p.removeAllRanges(),T>R?(p.addRange(S),p.extend(v.node,v.offset)):(S.setEnd(v.node,v.offset),p.addRange(S))}}}}for(h=[],p=u;p=p.parentNode;)p.nodeType===1&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<h.length;u++){var A=h[u];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Xl=!!Cc,Ac=Cc=null}finally{le=o,ie.p=i,$.T=n}}t.current=e,Qe=2}}function N0(){if(Qe===2){Qe=0;var t=jn,e=Go,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$.T,$.T=null;var i=ie.p;ie.p=2;var o=le;le|=4;try{c0(t,e.alternate,e)}finally{le=o,ie.p=i,$.T=n}}Qe=3}}function b0(){if(Qe===4||Qe===3){Qe=0,s1();var t=jn,e=Go,n=_o,i=C0;e.subtreeFlags&10256||e.flags&10256?Qe=5:(Qe=0,Go=jn=null,I0(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Wn=null),Sf(n),e=e.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(cr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=$.T,o=ie.p,ie.p=2,$.T=null;try{for(var s=t.onRecoverableError,r=0;r<i.length;r++){var u=i[r];s(u.value,{componentStack:u.stack})}}finally{$.T=e,ie.p=o}}_o&3&&xa(),un(t),o=t.pendingLanes,n&4194090&&o&42?t===yc?Vs++:(Vs=0,yc=t):Vs=0,Ar(0)}}function I0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,yr(e)))}function xa(t){return D0(),N0(),b0(),U0()}function U0(){if(Qe!==5)return!1;var t=jn,e=pc;pc=0;var n=Sf(_o),i=$.T,o=ie.p;try{ie.p=32>n?32:n,$.T=null,n=gc,gc=null;var s=jn,r=_o;if(Qe=0,Go=jn=null,_o=0,le&6)throw Error(F(331));var u=le;if(le|=4,T0(s.current),g0(s,s.current,r,n),le=u,Ar(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(cr,s)}catch{}return!0}finally{ie.p=o,$.T=i,I0(t,e)}}function tm(t,e,n){e=kt(n,e),e=cc(t.stateNode,e,2),t=Zn(t,e,2),t!==null&&(dr(t,2),un(t))}function fe(t,e,n){if(t.tag===3)tm(t,t,n);else for(;e!==null;){if(e.tag===3){tm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wn===null||!Wn.has(i))){t=kt(n,t),n=Qv(2),i=Zn(e,n,2),i!==null&&(Zv(n,i,e,t),dr(i,2),un(i));break}}e=e.return}}function cu(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new IA;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(Wf=!0,o.add(n),t=kA.bind(null,t,e,n),e.then(t,t))}function kA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,de===t&&(te&n)===n&&(De===4||De===3&&(te&62914560)===te&&300>nn()-ed?!(le&2)&&Ho(t,0):jf|=n,Bo===te&&(Bo=0)),un(t)}function P0(t,e){e===0&&(e=Dy()),t=Jo(t,e),t!==null&&(dr(t,e),un(t))}function BA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P0(t,n)}function GA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(F(314))}i!==null&&i.delete(e),P0(t,n)}function HA(t,e){return vf(t,e)}var Fl=null,Wi=null,Tc=!1,ql=!1,fu=!1,bi=0;function un(t){t!==Wi&&t.next===null&&(Wi===null?Fl=Wi=t:Wi=Wi.next=t),ql=!0,Tc||(Tc=!0,qA())}function Ar(t,e){if(!fu&&ql){fu=!0;do for(var n=!1,i=Fl;i!==null;){if(t!==0){var o=i.pendingLanes;if(o===0)var s=0;else{var r=i.suspendedLanes,u=i.pingedLanes;s=(1<<31-Mt(42|t)+1)-1,s&=o&~(r&~u),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,nm(i,s))}else s=te,s=da(i,i===de?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||fr(i,s)||(n=!0,nm(i,s));i=i.next}while(n);fu=!1}}function FA(){V0()}function V0(){ql=Tc=!1;var t=0;bi!==0&&(QA()&&(t=bi),bi=0);for(var e=nn(),n=null,i=Fl;i!==null;){var o=i.next,s=L0(i,e);s===0?(i.next=null,n===null?Fl=o:n.next=o,o===null&&(Wi=n)):(n=i,(t!==0||s&3)&&(ql=!0)),i=o}Ar(t)}function L0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var r=31-Mt(s),u=1<<r,c=o[r];c===-1?(!(u&n)||u&i)&&(o[r]=h1(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}if(e=de,n=te,n=da(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(re===2||re===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ka(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||fr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ka(i),Sf(n)){case 2:case 8:n=_y;break;case 32:n=El;break;case 268435456:n=Ry;break;default:n=El}return i=k0.bind(null,t),n=vf(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ka(i),t.callbackPriority=2,t.callbackNode=null,2}function k0(t,e){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var i=te;return i=da(t,t===de?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(E0(t,i,e),L0(t,nn()),t.callbackNode!=null&&t.callbackNode===n?k0.bind(null,t):null)}function nm(t,e){if(xa())return null;E0(t,e,!0)}function qA(){WA(function(){le&6?vf(My,FA):V0()})}function nd(){return bi===0&&(bi=wy()),bi}function im(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:el(""+t)}function om(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function zA(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var s=im((o[gt]||null).action),r=i.submitter;r&&(e=(e=r[gt]||null)?im(e.formAction):r.getAttribute("formAction"),e!==null&&(s=e,r=null));var u=new ha("action","action",null,i,o);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(bi!==0){var c=r?om(o,r):new FormData(o);ac(n,{pending:!0,data:c,method:o.method,action:s},null,c)}}else typeof s=="function"&&(u.preventDefault(),c=r?om(o,r):new FormData(o),ac(n,{pending:!0,data:c,method:o.method,action:s},s,c))},currentTarget:o}]})}}for(var du=0;du<Qu.length;du++){var hu=Qu[du],OA=hu.toLowerCase(),YA=hu[0].toUpperCase()+hu.slice(1);Xt(OA,"on"+YA)}Xt(Wy,"onAnimationEnd");Xt(jy,"onAnimationIteration");Xt(ev,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(aA,"onTransitionRun");Xt(uA,"onTransitionStart");Xt(cA,"onTransitionCancel");Xt(tv,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function B0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var r=i.length-1;0<=r;r--){var u=i[r],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&o.isPropagationStopped())break e;s=u,o.currentTarget=f;try{s(o)}catch(d){Vl(d)}o.currentTarget=null,s=c}else for(r=0;r<i.length;r++){if(u=i[r],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&o.isPropagationStopped())break e;s=u,o.currentTarget=f;try{s(o)}catch(d){Vl(d)}o.currentTarget=null,s=c}}}}function j(t,e){var n=e[zu];n===void 0&&(n=e[zu]=new Set);var i=t+"__bubble";n.has(i)||(G0(e,t,2,!1),n.add(i))}function mu(t,e,n){var i=0;e&&(i|=4),G0(n,t,i,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[zr]){t[zr]=!0,Uy.forEach(function(n){n!=="selectionchange"&&(KA.has(n)||mu(n,!1,t),mu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zr]||(e[zr]=!0,mu("selectionchange",!1,e))}}function G0(t,e,n,i){switch(Z0(e)){case 2:var o=TE;break;case 8:o=SE;break;default:o=ld}n=o.bind(null,e,n,t),o=void 0,!Ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function pu(t,e,n,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var u=i.stateNode.containerInfo;if(u===o)break;if(r===4)for(r=i.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===o)return;r=r.return}for(;u!==null;){if(r=to(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){i=s=r;continue e}u=u.parentNode}}i=i.return}Fy(function(){var f=s,d=Ef(n),h=[];e:{var m=nv.get(t);if(m!==void 0){var p=ha,g=t;switch(t){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":p=H1;break;case"focusin":g="focus",p=Ya;break;case"focusout":g="blur",p=Ya;break;case"beforeblur":case"afterblur":p=Ya;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=w1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=z1;break;case Wy:case jy:case ev:p=b1;break;case tv:p=Y1;break;case"scroll":case"scrollend":p=_1;break;case"wheel":p=J1;break;case"copy":case"cut":case"paste":p=U1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hh;break;case"toggle":case"beforetoggle":p=$1}var T=(e&4)!==0,R=!T&&(t==="scroll"||t==="scrollend"),y=T?m!==null?m+"Capture":null:m;T=[];for(var v=f,S;v!==null;){var A=v;if(S=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||S===null||y===null||(A=Os(v,y),A!=null&&T.push(Zs(v,A,S))),R)break;v=v.return}0<T.length&&(m=new p(m,g,null,n,d),h.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Ku&&(g=n.relatedTarget||n.fromElement)&&(to(g)||g[Yo]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=f,g=g?to(g):null,g!==null&&(R=ur(g),T=g.tag,g!==R||T!==5&&T!==27&&T!==6)&&(g=null)):(p=null,g=f),p!==g)){if(T=fh,A="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(T=hh,A="onPointerLeave",y="onPointerEnter",v="pointer"),R=p==null?m:Ts(p),S=g==null?m:Ts(g),m=new T(A,v+"leave",p,n,d),m.target=R,m.relatedTarget=S,A=null,to(d)===f&&(T=new T(y,v+"enter",g,n,d),T.target=S,T.relatedTarget=R,A=T),R=A,p&&g)t:{for(T=p,y=g,v=0,S=T;S;S=Xi(S))v++;for(S=0,A=y;A;A=Xi(A))S++;for(;0<v-S;)T=Xi(T),v--;for(;0<S-v;)y=Xi(y),S--;for(;v--;){if(T===y||y!==null&&T===y.alternate)break t;T=Xi(T),y=Xi(y)}T=null}else T=null;p!==null&&sm(h,m,p,T,!1),g!==null&&R!==null&&sm(h,R,g,T,!0)}}e:{if(m=f?Ts(f):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var w=yh;else if(gh(m))if(Jy)w=sA;else{w=iA;var _=nA}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?f&&Af(f.elementType)&&(w=yh):w=oA;if(w&&(w=w(t,f))){Ky(h,w,n,d);break e}_&&_(t,m,f),t==="focusout"&&f&&m.type==="number"&&f.memoizedProps.value!=null&&Yu(m,"number",m.value)}switch(_=f?Ts(f):window,t){case"focusin":(gh(_)||_.contentEditable==="true")&&(oo=_,Xu=f,Ms=null);break;case"focusout":Ms=Xu=oo=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Ah(h,n,d);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":Ah(h,n,d)}var N;if(_f)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else io?Oy(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(zy&&n.locale!=="ko"&&(io||C!=="onCompositionStart"?C==="onCompositionEnd"&&io&&(N=qy()):(Yn=d,xf="value"in Yn?Yn.value:Yn.textContent,io=!0)),_=zl(f,C),0<_.length&&(C=new dh(C,t,null,n,d),h.push({event:C,listeners:_}),N?C.data=N:(N=Yy(n),N!==null&&(C.data=N)))),(N=Z1?W1(t,n):j1(t,n))&&(C=zl(f,"onBeforeInput"),0<C.length&&(_=new dh("onBeforeInput","beforeinput",null,n,d),h.push({event:_,listeners:C}),_.data=N)),zA(h,t,f,n,d)}B0(h,e)})}function Zs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zl(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,s=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||s===null||(o=Os(t,n),o!=null&&i.unshift(Zs(t,o,s)),o=Os(t,e),o!=null&&i.push(Zs(t,o,s))),t.tag===3)return i;t=t.return}return[]}function Xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sm(t,e,n,i,o){for(var s=e._reactName,r=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,o?(f=Os(n,s),f!=null&&r.unshift(Zs(n,f,c))):o||(f=Os(n,s),f!=null&&r.push(Zs(n,f,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var JA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function rm(t){return(typeof t=="string"?t:""+t).replace(JA,`
`).replace(XA,"")}function H0(t,e){return e=rm(e),rm(t)===e}function Ma(){}function ae(t,e,n,i,o,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Uo(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Uo(t,""+i);break;case"className":Lr(t,"class",i);break;case"tabIndex":Lr(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(t,n,i);break;case"style":Hy(t,i,s);break;case"data":if(e!=="object"){Lr(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=el(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ae(t,e,"name",o.name,o,null),ae(t,e,"formEncType",o.formEncType,o,null),ae(t,e,"formMethod",o.formMethod,o,null),ae(t,e,"formTarget",o.formTarget,o,null)):(ae(t,e,"encType",o.encType,o,null),ae(t,e,"method",o.method,o,null),ae(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=el(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Ma);break;case"onScroll":i!=null&&j("scroll",t);break;case"onScrollEnd":i!=null&&j("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(F(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=el(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":j("beforetoggle",t),j("toggle",t),jr(t,"popover",i);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":jr(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=x1.get(n)||n,jr(t,n,i))}}function Sc(t,e,n,i,o,s){switch(n){case"style":Hy(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(F(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Uo(t,i):(typeof i=="number"||typeof i=="bigint")&&Uo(t,""+i);break;case"onScroll":i!=null&&j("scroll",t);break;case"onScrollEnd":i!=null&&j("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Py.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),s=t[gt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,o),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):jr(t,n,i)}}}function Ze(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":j("error",t),j("load",t);var i=!1,o=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:ae(t,e,s,r,n,null)}}o&&ae(t,e,"srcSet",n.srcSet,n,null),i&&ae(t,e,"src",n.src,n,null);return;case"input":j("invalid",t);var u=s=r=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":s=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(F(137,e));break;default:ae(t,e,i,d,n,null)}}ky(t,s,u,c,f,r,o,!1),xl(t);return;case"select":j("invalid",t),i=r=s=null;for(o in n)if(n.hasOwnProperty(o)&&(u=n[o],u!=null))switch(o){case"value":s=u;break;case"defaultValue":r=u;break;case"multiple":i=u;default:ae(t,e,o,u,n,null)}e=s,n=r,t.multiple=!!i,e!=null?So(t,!!i,e,!1):n!=null&&So(t,!!i,n,!0);return;case"textarea":j("invalid",t),s=o=i=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":i=u;break;case"defaultValue":o=u;break;case"children":s=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(F(91));break;default:ae(t,e,r,u,n,null)}Gy(t,i,o,s),xl(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ae(t,e,c,i,n,null)}return;case"dialog":j("beforetoggle",t),j("toggle",t),j("cancel",t),j("close",t);break;case"iframe":case"object":j("load",t);break;case"video":case"audio":for(i=0;i<Qs.length;i++)j(Qs[i],t);break;case"image":j("error",t),j("load",t);break;case"details":j("toggle",t);break;case"embed":case"source":case"link":j("error",t),j("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:ae(t,e,f,i,n,null)}return;default:if(Af(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Sc(t,e,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&ae(t,e,u,i,n,null))}function $A(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,s=null,r=null,u=null,c=null,f=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&h!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||ae(t,e,p,null,i,h)}}for(var m in i){var p=i[m];if(h=n[m],i.hasOwnProperty(m)&&(p!=null||h!=null))switch(m){case"type":s=p;break;case"name":o=p;break;case"checked":f=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(F(137,e));break;default:p!==h&&ae(t,e,m,p,i,h)}}Ou(t,r,u,c,f,d,s,o);return;case"select":p=r=u=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(s)||ae(t,e,s,null,i,c)}for(o in i)if(s=i[o],c=n[o],i.hasOwnProperty(o)&&(s!=null||c!=null))switch(o){case"value":m=s;break;case"defaultValue":u=s;break;case"multiple":r=s;default:s!==c&&ae(t,e,o,s,i,c)}e=u,n=r,i=p,m!=null?So(t,!!n,m,!1):!!i!=!!n&&(e!=null?So(t,!!n,e,!0):So(t,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(u in n)if(o=n[u],n.hasOwnProperty(u)&&o!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ae(t,e,u,null,i,o)}for(r in i)if(o=i[r],s=n[r],i.hasOwnProperty(r)&&(o!=null||s!=null))switch(r){case"value":m=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(F(91));break;default:o!==s&&ae(t,e,r,o,i,s)}By(t,m,p);return;case"option":for(var g in n)if(m=n[g],n.hasOwnProperty(g)&&m!=null&&!i.hasOwnProperty(g))switch(g){case"selected":t.selected=!1;break;default:ae(t,e,g,null,i,m)}for(c in i)if(m=i[c],p=n[c],i.hasOwnProperty(c)&&m!==p&&(m!=null||p!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ae(t,e,c,m,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T)&&ae(t,e,T,null,i,m);for(f in i)if(m=i[f],p=n[f],i.hasOwnProperty(f)&&m!==p&&(m!=null||p!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(F(137,e));break;default:ae(t,e,f,m,i,p)}return;default:if(Af(e)){for(var R in n)m=n[R],n.hasOwnProperty(R)&&m!==void 0&&!i.hasOwnProperty(R)&&Sc(t,e,R,void 0,i,m);for(d in i)m=i[d],p=n[d],!i.hasOwnProperty(d)||m===p||m===void 0&&p===void 0||Sc(t,e,d,m,i,p);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!i.hasOwnProperty(y)&&ae(t,e,y,null,i,m);for(h in i)m=i[h],p=n[h],!i.hasOwnProperty(h)||m===p||m==null&&p==null||ae(t,e,h,m,i,p)}var Cc=null,Ac=null;function Ol(t){return t.nodeType===9?t:t.ownerDocument}function lm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ec(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gu=null;function QA(){var t=window.event;return t&&t.type==="popstate"?t===gu?!1:(gu=t,!0):(gu=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(t){return am.resolve(null).then(t).catch(jA)}:q0;function jA(t){setTimeout(function(){throw t})}function ui(t){return t==="head"}function um(t,e){var n=e,i=0,o=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(n&1&&Ls(r.documentElement),n&2&&Ls(r.body),n&4)for(n=r.head,Ls(n),r=n.firstChild;r;){var u=r.nextSibling,c=r.nodeName;r[hr]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=u}}if(o===0){t.removeChild(s),nr(e);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);nr(e)}function xc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xc(n),Cf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function eE(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[hr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Jt(t.nextSibling),t===null)break}return null}function tE(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jt(t.nextSibling),t===null))return null;return t}function Mc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nE(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var _c=null;function cm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function z0(t,e,n){switch(e=Ol(n),t){case"html":if(t=e.documentElement,!t)throw Error(F(452));return t;case"head":if(t=e.head,!t)throw Error(F(453));return t;case"body":if(t=e.body,!t)throw Error(F(454));return t;default:throw Error(F(451))}}function Ls(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Cf(t)}var qt=new Map,fm=new Set;function Yl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Dn=ie.d;ie.d={f:iE,r:oE,D:sE,C:rE,L:lE,m:aE,X:cE,S:uE,M:fE};function iE(){var t=Dn.f(),e=Aa();return t||e}function oE(t){var e=Ko(t);e!==null&&e.tag===5&&e.type==="form"?Lv(e):Dn.r(t)}var $o=typeof document>"u"?null:document;function O0(t,e,n){var i=$o;if(i&&typeof e=="string"&&e){var o=Lt(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),fm.has(o)||(fm.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Ze(e,"link",t),Oe(e),i.head.appendChild(e)))}}function sE(t){Dn.D(t),O0("dns-prefetch",t,null)}function rE(t,e){Dn.C(t,e),O0("preconnect",t,e)}function lE(t,e,n){Dn.L(t,e,n);var i=$o;if(i&&t&&e){var o='link[rel="preload"][as="'+Lt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Lt(n.imageSizes)+'"]')):o+='[href="'+Lt(t)+'"]';var s=o;switch(e){case"style":s=Fo(t);break;case"script":s=Qo(t)}qt.has(s)||(t=ye({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qt.set(s,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(Er(s))||e==="script"&&i.querySelector(xr(s))||(e=i.createElement("link"),Ze(e,"link",t),Oe(e),i.head.appendChild(e)))}}function aE(t,e){Dn.m(t,e);var n=$o;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+Lt(i)+'"][href="'+Lt(t)+'"]',s=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qo(t)}if(!qt.has(s)&&(t=ye({rel:"modulepreload",href:t},e),qt.set(s,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xr(s)))return}i=n.createElement("link"),Ze(i,"link",t),Oe(i),n.head.appendChild(i)}}}function uE(t,e,n){Dn.S(t,e,n);var i=$o;if(i&&t){var o=To(i).hoistableStyles,s=Fo(t);e=e||"default";var r=o.get(s);if(!r){var u={loading:0,preload:null};if(r=i.querySelector(Er(s)))u.loading=5;else{t=ye({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qt.get(s))&&od(t,n);var c=r=i.createElement("link");Oe(c),Ze(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ul(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:u},o.set(s,r)}}}function cE(t,e){Dn.X(t,e);var n=$o;if(n&&t){var i=To(n).hoistableScripts,o=Qo(t),s=i.get(o);s||(s=n.querySelector(xr(o)),s||(t=ye({src:t,async:!0},e),(e=qt.get(o))&&sd(t,e),s=n.createElement("script"),Oe(s),Ze(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function fE(t,e){Dn.M(t,e);var n=$o;if(n&&t){var i=To(n).hoistableScripts,o=Qo(t),s=i.get(o);s||(s=n.querySelector(xr(o)),s||(t=ye({src:t,async:!0,type:"module"},e),(e=qt.get(o))&&sd(t,e),s=n.createElement("script"),Oe(s),Ze(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function dm(t,e,n,i){var o=(o=$n.current)?Yl(o):null;if(!o)throw Error(F(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Fo(n.href),n=To(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Fo(n.href);var s=To(o).hoistableStyles,r=s.get(t);if(r||(o=o.ownerDocument||o,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,r),(s=o.querySelector(Er(t)))&&!s._p&&(r.instance=s,r.state.loading=5),qt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(t,n),s||dE(o,t,n,r.state))),e&&i===null)throw Error(F(528,""));return r}if(e&&i!==null)throw Error(F(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Qo(n),n=To(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,t))}}function Fo(t){return'href="'+Lt(t)+'"'}function Er(t){return'link[rel="stylesheet"]['+t+"]"}function Y0(t){return ye({},t,{"data-precedence":t.precedence,precedence:null})}function dE(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Ze(e,"link",n),Oe(e),t.head.appendChild(e))}function Qo(t){return'[src="'+Lt(t)+'"]'}function xr(t){return"script[async]"+t}function hm(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(i)return e.instance=i,Oe(i),i;var o=ye({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Oe(i),Ze(i,"style",o),ul(i,n.precedence,t),e.instance=i;case"stylesheet":o=Fo(n.href);var s=t.querySelector(Er(o));if(s)return e.state.loading|=4,e.instance=s,Oe(s),s;i=Y0(n),(o=qt.get(o))&&od(i,o),s=(t.ownerDocument||t).createElement("link"),Oe(s);var r=s;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Ze(s,"link",i),e.state.loading|=4,ul(s,n.precedence,t),e.instance=s;case"script":return s=Qo(n.src),(o=t.querySelector(xr(s)))?(e.instance=o,Oe(o),o):(i=n,(o=qt.get(s))&&(i=ye({},n),sd(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),Oe(o),Ze(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(F(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ul(i,n.precedence,t));return e.instance}function ul(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,s=o,r=0;r<i.length;r++){var u=i[r];if(u.dataset.precedence===e)s=u;else if(s!==o)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function od(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function sd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var cl=null;function mm(t,e,n){if(cl===null){var i=new Map,o=cl=new Map;o.set(n,i)}else o=cl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var s=n[o];if(!(s[hr]||s[tt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(e)||"";r=t+r;var u=i.get(r);u?u.push(s):i.set(r,[s])}}return i}function pm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function hE(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function K0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ws=null;function mE(){}function pE(t,e,n){if(Ws===null)throw Error(F(475));var i=Ws;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var o=Fo(n.href),s=t.querySelector(Er(o));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Kl.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,Oe(s);return}s=t.ownerDocument||t,n=Y0(n),(o=qt.get(o))&&od(n,o),s=s.createElement("link"),Oe(s);var r=s;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Ze(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Kl.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function gE(){if(Ws===null)throw Error(F(475));var t=Ws;return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Kl(){if(this.count--,this.count===0){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jl=null;function Rc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jl=new Map,e.forEach(yE,t),Jl=null,Kl.call(t))}function yE(t,e){if(!(e.state.loading&4)){var n=Jl.get(t);if(n)var i=n.get(null);else{n=new Map,Jl.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<o.length;s++){var r=o[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}o=e.instance,r=o.getAttribute("data-precedence"),s=n.get(r)||i,s===i&&n.set(null,o),n.set(r,o),this.count++,i=Kl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),s?s.parentNode.insertBefore(o,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var js={$$typeof:gn,Provider:null,Consumer:null,_currentValue:Mi,_currentValue2:Mi,_threadCount:0};function vE(t,e,n,i,o,s,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function J0(t,e,n,i,o,s,r,u,c,f,d,h){return t=new vE(t,e,n,r,u,c,f,h),e=1,s===!0&&(e|=24),s=Et(3,null,null,e),t.current=s,s.stateNode=t,e=Uf(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Vf(s),t}function X0(t){return t?(t=lo,t):lo}function $0(t,e,n,i,o,s){o=X0(o),i.context===null?i.context=o:i.pendingContext=o,i=Qn(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Zn(t,i,e),n!==null&&(Rt(n,t,e),ws(n,t,e))}function gm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rd(t,e){gm(t,e),(t=t.alternate)&&gm(t,e)}function Q0(t){if(t.tag===13){var e=Jo(t,67108864);e!==null&&Rt(e,t,67108864),rd(t,67108864)}}var Xl=!0;function TE(t,e,n,i){var o=$.T;$.T=null;var s=ie.p;try{ie.p=2,ld(t,e,n,i)}finally{ie.p=s,$.T=o}}function SE(t,e,n,i){var o=$.T;$.T=null;var s=ie.p;try{ie.p=8,ld(t,e,n,i)}finally{ie.p=s,$.T=o}}function ld(t,e,n,i){if(Xl){var o=wc(i);if(o===null)pu(t,e,i,$l,n),ym(t,i);else if(AE(o,t,e,n,i))i.stopPropagation();else if(ym(t,i),e&4&&-1<CE.indexOf(t)){for(;o!==null;){var s=Ko(o);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=vi(s.pendingLanes);if(r!==0){var u=s;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-Mt(r);u.entanglements[1]|=c,r&=~c}un(s),!(le&6)&&(Gl=nn()+500,Ar(0))}}break;case 13:u=Jo(s,2),u!==null&&Rt(u,s,2),Aa(),rd(s,2)}if(s=wc(i),s===null&&pu(t,e,i,$l,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else pu(t,e,i,null,n)}}function wc(t){return t=Ef(t),ad(t)}var $l=null;function ad(t){if($l=null,t=to(t),t!==null){var e=ur(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Cy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return $l=t,null}function Z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r1()){case My:return 2;case _y:return 8;case El:case l1:return 32;case Ry:return 268435456;default:return 32}default:return 32}}var Dc=!1,ei=null,ti=null,ni=null,er=new Map,tr=new Map,zn=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":er.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(e.pointerId)}}function ms(t,e,n,i,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=Ko(e),e!==null&&Q0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function AE(t,e,n,i,o){switch(e){case"focusin":return ei=ms(ei,t,e,n,i,o),!0;case"dragenter":return ti=ms(ti,t,e,n,i,o),!0;case"mouseover":return ni=ms(ni,t,e,n,i,o),!0;case"pointerover":var s=o.pointerId;return er.set(s,ms(er.get(s)||null,t,e,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,tr.set(s,ms(tr.get(s)||null,t,e,n,i,o)),!0}return!1}function W0(t){var e=to(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=Cy(n),e!==null){t.blockedOn=e,p1(t.priority,function(){if(n.tag===13){var i=_t();i=Tf(i);var o=Jo(n,i);o!==null&&Rt(o,n,i),rd(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wc(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ku=i,n.target.dispatchEvent(i),Ku=null}else return e=Ko(n),e!==null&&Q0(e),t.blockedOn=n,!1;e.shift()}return!0}function vm(t,e,n){fl(t)&&n.delete(e)}function EE(){Dc=!1,ei!==null&&fl(ei)&&(ei=null),ti!==null&&fl(ti)&&(ti=null),ni!==null&&fl(ni)&&(ni=null),er.forEach(vm),tr.forEach(vm)}function Or(t,e){t.blockedOn===e&&(t.blockedOn=null,Dc||(Dc=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,EE)))}var Yr=null;function Tm(t){Yr!==t&&(Yr=t,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,function(){Yr===t&&(Yr=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(ad(i||n)===null)continue;break}var s=Ko(n);s!==null&&(t.splice(e,3),e-=3,ac(s,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function nr(t){function e(c){return Or(c,t)}ei!==null&&Or(ei,t),ti!==null&&Or(ti,t),ni!==null&&Or(ni,t),er.forEach(e),tr.forEach(e);for(var n=0;n<zn.length;n++){var i=zn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)W0(n),n.blockedOn===null&&zn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],s=n[i+1],r=o[gt]||null;if(typeof s=="function")r||Tm(n);else if(r){var u=null;if(s&&s.hasAttribute("formAction")){if(o=s,r=s[gt]||null)u=r.formAction;else if(ad(o)!==null)continue}else u=r.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),Tm(n)}}}function ud(t){this._internalRoot=t}_a.prototype.render=ud.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));var n=e.current,i=_t();$0(n,i,t,e,null,null)};_a.prototype.unmount=ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$0(t.current,2,null,t,null,null),Aa(),e[Yo]=null}};function _a(t){this._internalRoot=t}_a.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&W0(t)}};var Sm=Ty.version;if(Sm!=="19.1.1")throw Error(F(527,Sm,"19.1.1"));ie.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=jC(e),t=t!==null?Ay(t):null,t=t===null?null:t.stateNode,t};var xE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kr.isDisabled&&Kr.supportsFiber)try{cr=Kr.inject(xE),xt=Kr}catch{}}ca.createRoot=function(t,e){if(!Sy(t))throw Error(F(299));var n=!1,i="",o=Jv,s=Xv,r=$v,u=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=J0(t,1,!1,null,null,n,i,o,s,r,u,null),t[Yo]=e.current,id(t),new ud(e)};ca.hydrateRoot=function(t,e,n){if(!Sy(t))throw Error(F(299));var i=!1,o="",s=Jv,r=Xv,u=$v,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=J0(t,1,!0,e,n??null,i,o,s,r,u,c,f),e.context=X0(null),n=e.current,i=_t(),i=Tf(i),o=Qn(i),o.callback=null,Zn(n,o,i),n=i,e.current.lanes=n,dr(e,n),un(e),t[Yo]=e.current,id(t),new _a(e)};ca.version="19.1.1";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(t){console.error(t)}}j0(),hy.exports=ca;var ME=hy.exports;const Cm=t=>{let e;const n=new Set,i=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,m))}},o=()=>e,u={setState:i,getState:o,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(i,o,u);return u},_E=t=>t?Cm(t):Cm,RE=t=>t;function wE(t,e=RE){const n=Ir.useSyncExternalStore(t.subscribe,Ir.useCallback(()=>e(t.getState()),[t,e]),Ir.useCallback(()=>e(t.getInitialState()),[t,e]));return Ir.useDebugValue(n),n}const DE=t=>{const e=_E(t),n=i=>wE(e,i);return Object.assign(n,e),n},NE=t=>DE;function eT(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var s;const r=c=>c===null?null:JSON.parse(c,void 0),u=(s=n.getItem(o))!=null?s:null;return u instanceof Promise?u.then(r):r(u)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Nc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return Nc(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Nc(i)(n)}}}},bE=(t,e)=>(n,i,o)=>{let s={storage:eT(()=>localStorage),partialize:T=>T,version:0,merge:(T,R)=>({...R,...T}),...e},r=!1;const u=new Set,c=new Set;let f=s.storage;if(!f)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...T)},i,o);const d=()=>{const T=s.partialize({...i()});return f.setItem(s.name,{state:T,version:s.version})},h=o.setState;o.setState=(T,R)=>(h(T,R),d());const m=t((...T)=>(n(...T),d()),i,o);o.getInitialState=()=>m;let p;const g=()=>{var T,R;if(!f)return;r=!1,u.forEach(v=>{var S;return v((S=i())!=null?S:m)});const y=((R=s.onRehydrateStorage)==null?void 0:R.call(s,(T=i())!=null?T:m))||void 0;return Nc(f.getItem.bind(f))(s.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate){const S=s.migrate(v.state,v.version);return S instanceof Promise?S.then(A=>[!0,A]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var S;const[A,w]=v;if(p=s.merge(w,(S=i())!=null?S:m),n(p,!0),A)return d()}).then(()=>{y==null||y(p,void 0),p=i(),r=!0,c.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return o.persist={setOptions:T=>{s={...s,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f==null||f.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>r,onHydrate:T=>(u.add(T),()=>{u.delete(T)}),onFinishHydration:T=>(c.add(T),()=>{c.delete(T)})},s.skipHydration||g(),p||m},IE=bE,Am={currentStep:"upload",originalImage:null,originalImageUrl:null,originalImageDataUrl:null,enhancedImageUrl:null,enhancedImageCaption:null,videoUrl:null,userNote:"",motionPrompt:"",isProcessing:!1,progress:0,error:null,apiKey:null,processingStartTime:null,estimatedTimeRemaining:null},Bi=NE()(IE((t,e)=>({...Am,setCurrentStep:n=>t(i=>({currentStep:n,error:null})),setOriginalImage:(n,i)=>t({originalImage:n,originalImageUrl:i,originalImageDataUrl:i,enhancedImageUrl:null,enhancedImageCaption:null,videoUrl:null,motionPrompt:"",userNote:"",error:null,currentStep:"enhance"}),setEnhancedImage:(n,i)=>t({enhancedImageUrl:n,enhancedImageCaption:i||null,currentStep:"generate"}),setVideoUrl:n=>t({videoUrl:n,currentStep:"complete",isProcessing:!1,progress:100}),setUserNote:n=>t({userNote:n}),setMotionPrompt:n=>t({motionPrompt:n}),setProcessing:n=>t({isProcessing:n}),setProgress:n=>t({progress:Math.max(0,Math.min(100,n))}),setError:n=>t({error:n,isProcessing:!1}),setApiKey:n=>t({apiKey:n.trim()}),clearApiKey:()=>t({apiKey:null}),startProcessing:()=>t({isProcessing:!0,processingStartTime:Date.now(),error:null,progress:0}),completeProcessing:()=>t({isProcessing:!1,processingStartTime:null,estimatedTimeRemaining:null,progress:100}),setEstimatedTime:n=>t({estimatedTimeRemaining:n}),resetWorkflow:()=>{var i,o;const n=e();(i=n.originalImageUrl)!=null&&i.startsWith("blob:")&&URL.revokeObjectURL(n.originalImageUrl),(o=n.videoUrl)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(n.videoUrl),t({...Am,apiKey:n.apiKey})},clearMedia:()=>{var i,o;const n=e();(i=n.originalImageUrl)!=null&&i.startsWith("blob:")&&URL.revokeObjectURL(n.originalImageUrl),(o=n.videoUrl)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(n.videoUrl),t({originalImage:null,originalImageUrl:null,enhancedImageUrl:null,videoUrl:null,currentStep:"upload",progress:0,error:null})},canProceedToStep:n=>{const i=e();switch(n){case"upload":return!0;case"enhance":return!!i.originalImage;case"prompt":return!!i.enhancedImageUrl;case"generate":return!!i.motionPrompt;case"complete":return!!i.videoUrl;default:return!1}},getStepProgress:()=>{const n=e();return{upload:0,enhance:25,prompt:50,generate:75,complete:100}[n.currentStep]||0}}),{name:"moving-memories-store",storage:eT(()=>localStorage),partialize:t=>({apiKey:t.apiKey,userNote:t.userNote})}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UE,PE;function VE(){return{geminiUrl:UE,vertexUrl:PE}}function LE(t,e,n,i){var o,s;if(!(t!=null&&t.baseUrl)){const r=VE();return e?(o=r.vertexUrl)!==null&&o!==void 0?o:n:(s=r.geminiUrl)!==null&&s!==void 0?s:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oi{}function J(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(t,e,n){for(let s=0;s<e.length-1;s++){const r=e[s];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];a(d,e.slice(s+1),n[f])}else for(const f of c)a(f,e.slice(s+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(s+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(r=>l(r,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Em;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Em||(Em={}));var xm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(xm||(xm={}));var Xn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xn||(Xn={}));var Mm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Mm||(Mm={}));var _m;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_m||(_m={}));var Rm;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Rm||(Rm={}));var wm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wm||(wm={}));var Dm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Dm||(Dm={}));var Nm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Nm||(Nm={}));var bm;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bm||(bm={}));var Im;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Im||(Im={}));var Um;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Um||(Um={}));var Pm;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pm||(Pm={}));var Vm;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Vm||(Vm={}));var Lm;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lm||(Lm={}));var Ql;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ql||(Ql={}));var km;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var Ic;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ic||(Ic={}));var Bm;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bm||(Bm={}));var Gm;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gm||(Gm={}));var Hm;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Hm||(Hm={}));var Fm;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Fm||(Fm={}));var qm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qm||(qm={}));var zm;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zm||(zm={}));var Om;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Om||(Om={}));var Ym;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ym||(Ym={}));var Km;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Km||(Km={}));var Jm;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Jm||(Jm={}));var Xm;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xm||(Xm={}));var $m;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($m||($m={}));var Qm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qm||(Qm={}));var Zm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zm||(Zm={}));var Wm;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Wm||(Wm={}));var jm;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jm||(jm={}));var ep;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ep||(ep={}));var tp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(tp||(tp={}));var np;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(np||(np={}));var ip;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ip||(ip={}));var op;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(op||(op={}));var sp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sp||(sp={}));var rp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rp||(rp={}));var lp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lp||(lp={}));var ap;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ap||(ap={}));var up;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(up||(up={}));var cp;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(cp||(cp={}));var fo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fo||(fo={}));class Uc{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ps{get text(){var e,n,i,o,s,r,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const h=[];for(const m of(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(m))p!=="text"&&p!=="thought"&&(g!==null||g!==void 0)&&h.push(p);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,f+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,s,r,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const h of(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,p]of Object.entries(h))m!=="inlineData"&&(p!==null||p!==void 0)&&d.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,s,r,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,s,r,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,s,r,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class fp{}class dp{}class kE{}class BE{}class GE{}class HE{}class hp{}class mp{}class pp{}class FE{}class gp{}class Zl{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Zl;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const o=e.response;if(o){const s=new gp,r=o.videos;s.generatedVideos=r==null?void 0:r.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?bc(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),s.raiMediaFilteredCount=o.raiMediaFilteredCount,s.raiMediaFilteredReasons=o.raiMediaFilteredReasons,i.response=s}}else{const o=e.response;if(o){const s=new gp,r=o.generateVideoResponse,u=r==null?void 0:r.generatedSamples;s.generatedVideos=u==null?void 0:u.map(c=>{const f=c.video;return{video:{uri:f==null?void 0:f.uri,videoBytes:f!=null&&f.encodedVideo?bc(f==null?void 0:f.encodedVideo):void 0,mimeType:c.encoding}}}),s.raiMediaFilteredCount=r==null?void 0:r.raiMediaFilteredCount,s.raiMediaFilteredReasons=r==null?void 0:r.raiMediaFilteredReasons,i.response=s}}return i}}class yp{}class vp{}class Tp{}class qE{}class zE{}class OE{}class Sp{}class YE{get text(){var e,n,i;let o="",s=!1;const r=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,o+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,i;let o="";const s=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&s.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(o+=atob(r.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class KE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tT(t,e){const n=oe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function nT(t){return Array.isArray(t)?t.map(e=>Wl(e)):[Wl(t)]}function Wl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function iT(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oT(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Cp(e)):[Cp(t)]}function Pc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ap(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ep(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function it(t){if(t==null)throw new Error("ContentUnion is required");return Pc(t)?t:{role:"user",parts:sT(t)}}function rT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=it(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=it(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>it(n)):[it(e)]}function Gt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ap(t)||Ep(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[it(t)]}const e=[],n=[],i=Pc(t[0]);for(const o of t){const s=Pc(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(Ap(o)||Ep(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:sT(n)}),e}function JE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Xn).includes(n[0].toUpperCase())?n[0].toUpperCase():Xn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Xn).includes(i.toUpperCase())?i.toUpperCase():Xn.TYPE_UNSPECIFIED})}}function Ro(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&JE(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Xn).includes(u.toUpperCase())?u.toUpperCase():Xn.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Ro(u);else if(i.includes(r)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Ro(f))}e[r]=c}else if(o.includes(r)){const c={};for(const[f,d]of Object.entries(u))c[f]=Ro(d);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function cd(t){return Ro(t)}function fd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Zo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ro(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ro(e.response));return t}function Wo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function XE(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Nn(t,e){if(typeof e!="string")throw new Error("name must be a string");return XE(t,e,"cachedContents")}function lT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yi(t){return bc(t)}function $E(t){return t!=null&&typeof t=="object"&&"name"in t}function QE(t){return t!=null&&typeof t=="object"&&"video"in t}function ZE(t){return t!=null&&typeof t=="object"&&"uri"in t}function aT(t){var e;let n;if($E(t)&&(n=t.name),!(ZE(t)&&(n=t.uri,n===void 0))&&!(QE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function uT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function cT(t){for(const e of["models","tunedModels","publisherModels"])if(WE(t,e))return t[e];return[]}function WE(t,e){return t!==null&&typeof t=="object"&&e in t}function jE(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function ex(t,e={}){const n=[],i=new Set;for(const o of t){const s=o.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const r=jE(o,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function fT(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function tx(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function jo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nx(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function ix(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function ox(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function sx(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],nx(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],ix(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],ox(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function hT(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>sx(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function rx(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const i=l(t,["default"]);i!=null&&a(e,["default"],i);const o=l(t,["description"]);o!=null&&a(e,["description"],o);const s=l(t,["enum"]);s!=null&&a(e,["enum"],s);const r=l(t,["example"]);r!=null&&a(e,["example"],r);const u=l(t,["format"]);u!=null&&a(e,["format"],u);const c=l(t,["items"]);c!=null&&a(e,["items"],c);const f=l(t,["maxItems"]);f!=null&&a(e,["maxItems"],f);const d=l(t,["maxLength"]);d!=null&&a(e,["maxLength"],d);const h=l(t,["maxProperties"]);h!=null&&a(e,["maxProperties"],h);const m=l(t,["maximum"]);m!=null&&a(e,["maximum"],m);const p=l(t,["minItems"]);p!=null&&a(e,["minItems"],p);const g=l(t,["minLength"]);g!=null&&a(e,["minLength"],g);const T=l(t,["minProperties"]);T!=null&&a(e,["minProperties"],T);const R=l(t,["minimum"]);R!=null&&a(e,["minimum"],R);const y=l(t,["nullable"]);y!=null&&a(e,["nullable"],y);const v=l(t,["pattern"]);v!=null&&a(e,["pattern"],v);const S=l(t,["properties"]);S!=null&&a(e,["properties"],S);const A=l(t,["propertyOrdering"]);A!=null&&a(e,["propertyOrdering"],A);const w=l(t,["required"]);w!=null&&a(e,["required"],w);const _=l(t,["title"]);_!=null&&a(e,["title"],_);const N=l(t,["type"]);return N!=null&&a(e,["type"],N),e}function lx(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&a(e,["category"],n);const i=l(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function ax(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=l(t,["description"]);i!=null&&a(e,["description"],i);const o=l(t,["name"]);o!=null&&a(e,["name"],o);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const r=l(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const u=l(t,["response"]);u!=null&&a(e,["response"],u);const c=l(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function ux(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function cx(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],ux(n)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fx(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function dx(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],fx(n)),e}function hx(){return{}}function mx(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function px(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>ax(f))),a(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],cx(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],dx(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],hx());const r=l(t,["computerUse"]);r!=null&&a(e,["computerUse"],mx(r));const u=l(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function gx(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function yx(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function vx(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],yx(n));const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function Tx(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],gx(n));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],vx(i)),e}function Sx(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function mT(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],Sx(n)),e}function Cx(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],mT(i)),e}function Ax(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Cx(o))),a(e,["speakerVoiceConfigs"],i)}return e}function Ex(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],mT(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],Ax(i));const o=l(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function xx(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const i=l(t,["thinkingBudget"]);return i!=null&&a(e,["thinkingBudget"],i),e}function Mx(t,e,n){const i={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],hT(it(o)));const s=l(e,["temperature"]);s!=null&&a(i,["temperature"],s);const r=l(e,["topP"]);r!=null&&a(i,["topP"],r);const u=l(e,["topK"]);u!=null&&a(i,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&a(i,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&a(i,["stopSequences"],d);const h=l(e,["responseLogprobs"]);h!=null&&a(i,["responseLogprobs"],h);const m=l(e,["logprobs"]);m!=null&&a(i,["logprobs"],m);const p=l(e,["presencePenalty"]);p!=null&&a(i,["presencePenalty"],p);const g=l(e,["frequencyPenalty"]);g!=null&&a(i,["frequencyPenalty"],g);const T=l(e,["seed"]);T!=null&&a(i,["seed"],T);const R=l(e,["responseMimeType"]);R!=null&&a(i,["responseMimeType"],R);const y=l(e,["responseSchema"]);y!=null&&a(i,["responseSchema"],rx(cd(y)));const v=l(e,["responseJsonSchema"]);if(v!=null&&a(i,["responseJsonSchema"],v),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=l(e,["safetySettings"]);if(n!==void 0&&S!=null){let b=S;Array.isArray(b)&&(b=b.map(I=>lx(I))),a(n,["safetySettings"],b)}const A=l(e,["tools"]);if(n!==void 0&&A!=null){let b=Wo(A);Array.isArray(b)&&(b=b.map(I=>px(Zo(I)))),a(n,["tools"],b)}const w=l(e,["toolConfig"]);if(n!==void 0&&w!=null&&a(n,["toolConfig"],Tx(w)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=l(e,["cachedContent"]);n!==void 0&&_!=null&&a(n,["cachedContent"],Nn(t,_));const N=l(e,["responseModalities"]);N!=null&&a(i,["responseModalities"],N);const C=l(e,["mediaResolution"]);C!=null&&a(i,["mediaResolution"],C);const E=l(e,["speechConfig"]);if(E!=null&&a(i,["speechConfig"],Ex(fd(E))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=l(e,["thinkingConfig"]);return D!=null&&a(i,["thinkingConfig"],xx(D)),i}function _x(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["request","model"],oe(t,i));const o=l(e,["contents"]);if(o!=null){let r=Gt(o);Array.isArray(r)&&(r=r.map(u=>hT(u))),a(n,["request","contents"],r)}const s=l(e,["config"]);return s!=null&&a(n,["request","generationConfig"],Mx(t,s,n)),n}function Rx(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(e,["fileName"]);i!=null&&a(n,["fileName"],i);const o=l(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>_x(t,r))),a(n,["requests","requests"],s)}return n}function wx(t,e){const n={},i=l(t,["displayName"]);if(e!==void 0&&i!=null&&a(e,["batch","displayName"],i),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function xp(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["src"]);o!=null&&a(n,["batch","inputConfig"],Rx(t,fT(t,o)));const s=l(e,["config"]);return s!=null&&a(n,["config"],wx(s,n)),n}function Dx(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],jo(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function Nx(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],jo(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function bx(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);if(e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Ix(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],bx(n,e)),e}function Ux(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],jo(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function Px(t){const e={},n=l(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const i=l(t,["gcsUri"]);i!=null&&a(e,["gcsSource","uris"],i);const o=l(t,["bigqueryUri"]);if(o!=null&&a(e,["bigquerySource","inputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Vx(t){const e={},n=l(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const i=l(t,["gcsUri"]);i!=null&&a(e,["gcsDestination","outputUriPrefix"],i);const o=l(t,["bigqueryUri"]);if(o!=null&&a(e,["bigqueryDestination","outputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Lx(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=l(t,["dest"]);return e!==void 0&&o!=null&&a(e,["outputConfig"],Vx(tx(o))),n}function kx(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["model"],oe(t,i));const o=l(e,["src"]);o!=null&&a(n,["inputConfig"],Px(fT(t,o)));const s=l(e,["config"]);return s!=null&&a(n,["config"],Lx(s,n)),n}function Bx(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],jo(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function Gx(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],jo(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function Hx(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const s=l(t,["filter"]);return e!==void 0&&s!=null&&a(e,["_query","filter"],s),n}function Fx(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Hx(n,e)),e}function qx(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],jo(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function zx(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function Ox(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Yx(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Kx(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],zx(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],Ox(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],Yx(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function Jx(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Kx(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function Xx(t){const e={},n=l(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function $x(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function Qx(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$x(o))),a(e,["urlMetadata"],i)}return e}function Zx(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],Jx(n));const i=l(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],Xx(i));const o=l(t,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const s=l(t,["finishReason"]);s!=null&&a(e,["finishReason"],s);const r=l(t,["urlContextMetadata"]);r!=null&&a(e,["urlContextMetadata"],Qx(r));const u=l(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=l(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const f=l(t,["index"]);f!=null&&a(e,["index"],f);const d=l(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const h=l(t,["safetyRatings"]);return h!=null&&a(e,["safetyRatings"],h),e}function Wx(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Zx(f))),a(e,["candidates"],c)}const o=l(t,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const s=l(t,["promptFeedback"]);s!=null&&a(e,["promptFeedback"],s);const r=l(t,["responseId"]);r!=null&&a(e,["responseId"],r);const u=l(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function pT(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const i=l(t,["code"]);i!=null&&a(e,["code"],i);const o=l(t,["message"]);return o!=null&&a(e,["message"],o),e}function jx(t){const e={},n=l(t,["response"]);n!=null&&a(e,["response"],Wx(n));const i=l(t,["error"]);return i!=null&&a(e,["error"],pT(i)),e}function eM(t){const e={},n=l(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const i=l(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>jx(s))),a(e,["inlinedResponses"],o)}return e}function dl(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["metadata","displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["metadata","state"]);o!=null&&a(e,["state"],dT(o));const s=l(t,["metadata","createTime"]);s!=null&&a(e,["createTime"],s);const r=l(t,["metadata","endTime"]);r!=null&&a(e,["endTime"],r);const u=l(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=l(t,["metadata","model"]);c!=null&&a(e,["model"],c);const f=l(t,["metadata","output"]);return f!=null&&a(e,["dest"],eM(f)),e}function tM(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>dl(r))),a(e,["batchJobs"],s)}return e}function nM(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["done"]);o!=null&&a(e,["done"],o);const s=l(t,["error"]);return s!=null&&a(e,["error"],pT(s)),e}function gT(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const i=l(t,["code"]);i!=null&&a(e,["code"],i);const o=l(t,["message"]);return o!=null&&a(e,["message"],o),e}function iM(t){const e={},n=l(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const i=l(t,["gcsSource","uris"]);i!=null&&a(e,["gcsUri"],i);const o=l(t,["bigquerySource","inputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function oM(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const i=l(t,["gcsDestination","outputUriPrefix"]);i!=null&&a(e,["gcsUri"],i);const o=l(t,["bigqueryDestination","outputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function Vc(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["state"]);o!=null&&a(e,["state"],dT(o));const s=l(t,["error"]);s!=null&&a(e,["error"],gT(s));const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const u=l(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=l(t,["endTime"]);c!=null&&a(e,["endTime"],c);const f=l(t,["updateTime"]);f!=null&&a(e,["updateTime"],f);const d=l(t,["model"]);d!=null&&a(e,["model"],d);const h=l(t,["inputConfig"]);h!=null&&a(e,["src"],iM(h));const m=l(t,["outputConfig"]);return m!=null&&a(e,["dest"],oM(m)),e}function sM(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Vc(r))),a(e,["batchJobs"],s)}return e}function rM(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["done"]);o!=null&&a(e,["done"],o);const s=l(t,["error"]);return s!=null&&a(e,["error"],gT(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Gi||(Gi={}));class Mr{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!i||Object.keys(i).length===0?r={config:{}}:typeof i=="object"?r=Object.assign({},i):r=i,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(s=(o=r.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lM extends Oi{constructor(e){super(),this.apiClient=e,this.create=async n=>{var i,o;if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${r}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let s="",r={};const u=xp(this.apiClient,n);s=J("{model}:batchGenerateContent",u._url),r=u._query;const d=u.batch.inputConfig.requests,h=d.requests,m=[];for(const g of h){const T=g;if(T.systemInstruction){const R=T.systemInstruction;delete T.systemInstruction;const y=T.request;y.systemInstruction=R,T.request=y}m.push(T)}return d.requests=m,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()).then(g=>dl(g))}return await this.createInternal(n)},this.list=async(n={})=>new Mr(Gi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=kx(this.apiClient,e);return u=J("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Vc(d))}else{const f=xp(this.apiClient,e);return u=J("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>dl(d))}}async get(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Bx(this.apiClient,e);return u=J("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Vc(d))}else{const f=Dx(this.apiClient,e);return u=J("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>dl(d))}}async cancel(e){var n,i,o,s;let r="",u={};if(this.apiClient.isVertexAI()){const c=Gx(this.apiClient,e);r=J("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=Nx(this.apiClient,e);r=J("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Fx(e);return u=J("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=sM(d),m=new Sp;return Object.assign(m,h),m})}else{const f=Ix(e);return u=J("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=tM(d),m=new Sp;return Object.assign(m,h),m})}}async delete(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=qx(this.apiClient,e);return u=J("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>rM(d))}else{const f=Ux(this.apiClient,e);return u=J("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>nM(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aM(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function uM(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function cM(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function fM(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],aM(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],uM(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],cM(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function Mp(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>fM(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function dM(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=l(t,["description"]);i!=null&&a(e,["description"],i);const o=l(t,["name"]);o!=null&&a(e,["name"],o);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const r=l(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const u=l(t,["response"]);u!=null&&a(e,["response"],u);const c=l(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function hM(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function mM(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],hM(n)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function pM(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function gM(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],pM(n)),e}function yM(){return{}}function vM(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function TM(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>dM(f))),a(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],mM(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],gM(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],yM());const r=l(t,["computerUse"]);r!=null&&a(e,["computerUse"],vM(r));const u=l(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function SM(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function CM(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function AM(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],CM(n));const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function EM(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],SM(n));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],AM(i)),e}function xM(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const s=l(t,["displayName"]);e!==void 0&&s!=null&&a(e,["displayName"],s);const r=l(t,["contents"]);if(e!==void 0&&r!=null){let d=Gt(r);Array.isArray(d)&&(d=d.map(h=>Mp(h))),a(e,["contents"],d)}const u=l(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Mp(it(u)));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>TM(h))),a(e,["tools"],d)}const f=l(t,["toolConfig"]);if(e!==void 0&&f!=null&&a(e,["toolConfig"],EM(f)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function MM(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["model"],tT(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],xM(o,n)),n}function _M(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],Nn(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function RM(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],Nn(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function wM(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),n}function DM(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],Nn(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],wM(o,n)),n}function NM(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function bM(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],NM(n,e)),e}function IM(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function UM(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["data"]);i!=null&&a(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function PM(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function VM(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],IM(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],UM(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],PM(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function _p(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>VM(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function LM(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["parameters"]);o!=null&&a(e,["parameters"],o);const s=l(t,["parametersJsonSchema"]);s!=null&&a(e,["parametersJsonSchema"],s);const r=l(t,["response"]);r!=null&&a(e,["response"],r);const u=l(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function kM(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function BM(t){const e={},n=l(t,["timeRangeFilter"]);n!=null&&a(e,["timeRangeFilter"],kM(n));const i=l(t,["excludeDomains"]);return i!=null&&a(e,["excludeDomains"],i),e}function GM(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function HM(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],GM(n)),e}function FM(t){const e={},n=l(t,["excludeDomains"]);return n!=null&&a(e,["excludeDomains"],n),e}function qM(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function zM(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],qM(n));const i=l(t,["authType"]);i!=null&&a(e,["authType"],i);const o=l(t,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const s=l(t,["httpBasicAuthConfig"]);s!=null&&a(e,["httpBasicAuthConfig"],s);const r=l(t,["oauthConfig"]);r!=null&&a(e,["oauthConfig"],r);const u=l(t,["oidcConfig"]);return u!=null&&a(e,["oidcConfig"],u),e}function OM(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],zM(n)),e}function YM(){return{}}function KM(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function JM(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>LM(m))),a(e,["functionDeclarations"],h)}const i=l(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=l(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],BM(o));const s=l(t,["googleSearchRetrieval"]);s!=null&&a(e,["googleSearchRetrieval"],HM(s));const r=l(t,["enterpriseWebSearch"]);r!=null&&a(e,["enterpriseWebSearch"],FM(r));const u=l(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],OM(u)),l(t,["urlContext"])!=null&&a(e,["urlContext"],YM());const f=l(t,["computerUse"]);f!=null&&a(e,["computerUse"],KM(f));const d=l(t,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function XM(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function $M(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function QM(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],$M(n));const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function ZM(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],XM(n));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],QM(i)),e}function WM(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const s=l(t,["displayName"]);e!==void 0&&s!=null&&a(e,["displayName"],s);const r=l(t,["contents"]);if(e!==void 0&&r!=null){let h=Gt(r);Array.isArray(h)&&(h=h.map(m=>_p(m))),a(e,["contents"],h)}const u=l(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],_p(it(u)));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>JM(m))),a(e,["tools"],h)}const f=l(t,["toolConfig"]);e!==void 0&&f!=null&&a(e,["toolConfig"],ZM(f));const d=l(t,["kmsKeyName"]);return e!==void 0&&d!=null&&a(e,["encryption_spec","kmsKeyName"],d),n}function jM(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["model"],tT(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],WM(o,n)),n}function e_(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],Nn(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function t_(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],Nn(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function n_(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),n}function i_(t,e){const n={},i=l(e,["name"]);i!=null&&a(n,["_url","name"],Nn(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],n_(o,n)),n}function o_(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function s_(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],o_(n,e)),e}function hl(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["model"]);o!=null&&a(e,["model"],o);const s=l(t,["createTime"]);s!=null&&a(e,["createTime"],s);const r=l(t,["updateTime"]);r!=null&&a(e,["updateTime"],r);const u=l(t,["expireTime"]);u!=null&&a(e,["expireTime"],u);const c=l(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function r_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function l_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>hl(r))),a(e,["cachedContents"],s)}return e}function ml(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["model"]);o!=null&&a(e,["model"],o);const s=l(t,["createTime"]);s!=null&&a(e,["createTime"],s);const r=l(t,["updateTime"]);r!=null&&a(e,["updateTime"],r);const u=l(t,["expireTime"]);u!=null&&a(e,["expireTime"],u);const c=l(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function a_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function u_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ml(r))),a(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c_ extends Oi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(Gi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=jM(this.apiClient,e);return u=J("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ml(d))}else{const f=MM(this.apiClient,e);return u=J("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>hl(d))}}async get(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=e_(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ml(d))}else{const f=_M(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>hl(d))}}async delete(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=t_(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=a_(d),m=new vp;return Object.assign(m,h),m})}else{const f=RM(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=r_(d),m=new vp;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=i_(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ml(d))}else{const f=DM(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>hl(d))}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=s_(e);return u=J("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=u_(d),m=new Tp;return Object.assign(m,h),m})}else{const f=bM(e);return u=J("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=l_(d),m=new Tp;return Object.assign(m,h),m})}}}function Rp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(t){return this instanceof ge?(this.v=t,this):new ge(t)}function wo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),o[Symbol.asyncIterator]=function(){return this},o;function r(p){return function(g){return Promise.resolve(g).then(p,h)}}function u(p,g){i[p]&&(o[p]=function(T){return new Promise(function(R,y){s.push([p,T,R,y])>1||c(p,T)})},g&&(o[p]=g(o[p])))}function c(p,g){try{f(i[p](g))}catch(T){m(s[0][3],T)}}function f(p){p.value instanceof ge?Promise.resolve(p.value.v).then(d,h):m(s[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function m(p,g){p(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ks(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rp=="function"?Rp(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(r){return new Promise(function(u,c){r=t[s](r),o(u,c,r.done,r.value)})}}function o(s,r,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:yT(n)}function yT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function d_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wp(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let s=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),s&&!yT(t[i])&&(s=!1),i++;s?e.push(...o):e.pop()}return e}class h_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new m_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class m_{constructor(e,n,i,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),d_(s)}async sendMessage(e){var n;await this.sendPromise;const i=it(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,r,u;const c=await o,f=(r=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];d!=null&&(m=(u=d.slice(h))!==null&&u!==void 0?u:[]);const p=f?[f]:[];this.recordHistory(i,p,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=it(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?wp(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return wo(this,arguments,function*(){var r,u,c,f;const d=[];try{for(var h=!0,m=ks(e),p;p=yield ge(m.next()),r=p.done,!r;h=!0){f=p.value,h=!1;const g=f;if(f_(g)){const T=(o=(i=g.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;T!==void 0&&d.push(T)}yield yield ge(g)}}catch(g){u={error:g}}finally{try{!h&&!r&&(c=m.return)&&(yield ge(c.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...wp(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ra extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ra.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function g_(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],p_(n,e)),e}function y_(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const i=l(t,["message"]);i!=null&&a(e,["message"],i);const o=l(t,["code"]);return o!=null&&a(e,["code"],o),e}function v_(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["mimeType"]);o!=null&&a(e,["mimeType"],o);const s=l(t,["sizeBytes"]);s!=null&&a(e,["sizeBytes"],s);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const u=l(t,["expirationTime"]);u!=null&&a(e,["expirationTime"],u);const c=l(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=l(t,["sha256Hash"]);f!=null&&a(e,["sha256Hash"],f);const d=l(t,["uri"]);d!=null&&a(e,["uri"],d);const h=l(t,["downloadUri"]);h!=null&&a(e,["downloadUri"],h);const m=l(t,["state"]);m!=null&&a(e,["state"],m);const p=l(t,["source"]);p!=null&&a(e,["source"],p);const g=l(t,["videoMetadata"]);g!=null&&a(e,["videoMetadata"],g);const T=l(t,["error"]);return T!=null&&a(e,["error"],y_(T)),e}function T_(t){const e={},n=l(t,["file"]);n!=null&&a(e,["file"],v_(n));const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function S_(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","file"],aT(n));const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function C_(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","file"],aT(n));const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function A_(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const i=l(t,["message"]);i!=null&&a(e,["message"],i);const o=l(t,["code"]);return o!=null&&a(e,["code"],o),e}function Lc(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["mimeType"]);o!=null&&a(e,["mimeType"],o);const s=l(t,["sizeBytes"]);s!=null&&a(e,["sizeBytes"],s);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const u=l(t,["expirationTime"]);u!=null&&a(e,["expirationTime"],u);const c=l(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=l(t,["sha256Hash"]);f!=null&&a(e,["sha256Hash"],f);const d=l(t,["uri"]);d!=null&&a(e,["uri"],d);const h=l(t,["downloadUri"]);h!=null&&a(e,["downloadUri"],h);const m=l(t,["state"]);m!=null&&a(e,["state"],m);const p=l(t,["source"]);p!=null&&a(e,["source"],p);const g=l(t,["videoMetadata"]);g!=null&&a(e,["videoMetadata"],g);const T=l(t,["error"]);return T!=null&&a(e,["error"],A_(T)),e}function E_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Lc(r))),a(e,["files"],s)}return e}function x_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function M_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends Oi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(Gi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Lc(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g_(e);return s=J("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=E_(c),d=new qE;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T_(e);return s=J("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=x_(c),d=new zE;return Object.assign(d,f),d})}}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S_(e);return s=J("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>Lc(c))}}async delete(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C_(e);return s=J("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=M_(c),d=new OE;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R_(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function vT(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],R_(n)),e}function w_(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],vT(i)),e}function D_(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>w_(o))),a(e,["speakerVoiceConfigs"],i)}return e}function N_(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],vT(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],D_(i));const o=l(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function b_(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function I_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function U_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function P_(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],b_(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],I_(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],U_(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function V_(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>P_(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function L_(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=l(t,["description"]);i!=null&&a(e,["description"],i);const o=l(t,["name"]);o!=null&&a(e,["name"],o);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const r=l(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const u=l(t,["response"]);u!=null&&a(e,["response"],u);const c=l(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function k_(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function B_(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],k_(n)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function G_(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function H_(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],G_(n)),e}function F_(){return{}}function q_(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function z_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>L_(f))),a(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],B_(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],H_(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],F_());const r=l(t,["computerUse"]);r!=null&&a(e,["computerUse"],q_(r));const u=l(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function O_(t){const e={},n=l(t,["handle"]);if(n!=null&&a(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Dp(){return{}}function Y_(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const i=l(t,["startOfSpeechSensitivity"]);i!=null&&a(e,["startOfSpeechSensitivity"],i);const o=l(t,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const s=l(t,["prefixPaddingMs"]);s!=null&&a(e,["prefixPaddingMs"],s);const r=l(t,["silenceDurationMs"]);return r!=null&&a(e,["silenceDurationMs"],r),e}function K_(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],Y_(n));const i=l(t,["activityHandling"]);i!=null&&a(e,["activityHandling"],i);const o=l(t,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function J_(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function X_(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const i=l(t,["slidingWindow"]);return i!=null&&a(e,["slidingWindow"],J_(i)),e}function $_(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function Q_(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const s=l(t,["temperature"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","temperature"],s);const r=l(t,["topP"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","topP"],r);const u=l(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","mediaResolution"],f);const d=l(t,["seed"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","seed"],d);const h=l(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],N_(dd(h)));const m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const p=l(t,["systemInstruction"]);e!==void 0&&p!=null&&a(e,["setup","systemInstruction"],V_(it(p)));const g=l(t,["tools"]);if(e!==void 0&&g!=null){let w=Wo(g);Array.isArray(w)&&(w=w.map(_=>z_(Zo(_)))),a(e,["setup","tools"],w)}const T=l(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],O_(T));const R=l(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&a(e,["setup","inputAudioTranscription"],Dp());const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],Dp());const v=l(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],K_(v));const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],X_(S));const A=l(t,["proactivity"]);return e!==void 0&&A!=null&&a(e,["setup","proactivity"],$_(A)),n}function Z_(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["setup","model"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],Q_(o,n)),n}function W_(){return{}}function j_(){return{}}function eR(t){const e={},n=l(t,["media"]);n!=null&&a(e,["mediaChunks"],nT(n));const i=l(t,["audio"]);i!=null&&a(e,["audio"],oT(i));const o=l(t,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const s=l(t,["video"]);s!=null&&a(e,["video"],iT(s));const r=l(t,["text"]);return r!=null&&a(e,["text"],r),l(t,["activityStart"])!=null&&a(e,["activityStart"],W_()),l(t,["activityEnd"])!=null&&a(e,["activityEnd"],j_()),e}function TT(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const i=l(t,["weight"]);return i!=null&&a(e,["weight"],i),e}function tR(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TT(o))),a(e,["weightedPrompts"],i)}return e}function ST(t){const e={},n=l(t,["temperature"]);n!=null&&a(e,["temperature"],n);const i=l(t,["topK"]);i!=null&&a(e,["topK"],i);const o=l(t,["seed"]);o!=null&&a(e,["seed"],o);const s=l(t,["guidance"]);s!=null&&a(e,["guidance"],s);const r=l(t,["bpm"]);r!=null&&a(e,["bpm"],r);const u=l(t,["density"]);u!=null&&a(e,["density"],u);const c=l(t,["brightness"]);c!=null&&a(e,["brightness"],c);const f=l(t,["scale"]);f!=null&&a(e,["scale"],f);const d=l(t,["muteBass"]);d!=null&&a(e,["muteBass"],d);const h=l(t,["muteDrums"]);h!=null&&a(e,["muteDrums"],h);const m=l(t,["onlyBassAndDrums"]);m!=null&&a(e,["onlyBassAndDrums"],m);const p=l(t,["musicGenerationMode"]);return p!=null&&a(e,["musicGenerationMode"],p),e}function nR(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],ST(n)),e}function CT(t){const e={},n=l(t,["model"]);return n!=null&&a(e,["model"],n),e}function AT(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TT(o))),a(e,["weightedPrompts"],i)}return e}function kc(t){const e={},n=l(t,["setup"]);n!=null&&a(e,["setup"],CT(n));const i=l(t,["clientContent"]);i!=null&&a(e,["clientContent"],AT(i));const o=l(t,["musicGenerationConfig"]);o!=null&&a(e,["musicGenerationConfig"],ST(o));const s=l(t,["playbackControl"]);return s!=null&&a(e,["playbackControl"],s),e}function iR(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function oR(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],iR(n)),e}function sR(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],oR(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function rR(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function lR(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["data"]);i!=null&&a(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function aR(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function uR(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],rR(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],lR(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],aR(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function cR(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>uR(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function fR(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["parameters"]);o!=null&&a(e,["parameters"],o);const s=l(t,["parametersJsonSchema"]);s!=null&&a(e,["parametersJsonSchema"],s);const r=l(t,["response"]);r!=null&&a(e,["response"],r);const u=l(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function dR(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function hR(t){const e={},n=l(t,["timeRangeFilter"]);n!=null&&a(e,["timeRangeFilter"],dR(n));const i=l(t,["excludeDomains"]);return i!=null&&a(e,["excludeDomains"],i),e}function mR(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function pR(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],mR(n)),e}function gR(t){const e={},n=l(t,["excludeDomains"]);return n!=null&&a(e,["excludeDomains"],n),e}function yR(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function vR(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],yR(n));const i=l(t,["authType"]);i!=null&&a(e,["authType"],i);const o=l(t,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const s=l(t,["httpBasicAuthConfig"]);s!=null&&a(e,["httpBasicAuthConfig"],s);const r=l(t,["oauthConfig"]);r!=null&&a(e,["oauthConfig"],r);const u=l(t,["oidcConfig"]);return u!=null&&a(e,["oidcConfig"],u),e}function TR(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],vR(n)),e}function SR(){return{}}function CR(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function AR(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>fR(m))),a(e,["functionDeclarations"],h)}const i=l(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=l(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],hR(o));const s=l(t,["googleSearchRetrieval"]);s!=null&&a(e,["googleSearchRetrieval"],pR(s));const r=l(t,["enterpriseWebSearch"]);r!=null&&a(e,["enterpriseWebSearch"],gR(r));const u=l(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],TR(u)),l(t,["urlContext"])!=null&&a(e,["urlContext"],SR());const f=l(t,["computerUse"]);f!=null&&a(e,["computerUse"],CR(f));const d=l(t,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function ER(t){const e={},n=l(t,["handle"]);n!=null&&a(e,["handle"],n);const i=l(t,["transparent"]);return i!=null&&a(e,["transparent"],i),e}function Np(){return{}}function xR(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const i=l(t,["startOfSpeechSensitivity"]);i!=null&&a(e,["startOfSpeechSensitivity"],i);const o=l(t,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const s=l(t,["prefixPaddingMs"]);s!=null&&a(e,["prefixPaddingMs"],s);const r=l(t,["silenceDurationMs"]);return r!=null&&a(e,["silenceDurationMs"],r),e}function MR(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],xR(n));const i=l(t,["activityHandling"]);i!=null&&a(e,["activityHandling"],i);const o=l(t,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function _R(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function RR(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const i=l(t,["slidingWindow"]);return i!=null&&a(e,["slidingWindow"],_R(i)),e}function wR(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function DR(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const s=l(t,["temperature"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","temperature"],s);const r=l(t,["topP"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","topP"],r);const u=l(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","mediaResolution"],f);const d=l(t,["seed"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","seed"],d);const h=l(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],sR(dd(h)));const m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const p=l(t,["systemInstruction"]);e!==void 0&&p!=null&&a(e,["setup","systemInstruction"],cR(it(p)));const g=l(t,["tools"]);if(e!==void 0&&g!=null){let w=Wo(g);Array.isArray(w)&&(w=w.map(_=>AR(Zo(_)))),a(e,["setup","tools"],w)}const T=l(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],ER(T));const R=l(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&a(e,["setup","inputAudioTranscription"],Np());const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],Np());const v=l(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],MR(v));const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],RR(S));const A=l(t,["proactivity"]);return e!==void 0&&A!=null&&a(e,["setup","proactivity"],wR(A)),n}function NR(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["setup","model"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],DR(o,n)),n}function bR(){return{}}function IR(){return{}}function UR(t){const e={},n=l(t,["media"]);n!=null&&a(e,["mediaChunks"],nT(n));const i=l(t,["audio"]);i!=null&&a(e,["audio"],oT(i));const o=l(t,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const s=l(t,["video"]);s!=null&&a(e,["video"],iT(s));const r=l(t,["text"]);return r!=null&&a(e,["text"],r),l(t,["activityStart"])!=null&&a(e,["activityStart"],bR()),l(t,["activityEnd"])!=null&&a(e,["activityEnd"],IR()),e}function PR(){return{}}function VR(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function LR(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function kR(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function BR(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],VR(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],LR(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],kR(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function GR(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>BR(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function bp(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const i=l(t,["finished"]);return i!=null&&a(e,["finished"],i),e}function HR(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function FR(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>HR(o))),a(e,["urlMetadata"],i)}return e}function qR(t){const e={},n=l(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],GR(n));const i=l(t,["turnComplete"]);i!=null&&a(e,["turnComplete"],i);const o=l(t,["interrupted"]);o!=null&&a(e,["interrupted"],o);const s=l(t,["groundingMetadata"]);s!=null&&a(e,["groundingMetadata"],s);const r=l(t,["generationComplete"]);r!=null&&a(e,["generationComplete"],r);const u=l(t,["inputTranscription"]);u!=null&&a(e,["inputTranscription"],bp(u));const c=l(t,["outputTranscription"]);c!=null&&a(e,["outputTranscription"],bp(c));const f=l(t,["urlContextMetadata"]);return f!=null&&a(e,["urlContextMetadata"],FR(f)),e}function zR(t){const e={},n=l(t,["id"]);n!=null&&a(e,["id"],n);const i=l(t,["args"]);i!=null&&a(e,["args"],i);const o=l(t,["name"]);return o!=null&&a(e,["name"],o),e}function OR(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zR(o))),a(e,["functionCalls"],i)}return e}function YR(t){const e={},n=l(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function Jr(t){const e={},n=l(t,["modality"]);n!=null&&a(e,["modality"],n);const i=l(t,["tokenCount"]);return i!=null&&a(e,["tokenCount"],i),e}function KR(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const i=l(t,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const o=l(t,["responseTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const s=l(t,["toolUsePromptTokenCount"]);s!=null&&a(e,["toolUsePromptTokenCount"],s);const r=l(t,["thoughtsTokenCount"]);r!=null&&a(e,["thoughtsTokenCount"],r);const u=l(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=l(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>Jr(p))),a(e,["promptTokensDetails"],m)}const f=l(t,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>Jr(p))),a(e,["cacheTokensDetails"],m)}const d=l(t,["responseTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>Jr(p))),a(e,["responseTokensDetails"],m)}const h=l(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(p=>Jr(p))),a(e,["toolUsePromptTokensDetails"],m)}return e}function JR(t){const e={},n=l(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function XR(t){const e={},n=l(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const i=l(t,["resumable"]);i!=null&&a(e,["resumable"],i);const o=l(t,["lastConsumedClientMessageIndex"]);return o!=null&&a(e,["lastConsumedClientMessageIndex"],o),e}function $R(t){const e={};l(t,["setupComplete"])!=null&&a(e,["setupComplete"],PR());const i=l(t,["serverContent"]);i!=null&&a(e,["serverContent"],qR(i));const o=l(t,["toolCall"]);o!=null&&a(e,["toolCall"],OR(o));const s=l(t,["toolCallCancellation"]);s!=null&&a(e,["toolCallCancellation"],YR(s));const r=l(t,["usageMetadata"]);r!=null&&a(e,["usageMetadata"],KR(r));const u=l(t,["goAway"]);u!=null&&a(e,["goAway"],JR(u));const c=l(t,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],XR(c)),e}function QR(){return{}}function ZR(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const i=l(t,["weight"]);return i!=null&&a(e,["weight"],i),e}function WR(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZR(o))),a(e,["weightedPrompts"],i)}return e}function jR(t){const e={},n=l(t,["temperature"]);n!=null&&a(e,["temperature"],n);const i=l(t,["topK"]);i!=null&&a(e,["topK"],i);const o=l(t,["seed"]);o!=null&&a(e,["seed"],o);const s=l(t,["guidance"]);s!=null&&a(e,["guidance"],s);const r=l(t,["bpm"]);r!=null&&a(e,["bpm"],r);const u=l(t,["density"]);u!=null&&a(e,["density"],u);const c=l(t,["brightness"]);c!=null&&a(e,["brightness"],c);const f=l(t,["scale"]);f!=null&&a(e,["scale"],f);const d=l(t,["muteBass"]);d!=null&&a(e,["muteBass"],d);const h=l(t,["muteDrums"]);h!=null&&a(e,["muteDrums"],h);const m=l(t,["onlyBassAndDrums"]);m!=null&&a(e,["onlyBassAndDrums"],m);const p=l(t,["musicGenerationMode"]);return p!=null&&a(e,["musicGenerationMode"],p),e}function e2(t){const e={},n=l(t,["clientContent"]);n!=null&&a(e,["clientContent"],WR(n));const i=l(t,["musicGenerationConfig"]);return i!=null&&a(e,["musicGenerationConfig"],jR(i)),e}function t2(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);i!=null&&a(e,["mimeType"],i);const o=l(t,["sourceMetadata"]);return o!=null&&a(e,["sourceMetadata"],e2(o)),e}function n2(t){const e={},n=l(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>t2(o))),a(e,["audioChunks"],i)}return e}function i2(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const i=l(t,["filteredReason"]);return i!=null&&a(e,["filteredReason"],i),e}function o2(t){const e={};l(t,["setupComplete"])!=null&&a(e,["setupComplete"],QR());const i=l(t,["serverContent"]);i!=null&&a(e,["serverContent"],n2(i));const o=l(t,["filteredPrompt"]);return o!=null&&a(e,["filteredPrompt"],i2(o)),e}function s2(t){const e={},n=l(t,["sessionId"]);return n!=null&&a(e,["sessionId"],n),e}function r2(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function l2(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["data"]);i!=null&&a(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function a2(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function u2(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],r2(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],l2(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],a2(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function c2(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>u2(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function Ip(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const i=l(t,["finished"]);return i!=null&&a(e,["finished"],i),e}function f2(t){const e={},n=l(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],c2(n));const i=l(t,["turnComplete"]);i!=null&&a(e,["turnComplete"],i);const o=l(t,["interrupted"]);o!=null&&a(e,["interrupted"],o);const s=l(t,["groundingMetadata"]);s!=null&&a(e,["groundingMetadata"],s);const r=l(t,["generationComplete"]);r!=null&&a(e,["generationComplete"],r);const u=l(t,["inputTranscription"]);u!=null&&a(e,["inputTranscription"],Ip(u));const c=l(t,["outputTranscription"]);return c!=null&&a(e,["outputTranscription"],Ip(c)),e}function d2(t){const e={},n=l(t,["args"]);n!=null&&a(e,["args"],n);const i=l(t,["name"]);return i!=null&&a(e,["name"],i),e}function h2(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>d2(o))),a(e,["functionCalls"],i)}return e}function m2(t){const e={},n=l(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function Xr(t){const e={},n=l(t,["modality"]);n!=null&&a(e,["modality"],n);const i=l(t,["tokenCount"]);return i!=null&&a(e,["tokenCount"],i),e}function p2(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const i=l(t,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const o=l(t,["candidatesTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const s=l(t,["toolUsePromptTokenCount"]);s!=null&&a(e,["toolUsePromptTokenCount"],s);const r=l(t,["thoughtsTokenCount"]);r!=null&&a(e,["thoughtsTokenCount"],r);const u=l(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=l(t,["promptTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Xr(g))),a(e,["promptTokensDetails"],p)}const f=l(t,["cacheTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Xr(g))),a(e,["cacheTokensDetails"],p)}const d=l(t,["candidatesTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Xr(g))),a(e,["responseTokensDetails"],p)}const h=l(t,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>Xr(g))),a(e,["toolUsePromptTokensDetails"],p)}const m=l(t,["trafficType"]);return m!=null&&a(e,["trafficType"],m),e}function g2(t){const e={},n=l(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function y2(t){const e={},n=l(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const i=l(t,["resumable"]);i!=null&&a(e,["resumable"],i);const o=l(t,["lastConsumedClientMessageIndex"]);return o!=null&&a(e,["lastConsumedClientMessageIndex"],o),e}function v2(t){const e={},n=l(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],s2(n));const i=l(t,["serverContent"]);i!=null&&a(e,["serverContent"],f2(i));const o=l(t,["toolCall"]);o!=null&&a(e,["toolCall"],h2(o));const s=l(t,["toolCallCancellation"]);s!=null&&a(e,["toolCallCancellation"],m2(s));const r=l(t,["usageMetadata"]);r!=null&&a(e,["usageMetadata"],p2(r));const u=l(t,["goAway"]);u!=null&&a(e,["goAway"],g2(u));const c=l(t,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],y2(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T2(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function S2(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function C2(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function A2(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],T2(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],S2(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],C2(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function wa(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>A2(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function E2(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const i=l(t,["default"]);i!=null&&a(e,["default"],i);const o=l(t,["description"]);o!=null&&a(e,["description"],o);const s=l(t,["enum"]);s!=null&&a(e,["enum"],s);const r=l(t,["example"]);r!=null&&a(e,["example"],r);const u=l(t,["format"]);u!=null&&a(e,["format"],u);const c=l(t,["items"]);c!=null&&a(e,["items"],c);const f=l(t,["maxItems"]);f!=null&&a(e,["maxItems"],f);const d=l(t,["maxLength"]);d!=null&&a(e,["maxLength"],d);const h=l(t,["maxProperties"]);h!=null&&a(e,["maxProperties"],h);const m=l(t,["maximum"]);m!=null&&a(e,["maximum"],m);const p=l(t,["minItems"]);p!=null&&a(e,["minItems"],p);const g=l(t,["minLength"]);g!=null&&a(e,["minLength"],g);const T=l(t,["minProperties"]);T!=null&&a(e,["minProperties"],T);const R=l(t,["minimum"]);R!=null&&a(e,["minimum"],R);const y=l(t,["nullable"]);y!=null&&a(e,["nullable"],y);const v=l(t,["pattern"]);v!=null&&a(e,["pattern"],v);const S=l(t,["properties"]);S!=null&&a(e,["properties"],S);const A=l(t,["propertyOrdering"]);A!=null&&a(e,["propertyOrdering"],A);const w=l(t,["required"]);w!=null&&a(e,["required"],w);const _=l(t,["title"]);_!=null&&a(e,["title"],_);const N=l(t,["type"]);return N!=null&&a(e,["type"],N),e}function x2(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&a(e,["category"],n);const i=l(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function M2(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=l(t,["description"]);i!=null&&a(e,["description"],i);const o=l(t,["name"]);o!=null&&a(e,["name"],o);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const r=l(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const u=l(t,["response"]);u!=null&&a(e,["response"],u);const c=l(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function _2(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function R2(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],_2(n)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function w2(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function D2(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],w2(n)),e}function N2(){return{}}function b2(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function I2(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>M2(f))),a(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],R2(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],D2(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],N2());const r=l(t,["computerUse"]);r!=null&&a(e,["computerUse"],b2(r));const u=l(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function U2(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function P2(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function V2(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],P2(n));const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function L2(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],U2(n));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],V2(i)),e}function k2(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function ET(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],k2(n)),e}function B2(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],ET(i)),e}function G2(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>B2(o))),a(e,["speakerVoiceConfigs"],i)}return e}function H2(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],ET(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],G2(i));const o=l(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function F2(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const i=l(t,["thinkingBudget"]);return i!=null&&a(e,["thinkingBudget"],i),e}function q2(t,e,n){const i={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],wa(it(o)));const s=l(e,["temperature"]);s!=null&&a(i,["temperature"],s);const r=l(e,["topP"]);r!=null&&a(i,["topP"],r);const u=l(e,["topK"]);u!=null&&a(i,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&a(i,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&a(i,["stopSequences"],d);const h=l(e,["responseLogprobs"]);h!=null&&a(i,["responseLogprobs"],h);const m=l(e,["logprobs"]);m!=null&&a(i,["logprobs"],m);const p=l(e,["presencePenalty"]);p!=null&&a(i,["presencePenalty"],p);const g=l(e,["frequencyPenalty"]);g!=null&&a(i,["frequencyPenalty"],g);const T=l(e,["seed"]);T!=null&&a(i,["seed"],T);const R=l(e,["responseMimeType"]);R!=null&&a(i,["responseMimeType"],R);const y=l(e,["responseSchema"]);y!=null&&a(i,["responseSchema"],E2(cd(y)));const v=l(e,["responseJsonSchema"]);if(v!=null&&a(i,["responseJsonSchema"],v),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=l(e,["safetySettings"]);if(n!==void 0&&S!=null){let b=S;Array.isArray(b)&&(b=b.map(I=>x2(I))),a(n,["safetySettings"],b)}const A=l(e,["tools"]);if(n!==void 0&&A!=null){let b=Wo(A);Array.isArray(b)&&(b=b.map(I=>I2(Zo(I)))),a(n,["tools"],b)}const w=l(e,["toolConfig"]);if(n!==void 0&&w!=null&&a(n,["toolConfig"],L2(w)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=l(e,["cachedContent"]);n!==void 0&&_!=null&&a(n,["cachedContent"],Nn(t,_));const N=l(e,["responseModalities"]);N!=null&&a(i,["responseModalities"],N);const C=l(e,["mediaResolution"]);C!=null&&a(i,["mediaResolution"],C);const E=l(e,["speechConfig"]);if(E!=null&&a(i,["speechConfig"],H2(fd(E))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=l(e,["thinkingConfig"]);return D!=null&&a(i,["thinkingConfig"],F2(D)),i}function Up(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);if(o!=null){let r=Gt(o);Array.isArray(r)&&(r=r.map(u=>wa(u))),a(n,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(n,["generationConfig"],q2(t,s,n)),n}function z2(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=l(t,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const s=l(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&a(e,["requests[]","outputDimensionality"],s),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function O2(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);o!=null&&a(n,["requests[]","content"],rT(t,o));const s=l(e,["config"]);s!=null&&a(n,["config"],z2(s,n));const r=l(e,["model"]);return r!==void 0&&a(n,["requests[]","model"],oe(t,r)),n}function Y2(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&a(e,["parameters","aspectRatio"],o);const s=l(t,["guidanceScale"]);if(e!==void 0&&s!=null&&a(e,["parameters","guidanceScale"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=l(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const u=l(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=l(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&a(e,["parameters","includeRaiReason"],f);const d=l(t,["language"]);e!==void 0&&d!=null&&a(e,["parameters","language"],d);const h=l(t,["outputMimeType"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","mimeType"],h);const m=l(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=l(t,["imageSize"]);if(e!==void 0&&p!=null&&a(e,["parameters","sampleImageSize"],p),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function K2(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=l(e,["config"]);return s!=null&&a(n,["config"],Y2(s,n)),n}function J2(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","name"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function X2(t,e,n){const i={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const s=l(e,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const r=l(e,["filter"]);n!==void 0&&r!=null&&a(n,["_query","filter"],r);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],uT(t,u)),i}function $2(t,e){const n={},i=l(e,["config"]);return i!=null&&a(n,["config"],X2(t,i,n)),n}function Q2(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=l(t,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const s=l(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&a(e,["defaultCheckpointId"],s),n}function Z2(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","name"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],Q2(o,n)),n}function W2(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","name"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function j2(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ew(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);if(o!=null){let r=Gt(o);Array.isArray(r)&&(r=r.map(u=>wa(u))),a(n,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(n,["config"],j2(s)),n}function xT(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],Yi(n));const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function tw(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=l(t,["image"]);if(e!==void 0&&o!=null&&a(e,["instances[0]","image"],xT(o)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function nw(t,e){const n={},i=l(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=l(t,["durationSeconds"]);if(e!==void 0&&o!=null&&a(e,["parameters","durationSeconds"],o),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&a(e,["parameters","aspectRatio"],s);const r=l(t,["resolution"]);e!==void 0&&r!=null&&a(e,["parameters","resolution"],r);const u=l(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=l(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const f=l(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&a(e,["parameters","enhancePrompt"],f),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function iw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=l(e,["image"]);if(s!=null&&a(n,["instances[0]","image"],xT(s)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=l(e,["source"]);r!=null&&a(n,["config"],tw(r,n));const u=l(e,["config"]);return u!=null&&a(n,["config"],nw(u,n)),n}function ow(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function sw(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["data"]);i!=null&&a(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function rw(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function lw(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],ow(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],sw(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],rw(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function es(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>lw(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function aw(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const i=l(t,["default"]);i!=null&&a(e,["default"],i);const o=l(t,["description"]);o!=null&&a(e,["description"],o);const s=l(t,["enum"]);s!=null&&a(e,["enum"],s);const r=l(t,["example"]);r!=null&&a(e,["example"],r);const u=l(t,["format"]);u!=null&&a(e,["format"],u);const c=l(t,["items"]);c!=null&&a(e,["items"],c);const f=l(t,["maxItems"]);f!=null&&a(e,["maxItems"],f);const d=l(t,["maxLength"]);d!=null&&a(e,["maxLength"],d);const h=l(t,["maxProperties"]);h!=null&&a(e,["maxProperties"],h);const m=l(t,["maximum"]);m!=null&&a(e,["maximum"],m);const p=l(t,["minItems"]);p!=null&&a(e,["minItems"],p);const g=l(t,["minLength"]);g!=null&&a(e,["minLength"],g);const T=l(t,["minProperties"]);T!=null&&a(e,["minProperties"],T);const R=l(t,["minimum"]);R!=null&&a(e,["minimum"],R);const y=l(t,["nullable"]);y!=null&&a(e,["nullable"],y);const v=l(t,["pattern"]);v!=null&&a(e,["pattern"],v);const S=l(t,["properties"]);S!=null&&a(e,["properties"],S);const A=l(t,["propertyOrdering"]);A!=null&&a(e,["propertyOrdering"],A);const w=l(t,["required"]);w!=null&&a(e,["required"],w);const _=l(t,["title"]);_!=null&&a(e,["title"],_);const N=l(t,["type"]);return N!=null&&a(e,["type"],N),e}function uw(t){const e={},n=l(t,["featureSelectionPreference"]);return n!=null&&a(e,["featureSelectionPreference"],n),e}function cw(t){const e={},n=l(t,["method"]);n!=null&&a(e,["method"],n);const i=l(t,["category"]);i!=null&&a(e,["category"],i);const o=l(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function fw(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["parameters"]);o!=null&&a(e,["parameters"],o);const s=l(t,["parametersJsonSchema"]);s!=null&&a(e,["parametersJsonSchema"],s);const r=l(t,["response"]);r!=null&&a(e,["response"],r);const u=l(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function dw(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function hw(t){const e={},n=l(t,["timeRangeFilter"]);n!=null&&a(e,["timeRangeFilter"],dw(n));const i=l(t,["excludeDomains"]);return i!=null&&a(e,["excludeDomains"],i),e}function mw(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function pw(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],mw(n)),e}function gw(t){const e={},n=l(t,["excludeDomains"]);return n!=null&&a(e,["excludeDomains"],n),e}function yw(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function vw(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],yw(n));const i=l(t,["authType"]);i!=null&&a(e,["authType"],i);const o=l(t,["googleServiceAccountConfig"]);o!=null&&a(e,["googleServiceAccountConfig"],o);const s=l(t,["httpBasicAuthConfig"]);s!=null&&a(e,["httpBasicAuthConfig"],s);const r=l(t,["oauthConfig"]);r!=null&&a(e,["oauthConfig"],r);const u=l(t,["oidcConfig"]);return u!=null&&a(e,["oidcConfig"],u),e}function Tw(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],vw(n)),e}function Sw(){return{}}function Cw(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function MT(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>fw(m))),a(e,["functionDeclarations"],h)}const i=l(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=l(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],hw(o));const s=l(t,["googleSearchRetrieval"]);s!=null&&a(e,["googleSearchRetrieval"],pw(s));const r=l(t,["enterpriseWebSearch"]);r!=null&&a(e,["enterpriseWebSearch"],gw(r));const u=l(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Tw(u)),l(t,["urlContext"])!=null&&a(e,["urlContext"],Sw());const f=l(t,["computerUse"]);f!=null&&a(e,["computerUse"],Cw(f));const d=l(t,["codeExecution"]);return d!=null&&a(e,["codeExecution"],d),e}function Aw(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&a(e,["allowedFunctionNames"],i),e}function Ew(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&a(e,["longitude"],i),e}function xw(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],Ew(n));const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function Mw(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Aw(n));const i=l(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],xw(i)),e}function _w(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function Rw(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],_w(n)),e}function ww(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],Rw(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=l(t,["languageCode"]);return i!=null&&a(e,["languageCode"],i),e}function Dw(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const i=l(t,["thinkingBudget"]);return i!=null&&a(e,["thinkingBudget"],i),e}function Nw(t,e,n){const i={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],es(it(o)));const s=l(e,["temperature"]);s!=null&&a(i,["temperature"],s);const r=l(e,["topP"]);r!=null&&a(i,["topP"],r);const u=l(e,["topK"]);u!=null&&a(i,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&a(i,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&a(i,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&a(i,["stopSequences"],d);const h=l(e,["responseLogprobs"]);h!=null&&a(i,["responseLogprobs"],h);const m=l(e,["logprobs"]);m!=null&&a(i,["logprobs"],m);const p=l(e,["presencePenalty"]);p!=null&&a(i,["presencePenalty"],p);const g=l(e,["frequencyPenalty"]);g!=null&&a(i,["frequencyPenalty"],g);const T=l(e,["seed"]);T!=null&&a(i,["seed"],T);const R=l(e,["responseMimeType"]);R!=null&&a(i,["responseMimeType"],R);const y=l(e,["responseSchema"]);y!=null&&a(i,["responseSchema"],aw(cd(y)));const v=l(e,["responseJsonSchema"]);v!=null&&a(i,["responseJsonSchema"],v);const S=l(e,["routingConfig"]);S!=null&&a(i,["routingConfig"],S);const A=l(e,["modelSelectionConfig"]);A!=null&&a(i,["modelConfig"],uw(A));const w=l(e,["safetySettings"]);if(n!==void 0&&w!=null){let k=w;Array.isArray(k)&&(k=k.map(M=>cw(M))),a(n,["safetySettings"],k)}const _=l(e,["tools"]);if(n!==void 0&&_!=null){let k=Wo(_);Array.isArray(k)&&(k=k.map(M=>MT(Zo(M)))),a(n,["tools"],k)}const N=l(e,["toolConfig"]);n!==void 0&&N!=null&&a(n,["toolConfig"],Mw(N));const C=l(e,["labels"]);n!==void 0&&C!=null&&a(n,["labels"],C);const E=l(e,["cachedContent"]);n!==void 0&&E!=null&&a(n,["cachedContent"],Nn(t,E));const D=l(e,["responseModalities"]);D!=null&&a(i,["responseModalities"],D);const b=l(e,["mediaResolution"]);b!=null&&a(i,["mediaResolution"],b);const I=l(e,["speechConfig"]);I!=null&&a(i,["speechConfig"],ww(fd(I)));const L=l(e,["audioTimestamp"]);L!=null&&a(i,["audioTimestamp"],L);const P=l(e,["thinkingConfig"]);return P!=null&&a(i,["thinkingConfig"],Dw(P)),i}function Pp(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);if(o!=null){let r=Gt(o);Array.isArray(r)&&(r=r.map(u=>es(u))),a(n,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(n,["generationConfig"],Nw(t,s,n)),n}function bw(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&a(e,["instances[]","task_type"],i);const o=l(t,["title"]);e!==void 0&&o!=null&&a(e,["instances[]","title"],o);const s=l(t,["outputDimensionality"]);e!==void 0&&s!=null&&a(e,["parameters","outputDimensionality"],s);const r=l(t,["mimeType"]);e!==void 0&&r!=null&&a(e,["instances[]","mimeType"],r);const u=l(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function Iw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);o!=null&&a(n,["instances[]","content"],rT(t,o));const s=l(e,["config"]);return s!=null&&a(n,["config"],bw(s,n)),n}function Uw(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const s=l(t,["numberOfImages"]);e!==void 0&&s!=null&&a(e,["parameters","sampleCount"],s);const r=l(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const u=l(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=l(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&a(e,["parameters","safetySetting"],f);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const h=l(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&a(e,["parameters","includeRaiReason"],m);const p=l(t,["language"]);e!==void 0&&p!=null&&a(e,["parameters","language"],p);const g=l(t,["outputMimeType"]);e!==void 0&&g!=null&&a(e,["parameters","outputOptions","mimeType"],g);const T=l(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const R=l(t,["addWatermark"]);e!==void 0&&R!=null&&a(e,["parameters","addWatermark"],R);const y=l(t,["imageSize"]);e!==void 0&&y!=null&&a(e,["parameters","sampleImageSize"],y);const v=l(t,["enhancePrompt"]);return e!==void 0&&v!=null&&a(e,["parameters","enhancePrompt"],v),n}function Pw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=l(e,["config"]);return s!=null&&a(n,["config"],Uw(s,n)),n}function cn(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const i=l(t,["imageBytes"]);i!=null&&a(e,["bytesBase64Encoded"],Yi(i));const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Vw(t){const e={},n=l(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const i=l(t,["segmentationClasses"]);i!=null&&a(e,["maskClasses"],i);const o=l(t,["maskDilation"]);return o!=null&&a(e,["dilation"],o),e}function Lw(t){const e={},n=l(t,["controlType"]);n!=null&&a(e,["controlType"],n);const i=l(t,["enableControlImageComputation"]);return i!=null&&a(e,["computeControl"],i),e}function kw(t){const e={},n=l(t,["styleDescription"]);return n!=null&&a(e,["styleDescription"],n),e}function Bw(t){const e={},n=l(t,["subjectType"]);n!=null&&a(e,["subjectType"],n);const i=l(t,["subjectDescription"]);return i!=null&&a(e,["subjectDescription"],i),e}function Gw(t){const e={},n=l(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],cn(n));const i=l(t,["referenceId"]);i!=null&&a(e,["referenceId"],i);const o=l(t,["referenceType"]);o!=null&&a(e,["referenceType"],o);const s=l(t,["maskImageConfig"]);s!=null&&a(e,["maskImageConfig"],Vw(s));const r=l(t,["controlImageConfig"]);r!=null&&a(e,["controlImageConfig"],Lw(r));const u=l(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],kw(u));const c=l(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],Bw(c)),e}function Hw(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const s=l(t,["numberOfImages"]);e!==void 0&&s!=null&&a(e,["parameters","sampleCount"],s);const r=l(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const u=l(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=l(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&a(e,["parameters","safetySetting"],f);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const h=l(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&a(e,["parameters","includeRaiReason"],m);const p=l(t,["language"]);e!==void 0&&p!=null&&a(e,["parameters","language"],p);const g=l(t,["outputMimeType"]);e!==void 0&&g!=null&&a(e,["parameters","outputOptions","mimeType"],g);const T=l(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const R=l(t,["addWatermark"]);e!==void 0&&R!=null&&a(e,["parameters","addWatermark"],R);const y=l(t,["editMode"]);e!==void 0&&y!=null&&a(e,["parameters","editMode"],y);const v=l(t,["baseSteps"]);return e!==void 0&&v!=null&&a(e,["parameters","editConfig","baseSteps"],v),n}function Fw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=l(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Gw(c))),a(n,["instances[0]","referenceImages"],u)}const r=l(e,["config"]);return r!=null&&a(n,["config"],Hw(r,n)),n}function qw(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=l(t,["includeRaiReason"]);e!==void 0&&o!=null&&a(e,["parameters","includeRaiReason"],o);const s=l(t,["outputMimeType"]);e!==void 0&&s!=null&&a(e,["parameters","outputOptions","mimeType"],s);const r=l(t,["outputCompressionQuality"]);e!==void 0&&r!=null&&a(e,["parameters","outputOptions","compressionQuality"],r);const u=l(t,["enhanceInputImage"]);e!==void 0&&u!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=l(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=l(t,["numberOfImages"]);e!==void 0&&f!=null&&a(e,["parameters","sampleCount"],f);const d=l(t,["mode"]);return e!==void 0&&d!=null&&a(e,["parameters","mode"],d),n}function zw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["image"]);o!=null&&a(n,["instances[0]","image"],cn(o));const s=l(e,["upscaleFactor"]);s!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],s);const r=l(e,["config"]);return r!=null&&a(n,["config"],qw(r,n)),n}function Ow(t){const e={},n=l(t,["productImage"]);return n!=null&&a(e,["image"],cn(n)),e}function Yw(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=l(t,["personImage"]);e!==void 0&&o!=null&&a(e,["instances[0]","personImage","image"],cn(o));const s=l(t,["productImages"]);if(e!==void 0&&s!=null){let r=s;Array.isArray(r)&&(r=r.map(u=>Ow(u))),a(e,["instances[0]","productImages"],r)}return n}function Kw(t,e){const n={},i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=l(t,["baseSteps"]);e!==void 0&&o!=null&&a(e,["parameters","editConfig","baseSteps"],o);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&a(e,["parameters","storageUri"],s);const r=l(t,["seed"]);e!==void 0&&r!=null&&a(e,["parameters","seed"],r);const u=l(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const f=l(t,["addWatermark"]);e!==void 0&&f!=null&&a(e,["parameters","addWatermark"],f);const d=l(t,["outputMimeType"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","mimeType"],d);const h=l(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h);const m=l(t,["enhancePrompt"]);return e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m),n}function Jw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["source"]);o!=null&&a(n,["config"],Yw(o,n));const s=l(e,["config"]);return s!=null&&a(n,["config"],Kw(s,n)),n}function Xw(t){const e={},n=l(t,["image"]);return n!=null&&a(e,["image"],cn(n)),e}function $w(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=l(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],cn(o));const s=l(t,["scribbleImage"]);return e!==void 0&&s!=null&&a(e,["instances[0]","scribble"],Xw(s)),n}function Qw(t,e){const n={},i=l(t,["mode"]);e!==void 0&&i!=null&&a(e,["parameters","mode"],i);const o=l(t,["maxPredictions"]);e!==void 0&&o!=null&&a(e,["parameters","maxPredictions"],o);const s=l(t,["confidenceThreshold"]);e!==void 0&&s!=null&&a(e,["parameters","confidenceThreshold"],s);const r=l(t,["maskDilation"]);e!==void 0&&r!=null&&a(e,["parameters","maskDilation"],r);const u=l(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u),n}function Zw(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["source"]);o!=null&&a(n,["config"],$w(o,n));const s=l(e,["config"]);return s!=null&&a(n,["config"],Qw(s,n)),n}function Ww(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","name"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function jw(t,e,n){const i={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const s=l(e,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const r=l(e,["filter"]);n!==void 0&&r!=null&&a(n,["_query","filter"],r);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],uT(t,u)),i}function eD(t,e){const n={},i=l(e,["config"]);return i!=null&&a(n,["config"],jw(t,i,n)),n}function tD(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=l(t,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const s=l(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&a(e,["defaultCheckpointId"],s),n}function nD(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],tD(o,n)),n}function iD(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","name"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],o),n}function oD(t,e){const n={},i=l(t,["systemInstruction"]);e!==void 0&&i!=null&&a(e,["systemInstruction"],es(it(i)));const o=l(t,["tools"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>MT(u))),a(e,["tools"],r)}const s=l(t,["generationConfig"]);return e!==void 0&&s!=null&&a(e,["generationConfig"],s),n}function sD(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);if(o!=null){let r=Gt(o);Array.isArray(r)&&(r=r.map(u=>es(u))),a(n,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(n,["config"],oD(s,n)),n}function rD(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["contents"]);if(o!=null){let r=Gt(o);Array.isArray(r)&&(r=r.map(u=>es(u))),a(n,["contents"],r)}const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function _T(t){const e={},n=l(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const i=l(t,["videoBytes"]);i!=null&&a(e,["bytesBase64Encoded"],Yi(i));const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function lD(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=l(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],cn(o));const s=l(t,["video"]);return e!==void 0&&s!=null&&a(e,["instances[0]","video"],_T(s)),n}function aD(t){const e={},n=l(t,["image"]);n!=null&&a(e,["image"],cn(n));const i=l(t,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function uD(t,e){const n={},i=l(t,["numberOfVideos"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const s=l(t,["fps"]);e!==void 0&&s!=null&&a(e,["parameters","fps"],s);const r=l(t,["durationSeconds"]);e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r);const u=l(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const f=l(t,["resolution"]);e!==void 0&&f!=null&&a(e,["parameters","resolution"],f);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const h=l(t,["pubsubTopic"]);e!==void 0&&h!=null&&a(e,["parameters","pubsubTopic"],h);const m=l(t,["negativePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","negativePrompt"],m);const p=l(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const g=l(t,["generateAudio"]);e!==void 0&&g!=null&&a(e,["parameters","generateAudio"],g);const T=l(t,["lastFrame"]);e!==void 0&&T!=null&&a(e,["instances[0]","lastFrame"],cn(T));const R=l(t,["referenceImages"]);if(e!==void 0&&R!=null){let v=R;Array.isArray(v)&&(v=v.map(S=>aD(S))),a(e,["instances[0]","referenceImages"],v)}const y=l(t,["compressionQuality"]);return e!==void 0&&y!=null&&a(e,["parameters","compressionQuality"],y),n}function cD(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["_url","model"],oe(t,i));const o=l(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=l(e,["image"]);s!=null&&a(n,["instances[0]","image"],cn(s));const r=l(e,["video"]);r!=null&&a(n,["instances[0]","video"],_T(r));const u=l(e,["source"]);u!=null&&a(n,["config"],lD(u,n));const c=l(e,["config"]);return c!=null&&a(n,["config"],uD(c,n)),n}function fD(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function dD(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function hD(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function mD(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],fD(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],dD(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],hD(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function pD(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>mD(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function gD(t){const e={},n=l(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function yD(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function vD(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yD(o))),a(e,["urlMetadata"],i)}return e}function TD(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],pD(n));const i=l(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],gD(i));const o=l(t,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const s=l(t,["finishReason"]);s!=null&&a(e,["finishReason"],s);const r=l(t,["urlContextMetadata"]);r!=null&&a(e,["urlContextMetadata"],vD(r));const u=l(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=l(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const f=l(t,["index"]);f!=null&&a(e,["index"],f);const d=l(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const h=l(t,["safetyRatings"]);return h!=null&&a(e,["safetyRatings"],h),e}function Vp(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>TD(f))),a(e,["candidates"],c)}const o=l(t,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const s=l(t,["promptFeedback"]);s!=null&&a(e,["promptFeedback"],s);const r=l(t,["responseId"]);r!=null&&a(e,["responseId"],r);const u=l(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function SD(t){const e={},n=l(t,["values"]);return n!=null&&a(e,["values"],n),e}function CD(){return{}}function AD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>SD(r))),a(e,["embeddings"],s)}return l(t,["metadata"])!=null&&a(e,["metadata"],CD()),e}function ED(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],Yi(n));const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function RT(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const i=l(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=l(t,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function xD(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["image"],ED(n));const i=l(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=l(t,["_self"]);return o!=null&&a(e,["safetyAttributes"],RT(o)),e}function MD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>xD(r))),a(e,["generatedImages"],s)}const o=l(t,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],RT(o)),e}function _D(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=l(t,["createTime"]);i!=null&&a(e,["createTime"],i);const o=l(t,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function Bc(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["description"]);o!=null&&a(e,["description"],o);const s=l(t,["version"]);s!=null&&a(e,["version"],s);const r=l(t,["_self"]);r!=null&&a(e,["tunedModelInfo"],_D(r));const u=l(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=l(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const f=l(t,["supportedGenerationMethods"]);return f!=null&&a(e,["supportedActions"],f),e}function RD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["_self"]);if(o!=null){let s=cT(o);Array.isArray(s)&&(s=s.map(r=>Bc(r))),a(e,["models"],s)}return e}function wD(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function DD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["totalTokens"]);i!=null&&a(e,["totalTokens"],i);const o=l(t,["cachedContentTokenCount"]);return o!=null&&a(e,["cachedContentTokenCount"],o),e}function ND(t){const e={},n=l(t,["video","uri"]);n!=null&&a(e,["uri"],n);const i=l(t,["video","encodedVideo"]);i!=null&&a(e,["videoBytes"],Yi(i));const o=l(t,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function bD(t){const e={},n=l(t,["_self"]);return n!=null&&a(e,["video"],ND(n)),e}function ID(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>bD(r))),a(e,["generatedVideos"],s)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function UD(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=l(t,["done"]);o!=null&&a(e,["done"],o);const s=l(t,["error"]);s!=null&&a(e,["error"],s);const r=l(t,["response","generateVideoResponse"]);return r!=null&&a(e,["response"],ID(r)),e}function PD(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function VD(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["data"]);i!=null&&a(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function LD(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function kD(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],PD(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],VD(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],LD(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function BD(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>kD(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function GD(t){const e={},n=l(t,["citations"]);return n!=null&&a(e,["citations"],n),e}function HD(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&a(e,["urlRetrievalStatus"],i),e}function FD(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>HD(o))),a(e,["urlMetadata"],i)}return e}function qD(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],BD(n));const i=l(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],GD(i));const o=l(t,["finishMessage"]);o!=null&&a(e,["finishMessage"],o);const s=l(t,["finishReason"]);s!=null&&a(e,["finishReason"],s);const r=l(t,["urlContextMetadata"]);r!=null&&a(e,["urlContextMetadata"],FD(r));const u=l(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=l(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const f=l(t,["index"]);f!=null&&a(e,["index"],f);const d=l(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const h=l(t,["safetyRatings"]);return h!=null&&a(e,["safetyRatings"],h),e}function Lp(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>qD(d))),a(e,["candidates"],f)}const o=l(t,["createTime"]);o!=null&&a(e,["createTime"],o);const s=l(t,["modelVersion"]);s!=null&&a(e,["modelVersion"],s);const r=l(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const u=l(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=l(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function zD(t){const e={},n=l(t,["truncated"]);n!=null&&a(e,["truncated"],n);const i=l(t,["token_count"]);return i!=null&&a(e,["tokenCount"],i),e}function OD(t){const e={},n=l(t,["values"]);n!=null&&a(e,["values"],n);const i=l(t,["statistics"]);return i!=null&&a(e,["statistics"],zD(i)),e}function YD(t){const e={},n=l(t,["billableCharacterCount"]);return n!=null&&a(e,["billableCharacterCount"],n),e}function KD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>OD(r))),a(e,["embeddings"],s)}const o=l(t,["metadata"]);return o!=null&&a(e,["metadata"],YD(o)),e}function wT(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&a(e,["imageBytes"],Yi(i));const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function DT(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const i=l(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=l(t,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function Da(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["image"],wT(n));const i=l(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=l(t,["_self"]);o!=null&&a(e,["safetyAttributes"],DT(o));const s=l(t,["prompt"]);return s!=null&&a(e,["enhancedPrompt"],s),e}function JD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Da(r))),a(e,["generatedImages"],s)}const o=l(t,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],DT(o)),e}function XD(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Da(s))),a(e,["generatedImages"],o)}return e}function $D(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Da(s))),a(e,["generatedImages"],o)}return e}function QD(t){const e={},n=l(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Da(o))),a(e,["generatedImages"],i)}return e}function ZD(t){const e={},n=l(t,["label"]);n!=null&&a(e,["label"],n);const i=l(t,["score"]);return i!=null&&a(e,["score"],i),e}function WD(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["mask"],wT(n));const i=l(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ZD(s))),a(e,["labels"],o)}return e}function jD(t){const e={},n=l(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>WD(o))),a(e,["generatedMasks"],i)}return e}function eN(t){const e={},n=l(t,["endpoint"]);n!=null&&a(e,["name"],n);const i=l(t,["deployedModelId"]);return i!=null&&a(e,["deployedModelId"],i),e}function tN(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const i=l(t,["createTime"]);i!=null&&a(e,["createTime"],i);const o=l(t,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function nN(t){const e={},n=l(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const i=l(t,["epoch"]);i!=null&&a(e,["epoch"],i);const o=l(t,["step"]);return o!=null&&a(e,["step"],o),e}function Gc(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=l(t,["description"]);o!=null&&a(e,["description"],o);const s=l(t,["versionId"]);s!=null&&a(e,["version"],s);const r=l(t,["deployedModels"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>eN(m))),a(e,["endpoints"],h)}const u=l(t,["labels"]);u!=null&&a(e,["labels"],u);const c=l(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],tN(c));const f=l(t,["defaultCheckpointId"]);f!=null&&a(e,["defaultCheckpointId"],f);const d=l(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>nN(m))),a(e,["checkpoints"],h)}return e}function iN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["_self"]);if(o!=null){let s=cT(o);Array.isArray(s)&&(s=s.map(r=>Gc(r))),a(e,["models"],s)}return e}function oN(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function sN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["totalTokens"]);return i!=null&&a(e,["totalTokens"],i),e}function rN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["tokensInfo"]);return i!=null&&a(e,["tokensInfo"],i),e}function lN(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],Yi(i));const o=l(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function aN(t){const e={},n=l(t,["_self"]);return n!=null&&a(e,["video"],lN(n)),e}function uN(t){const e={},n=l(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>aN(r))),a(e,["generatedVideos"],s)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function cN(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const i=l(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=l(t,["done"]);o!=null&&a(e,["done"],o);const s=l(t,["error"]);s!=null&&a(e,["error"],s);const r=l(t,["response"]);return r!=null&&a(e,["response"],uN(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fN="Content-Type",dN="X-Server-Timeout",hN="User-Agent",Hc="x-goog-api-client",mN="1.17.0",pN=`google-genai-sdk/${mN}`,gN="v1beta1",yN="v1beta",kp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vN{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:gN,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yN,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))o.searchParams.append(r,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>o.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&TN(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Bp(o),new Uc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Bp(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return wo(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield ge(o.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c,{stream:!0});try{const h=JSON.parse(f);if("error"in h){const m=JSON.parse(JSON.stringify(h.error)),p=m.status,g=m.code,T=`got status: ${p}. ${JSON.stringify(h)}`;if(g>=400&&g<600)throw new Ra({message:T,status:g})}}catch(h){if(h.name==="ApiError")throw h}r+=f;let d=r.match(kp);for(;d;){const h=d[1];try{const m=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ge(new Uc(m)),r=r.slice(d[0].length),d=r.match(kp)}catch(m){throw new Error(`exception parsing stream chunk ${h}. ${m}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=pN+" "+this.clientOptions.userAgentExtra;return e[hN]=n,e[Hc]=n,e[fN]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(dN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,r=await s.stat(e);o.sizeBytes=String(r.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const c=await this.fetchUploadUrl(o,n);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},r=await this.request({path:J("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=r==null?void 0:r.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Bp(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Ra({message:o,status:n}):new Error(o)}}function TN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,r){const u=Object.assign({},s);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const f=r[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SN="mcp_used/unknown";let CN=!1;function NT(t){for(const e of t)if(AN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return CN}function bT(t){var e;const n=(e=t[Hc])!==null&&e!==void 0?e:"";t[Hc]=(n+` ${SN}`).trimStart()}function AN(t){return t!==null&&typeof t=="object"&&t instanceof hd}function EN(t,e=100){return wo(this,arguments,function*(){let i,o=0;for(;o<e;){const s=yield ge(t.listTools({cursor:i}));for(const r of s.tools)yield yield ge(r),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class hd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new hd(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const s={},r=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,ks(EN(d))),f;f=await c.next(),e=f.done,!e;u=!0){o=f.value,u=!1;const h=o;r.push(h);const m=h.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=d}}catch(h){n={error:h}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),ex(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const r=await o.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xN(t,e,n){const i=new KE;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const s=o2(o);Object.assign(i,s),e(i)}class MN{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),r=wN(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(S=>{f=S}),h=e.callbacks,m=function(){f({})},p=this.apiClient,g={onopen:m,onmessage:S=>{xN(p,h.onmessage,S)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(S){}},T=this.webSocketFactory.create(c,RN(r),g);T.connect(),await d;const R=oe(this.apiClient,e.model),y=CT({model:R}),v=kc({setup:y});return T.send(JSON.stringify(v)),new _N(T,this.apiClient)}}class _N{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=tR(e),i=AT(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=nR(e),i=kc(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=kc({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fo.PLAY)}pause(){this.sendPlaybackControl(fo.PAUSE)}stop(){this.sendPlaybackControl(fo.STOP)}resetContext(){this.sendPlaybackControl(fo.RESET_CONTEXT)}close(){this.conn.close()}}function RN(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function wN(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function NN(t,e,n){const i=new YE;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const r=v2(s);Object.assign(i,r)}else{const r=$R(s);Object.assign(i,r)}e(i)}class bN{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new MN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,s,r,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&NT(e.config.tools)&&bT(h);const m=VN(h);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const E=this.apiClient.getApiKey();let D="BidiGenerateContent",b="key";E!=null&&E.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",b="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${D}?${b}=${E}`}let p=()=>{};const g=new Promise(E=>{p=E}),T=e.callbacks,R=function(){var E;(E=T==null?void 0:T.onopen)===null||E===void 0||E.call(T),p({})},y=this.apiClient,v={onopen:R,onmessage:E=>{NN(y,T.onmessage,E)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(E){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(E){}},S=this.webSocketFactory.create(d,PN(m),v);S.connect(),await g;let A=oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const E=this.apiClient.getProject(),D=this.apiClient.getLocation();A=`projects/${E}/locations/${D}/`+A}let w={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ql.AUDIO]}:e.config.responseModalities=[Ql.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],N=[];for(const E of _)if(this.isCallableTool(E)){const D=E;N.push(await D.tool())}else N.push(E);N.length>0&&(e.config.tools=N);const C={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=NR(this.apiClient,C):w=Z_(this.apiClient,C),delete w.config,S.send(JSON.stringify(w)),new UN(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const IN={turnComplete:!0};class UN{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Gt(n.turns),e.isVertexAI()?i=i.map(o=>es(o)):i=i.map(o=>wa(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(DN)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},IN),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:UR(e)}:n={realtimeInput:eR(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PN(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function VN(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gp=10;function Hp(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Do(r)){o=!0;break}if(!o)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Do(t){return"callTool"in t&&typeof t.callTool=="function"}function LN(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Do(o)))!==null&&i!==void 0?i:!1}function kN(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!Do(o)))!==null&&i!==void 0?i:!1}function Fp(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BN extends Oi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,s,r,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!LN(n)||Hp(n.config))return await this.generateContentInternal(c);if(kN(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const h=Gt(c.contents),m=(s=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:Gp;let p=0;for(;p<m&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const g=f.candidates[0].content,T=[];for(const R of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(Do(R)){const v=await R.callTool(f.functionCalls);T.push(...v)}p++,d={role:"user",parts:T},c.contents=Gt(c.contents),c.contents.push(g),c.contents.push(d),Fp(c.config)&&(h.push(g),h.push(d))}return Fp(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Hp(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let s;const r=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:r.push(c);let u;return s?u={generatedImages:r,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:r,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new Mr(Gi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const r=await Promise.all(s.map(async c=>Do(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&NT(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),bT(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,o;const s=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Do(r)){const u=r,c=await u.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var n,i,o;const s=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Gp;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,h){var m,p;return wo(this,arguments,function*(){for(var g,T,R,y;u<s;){r&&(u++,r=!1);const w=yield ge(f.processParamsMaybeAddMcpUsage(h)),_=yield ge(f.generateContentStreamInternal(w)),N=[],C=[];try{for(var v=!0,S=(T=void 0,ks(_)),A;A=yield ge(S.next()),g=A.done,!g;v=!0){y=A.value,v=!1;const E=y;if(yield yield ge(E),E.candidates&&(!((m=E.candidates[0])===null||m===void 0)&&m.content)){C.push(E.candidates[0].content);for(const D of(p=E.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(u<s&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(D.functionCall.name)){const b=yield ge(d.get(D.functionCall.name).callTool([D.functionCall]));N.push(...b)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(E){T={error:E}}finally{try{!v&&!g&&(R=S.return)&&(yield ge(R.call(S)))}finally{if(T)throw T.error}}if(N.length>0){r=!0;const E=new ps;E.candidates=[{content:{role:"user",parts:N}}],yield yield ge(E);const D=[];D.push(...C),D.push({role:"user",parts:N});const b=Gt(h.contents).concat(D);h.contents=b}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Pp(this.apiClient,e);return u=J("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=Lp(d),m=new ps;return Object.assign(m,h),m})}else{const f=Up(this.apiClient,e);return u=J("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=Vp(d),m=new ps;return Object.assign(m,h),m})}}async generateContentStreamInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Pp(this.apiClient,e);return u=J("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(h){return wo(this,arguments,function*(){var m,p,g,T;try{for(var R=!0,y=ks(h),v;v=yield ge(y.next()),m=v.done,!m;R=!0){T=v.value,R=!1;const S=T,A=Lp(yield ge(S.json()));A.sdkHttpResponse={headers:S.headers};const w=new ps;Object.assign(w,A),yield yield ge(w)}}catch(S){p={error:S}}finally{try{!R&&!m&&(g=y.return)&&(yield ge(g.call(y)))}finally{if(p)throw p.error}}})})}else{const f=Up(this.apiClient,e);return u=J("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(h){return wo(this,arguments,function*(){var m,p,g,T;try{for(var R=!0,y=ks(h),v;v=yield ge(y.next()),m=v.done,!m;R=!0){T=v.value,R=!1;const S=T,A=Vp(yield ge(S.json()));A.sdkHttpResponse={headers:S.headers};const w=new ps;Object.assign(w,A),yield yield ge(w)}}catch(S){p={error:S}}finally{try{!R&&!m&&(g=y.return)&&(yield ge(g.call(y)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Iw(this.apiClient,e);return u=J("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=KD(d),m=new fp;return Object.assign(m,h),m})}else{const f=O2(this.apiClient,e);return u=J("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=AD(d),m=new fp;return Object.assign(m,h),m})}}async generateImagesInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Pw(this.apiClient,e);return u=J("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=JD(d),m=new dp;return Object.assign(m,h),m})}else{const f=K2(this.apiClient,e);return u=J("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=MD(d),m=new dp;return Object.assign(m,h),m})}}async editImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=Fw(this.apiClient,e);return s=J("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=XD(c),d=new kE;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=zw(this.apiClient,e);return s=J("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=$D(c),d=new BE;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=Jw(this.apiClient,e);return s=J("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=QD(c),d=new GE;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=Zw(this.apiClient,e);return s=J("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=jD(c),d=new HE;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Ww(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Gc(d))}else{const f=J2(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Bc(d))}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=eD(this.apiClient,e);return u=J("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=iN(d),m=new hp;return Object.assign(m,h),m})}else{const f=$2(this.apiClient,e);return u=J("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=RD(d),m=new hp;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=nD(this.apiClient,e);return u=J("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Gc(d))}else{const f=Z2(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Bc(d))}}async delete(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=iD(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=oN(d),m=new mp;return Object.assign(m,h),m})}else{const f=W2(this.apiClient,e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=wD(d),m=new mp;return Object.assign(m,h),m})}}async countTokens(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=sD(this.apiClient,e);return u=J("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=sN(d),m=new pp;return Object.assign(m,h),m})}else{const f=ew(this.apiClient,e);return u=J("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=DD(d),m=new pp;return Object.assign(m,h),m})}}async computeTokens(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=rD(this.apiClient,e);return s=J("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=rN(c),d=new FE;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=cD(this.apiClient,e);return u=J("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=cN(d),m=new Zl;return Object.assign(m,h),m})}else{const f=iw(this.apiClient,e);return u=J("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=UD(d),m=new Zl;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GN(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function HN(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["operationName"],n);const i=l(t,["resourceName"]);i!=null&&a(e,["_url","resourceName"],i);const o=l(t,["config"]);return o!=null&&a(e,["config"],o),e}function FN(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qN extends Oi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=FN(e);return u=J("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r}else{const f=GN(e);return u=J("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r}}async fetchPredictVideosOperationInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=HN(e);return s=J("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zN(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function IT(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],zN(n)),e}function ON(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&a(e,["voiceConfig"],IT(i)),e}function YN(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ON(o))),a(e,["speakerVoiceConfigs"],i)}return e}function KN(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],IT(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&a(e,["multiSpeakerVoiceConfig"],YN(i));const o=l(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function JN(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&a(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&a(e,["startOffset"],o),e}function XN(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function $N(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function QN(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],JN(n));const i=l(t,["thought"]);i!=null&&a(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&a(e,["inlineData"],XN(o));const s=l(t,["fileData"]);s!=null&&a(e,["fileData"],$N(s));const r=l(t,["thoughtSignature"]);r!=null&&a(e,["thoughtSignature"],r);const u=l(t,["codeExecutionResult"]);u!=null&&a(e,["codeExecutionResult"],u);const c=l(t,["executableCode"]);c!=null&&a(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&a(e,["functionResponse"],d);const h=l(t,["text"]);return h!=null&&a(e,["text"],h),e}function ZN(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>QN(s))),a(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&a(e,["role"],i),e}function WN(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const i=l(t,["description"]);i!=null&&a(e,["description"],i);const o=l(t,["name"]);o!=null&&a(e,["name"],o);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const r=l(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const u=l(t,["response"]);u!=null&&a(e,["response"],u);const c=l(t,["responseJsonSchema"]);return c!=null&&a(e,["responseJsonSchema"],c),e}function jN(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&a(e,["endTime"],i),e}function eb(t){const e={},n=l(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],jN(n)),l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function tb(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&a(e,["dynamicThreshold"],i),e}function nb(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],tb(n)),e}function ib(){return{}}function ob(t){const e={},n=l(t,["environment"]);return n!=null&&a(e,["environment"],n),e}function sb(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>WN(f))),a(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],eb(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&a(e,["googleSearchRetrieval"],nb(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],ib());const r=l(t,["computerUse"]);r!=null&&a(e,["computerUse"],ob(r));const u=l(t,["codeExecution"]);return u!=null&&a(e,["codeExecution"],u),e}function rb(t){const e={},n=l(t,["handle"]);if(n!=null&&a(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qp(){return{}}function lb(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const i=l(t,["startOfSpeechSensitivity"]);i!=null&&a(e,["startOfSpeechSensitivity"],i);const o=l(t,["endOfSpeechSensitivity"]);o!=null&&a(e,["endOfSpeechSensitivity"],o);const s=l(t,["prefixPaddingMs"]);s!=null&&a(e,["prefixPaddingMs"],s);const r=l(t,["silenceDurationMs"]);return r!=null&&a(e,["silenceDurationMs"],r),e}function ab(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],lb(n));const i=l(t,["activityHandling"]);i!=null&&a(e,["activityHandling"],i);const o=l(t,["turnCoverage"]);return o!=null&&a(e,["turnCoverage"],o),e}function ub(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function cb(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const i=l(t,["slidingWindow"]);return i!=null&&a(e,["slidingWindow"],ub(i)),e}function fb(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function db(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const s=l(t,["temperature"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","temperature"],s);const r=l(t,["topP"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","topP"],r);const u=l(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","mediaResolution"],f);const d=l(t,["seed"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","seed"],d);const h=l(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],KN(dd(h)));const m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const p=l(t,["systemInstruction"]);e!==void 0&&p!=null&&a(e,["setup","systemInstruction"],ZN(it(p)));const g=l(t,["tools"]);if(e!==void 0&&g!=null){let w=Wo(g);Array.isArray(w)&&(w=w.map(_=>sb(Zo(_)))),a(e,["setup","tools"],w)}const T=l(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],rb(T));const R=l(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&a(e,["setup","inputAudioTranscription"],qp());const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],qp());const v=l(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],ab(v));const S=l(t,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],cb(S));const A=l(t,["proactivity"]);return e!==void 0&&A!=null&&a(e,["setup","proactivity"],fb(A)),n}function hb(t,e){const n={},i=l(e,["model"]);i!=null&&a(n,["setup","model"],oe(t,i));const o=l(e,["config"]);return o!=null&&a(n,["config"],db(o,n)),n}function mb(t,e,n){const i={},o=l(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const s=l(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&a(n,["newSessionExpireTime"],s);const r=l(e,["uses"]);n!==void 0&&r!=null&&a(n,["uses"],r);const u=l(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],hb(t,u));const c=l(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),i}function pb(t,e){const n={},i=l(e,["config"]);return i!=null&&a(n,["config"],mb(t,i,n)),n}function gb(t){const e={},n=l(t,["name"]);return n!=null&&a(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yb(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function vb(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=yb(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(f=>r.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class Tb extends Oi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=pb(this.apiClient,e);s=J("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=vb(u,e.config);return o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>gb(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sb(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function Cb(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const s=l(t,["filter"]);return e!==void 0&&s!=null&&a(e,["_query","filter"],s),n}function Ab(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Cb(n,e)),e}function Eb(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function xb(t){const e={},n=l(t,["textInput"]);n!=null&&a(e,["textInput"],n);const i=l(t,["output"]);return i!=null&&a(e,["output"],i),e}function Mb(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=l(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xb(o))),a(e,["examples","examples"],i)}return e}function _b(t,e){const n={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&a(e,["displayName"],i),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=l(t,["epochCount"]);e!==void 0&&o!=null&&a(e,["tuningTask","hyperparameters","epochCount"],o);const s=l(t,["learningRateMultiplier"]);if(s!=null&&a(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=l(t,["batchSize"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","batchSize"],r);const u=l(t,["learningRate"]);return e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","learningRate"],u),n}function Rb(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=l(t,["preTunedModel"]);i!=null&&a(e,["preTunedModel"],i);const o=l(t,["trainingDataset"]);o!=null&&a(e,["tuningTask","trainingData"],Mb(o));const s=l(t,["config"]);return s!=null&&a(e,["config"],_b(s,e)),e}function wb(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function Db(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const s=l(t,["filter"]);return e!==void 0&&s!=null&&a(e,["_query","filter"],s),n}function Nb(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Db(n,e)),e}function bb(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&a(e,["config"],i),e}function Ib(t,e){const n={},i=l(t,["gcsUri"]);e!==void 0&&i!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=l(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Ub(t,e){const n={},i=l(t,["gcsUri"]);i!=null&&a(n,["validationDatasetUri"],i);const o=l(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function Pb(t,e){const n={},i=l(t,["validationDataset"]);e!==void 0&&i!=null&&a(e,["supervisedTuningSpec"],Ub(i,n));const o=l(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&a(e,["tunedModelDisplayName"],o);const s=l(t,["description"]);e!==void 0&&s!=null&&a(e,["description"],s);const r=l(t,["epochCount"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=l(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=l(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=l(t,["preTunedModelCheckpointId"]);f!=null&&a(n,["preTunedModel","checkpointId"],f);const d=l(t,["adapterSize"]);if(e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Vb(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=l(t,["preTunedModel"]);i!=null&&a(e,["preTunedModel"],i);const o=l(t,["trainingDataset"]);o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],Ib(o,e));const s=l(t,["config"]);return s!=null&&a(e,["config"],Pb(s,e)),e}function Lb(t){const e={},n=l(t,["name"]);n!=null&&a(e,["model"],n);const i=l(t,["name"]);return i!=null&&a(e,["endpoint"],i),e}function UT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["state"]);o!=null&&a(e,["state"],lT(o));const s=l(t,["createTime"]);s!=null&&a(e,["createTime"],s);const r=l(t,["tuningTask","startTime"]);r!=null&&a(e,["startTime"],r);const u=l(t,["tuningTask","completeTime"]);u!=null&&a(e,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=l(t,["description"]);f!=null&&a(e,["description"],f);const d=l(t,["baseModel"]);d!=null&&a(e,["baseModel"],d);const h=l(t,["_self"]);h!=null&&a(e,["tunedModel"],Lb(h));const m=l(t,["customBaseModel"]);m!=null&&a(e,["customBaseModel"],m);const p=l(t,["experiment"]);p!=null&&a(e,["experiment"],p);const g=l(t,["labels"]);g!=null&&a(e,["labels"],g);const T=l(t,["outputUri"]);T!=null&&a(e,["outputUri"],T);const R=l(t,["pipelineJob"]);R!=null&&a(e,["pipelineJob"],R);const y=l(t,["serviceAccount"]);y!=null&&a(e,["serviceAccount"],y);const v=l(t,["tunedModelDisplayName"]);return v!=null&&a(e,["tunedModelDisplayName"],v),e}function kb(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>UT(r))),a(e,["tuningJobs"],s)}return e}function Bb(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["metadata"]);o!=null&&a(e,["metadata"],o);const s=l(t,["done"]);s!=null&&a(e,["done"],s);const r=l(t,["error"]);return r!=null&&a(e,["error"],r),e}function Gb(t){const e={},n=l(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const i=l(t,["epoch"]);i!=null&&a(e,["epoch"],i);const o=l(t,["step"]);o!=null&&a(e,["step"],o);const s=l(t,["endpoint"]);return s!=null&&a(e,["endpoint"],s),e}function Hb(t){const e={},n=l(t,["model"]);n!=null&&a(e,["model"],n);const i=l(t,["endpoint"]);i!=null&&a(e,["endpoint"],i);const o=l(t,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Gb(r))),a(e,["checkpoints"],s)}return e}function Fc(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&a(e,["name"],i);const o=l(t,["state"]);o!=null&&a(e,["state"],lT(o));const s=l(t,["createTime"]);s!=null&&a(e,["createTime"],s);const r=l(t,["startTime"]);r!=null&&a(e,["startTime"],r);const u=l(t,["endTime"]);u!=null&&a(e,["endTime"],u);const c=l(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=l(t,["error"]);f!=null&&a(e,["error"],f);const d=l(t,["description"]);d!=null&&a(e,["description"],d);const h=l(t,["baseModel"]);h!=null&&a(e,["baseModel"],h);const m=l(t,["tunedModel"]);m!=null&&a(e,["tunedModel"],Hb(m));const p=l(t,["preTunedModel"]);p!=null&&a(e,["preTunedModel"],p);const g=l(t,["supervisedTuningSpec"]);g!=null&&a(e,["supervisedTuningSpec"],g);const T=l(t,["tuningDataStats"]);T!=null&&a(e,["tuningDataStats"],T);const R=l(t,["encryptionSpec"]);R!=null&&a(e,["encryptionSpec"],R);const y=l(t,["partnerModelTuningSpec"]);y!=null&&a(e,["partnerModelTuningSpec"],y);const v=l(t,["customBaseModel"]);v!=null&&a(e,["customBaseModel"],v);const S=l(t,["experiment"]);S!=null&&a(e,["experiment"],S);const A=l(t,["labels"]);A!=null&&a(e,["labels"],A);const w=l(t,["outputUri"]);w!=null&&a(e,["outputUri"],w);const _=l(t,["pipelineJob"]);_!=null&&a(e,["pipelineJob"],_);const N=l(t,["serviceAccount"]);N!=null&&a(e,["serviceAccount"],N);const C=l(t,["tunedModelDisplayName"]);return C!=null&&a(e,["tunedModelDisplayName"],C),e}function Fb(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=l(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Fc(r))),a(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qb extends Oi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Mr(Gi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel},o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Ic.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=wb(e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>Fc(d))}else{const f=Sb(e);return u=J("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>UT(d))}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Nb(e);return u=J("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=Fb(d),m=new yp;return Object.assign(m,h),m})}else{const f=Ab(e);return u=J("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=kb(d),m=new yp;return Object.assign(m,h),m})}}async cancel(e){var n,i,o,s;let r="",u={};if(this.apiClient.isVertexAI()){const c=bb(e);r=J("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=Eb(e);r=J("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=Vb(e);return s=J("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Fc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rb(e);return s=J("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Bb(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zb{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ob=1024*1024*8,Yb=3,Kb=1e3,Jb=2,yu="x-goog-upload-status";async function Xb(t,e,n){var i,o,s;let r=0,u=0,c=new Uc(new Response),f="upload";for(r=t.size;u<r;){const h=Math.min(Ob,r-u),m=t.slice(u,u+h);u+h>=r&&(f+=", finalize");let p=0,g=Kb;for(;p<Yb&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[yu]));)p++,await Qb(g),g=g*Jb;if(u+=h,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[yu])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[yu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function $b(t){return{size:t.size,type:t.type}}function Qb(t){return new Promise(e=>setTimeout(e,t))}class Zb{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xb(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $b(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb{create(e,n,i){return new jb(e,n,i)}}class jb{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zp="x-goog-api-key";class eI{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(zp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tI="gl-node/";class PT{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=LE(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new eI(this.apiKey);this.apiClient=new vN({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:tI+"web",uploader:new Zb,downloader:new zb}),this.models=new BN(this.apiClient),this.live=new bN(this.apiClient,o,new Wb),this.batches=new lM(this.apiClient),this.chats=new h_(this.models,this.apiClient),this.caches=new c_(this.apiClient),this.files=new __(this.apiClient),this.operations=new qN(this.apiClient),this.authTokens=new Tb(this.apiClient),this.tunings=new qb(this.apiClient)}}const qc={imageEnhancement:{base:`Look at the image, imagine how it would look like if it would have been taken with a modern digital NIKON dslr camerea, 
    Transform the image to vibrant and realistic colors shot on an google pixel 9 pro. DO NOT RETURN Images that look like black and white ot greyscale iamges. Return only the updated image and nothing else
    `},videoGeneration:{base:`Look at the image and describe what could realistically happen in the next 5 seconds, boring is fine. IF a 
    person is not showing their face on the reference image, ensure they do not turn to the camera but keep looking elsewhere. 
    Answer directly with the description of what could happen in the five seconds.`,withUserNote:t=>`Look at the image and describe what could realistically happen in the next 5 seconds, boring is fine. IF a 
    person is not showing their face on the reference image, ensure they do not turn to the camera but keep looking elsewhere. 
      Take into account what the user mentioned about the image User Note:  "${t}", The user note is imporant 
     Answer directly with the description in active  language what happens in next five seconds.`}},VT=t=>qc.imageEnhancement.base,vu=t=>t?qc.videoGeneration.withUserNote(t):qc.videoGeneration.base;class nI{constructor(){rs(this,"ai",null)}init(e){if(!e)throw new Error("API key is required. Please provide your Gemini API key.");this.ai=new PT({apiKey:e})}isInitialized(){return this.ai!==null}async enhanceImage(e,n="image/jpeg",i){var s,r,u;if(!this.ai)throw new Error("Gemini service not initialized. Please provide an API key.");const o=VT();console.log("[Gemini] enhancement prompt:",o);try{const c=[{text:o},{inlineData:{mimeType:n,data:e}}],f=await this.ai.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:c});console.log("[Gemini] Full API response:",JSON.stringify(f,null,2));const d=((u=(r=(s=f.candidates)==null?void 0:s[0])==null?void 0:r.content)==null?void 0:u.parts)||[];console.log("[Gemini] Response parts count:",d.length);const h=[];let m="";for(const p of d){console.log("[Gemini] Processing part:",{hasText:!!p.text,hasInlineData:!!p.inlineData,inlineDataKeys:p.inlineData?Object.keys(p.inlineData):[]}),p.text&&(m+=p.text+`
`);const g=p.inlineData;if(g&&g.data&&g.mimeType){console.log("[Gemini] Found image data! MimeType:",g.mimeType);const T=`data:${g.mimeType};base64,${g.data}`;h.push(T)}}if(h.length===0){console.warn("[Gemini] No enhanced images returned from API, using original image"),console.log("[Gemini] API response parts:",d);const p=`data:${n};base64,${e}`;h.push(p),m||(m="Image processed successfully")}else console.log("[Gemini] Successfully received",h.length,"enhanced image(s)");return{images:h,caption:m.trim()}}catch(c){if(c instanceof Error){if(c.message.includes("quota"))throw new Error("API quota exceeded. Please check your Gemini API usage limits.");if(c.message.includes("safety"))throw new Error("Image was rejected for safety reasons. Please try a different image.");if(c.message.includes("key"))throw new Error("Invalid API key. Please check your Gemini API key.")}throw new Error("Failed to enhance image. Please try again.")}}async generateVideoPromptFromImage(e,n){var o,s,r,u,c,f;if(!this.ai)throw new Error("Gemini service not initialized. Please provide an API key.");const i=vu(n);console.log("[Gemini] video prompt (from image):",i);try{let d,h;if(e.startsWith("data:")){const g=e.match(/^data:([^;]+);base64,/i);if(h=(g==null?void 0:g[1])||"image/jpeg",d=e.split(",")[1]||"",!d)throw new Error("Invalid data URL: missing base64 data")}else if(e.startsWith("http")){console.log("[Gemini] Fetching image from URL:",e);const g=await fetch(e);if(!g.ok)throw new Error(`Failed to fetch image: ${g.status}`);const T=await g.blob();h=T.type||"image/jpeg";const R=new FileReader;d=(await new Promise((v,S)=>{R.onloadend=()=>v(R.result),R.onerror=S,R.readAsDataURL(T)})).split(",")[1]||""}else throw new Error("Invalid image format: must be either a data URL or HTTP URL");const p=((f=(c=(u=(r=(s=(o=(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:i},{inlineData:{mimeType:h,data:d}}]}]})).candidates)==null?void 0:o[0])==null?void 0:s.content)==null?void 0:r.parts)==null?void 0:u[0])==null?void 0:c.text)==null?void 0:f.trim())||"";if(!p)throw new Error("No motion prompt was generated");return p.replace(/^["']|["']$/g,"").replace(/\n+/g," ").trim()}catch(d){throw console.error("[Gemini] generateVideoPromptFromImage error:",d),d instanceof Error?d.message.startsWith("ApiError:")?d:new Error(`ApiError: ${JSON.stringify({error:{code:400,message:d.message,status:"INVALID_ARGUMENT"}})}`):d}}async generateMotionPrompt(e,n=""){var o,s,r,u,c;if(!this.ai)throw new Error("Gemini service not initialized. Please provide an API key.");const i=vu(n);console.log("[Gemini] video prompt (text-only):",i);try{const d=((c=(u=(r=(s=(o=(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:[i,e]})).candidates)==null?void 0:o[0])==null?void 0:s.content)==null?void 0:r.parts)==null?void 0:u[0])==null?void 0:c.text)||"";if(!d.trim())throw new Error("No motion prompt was generated");return d.trim().replace(/^["']|["']$/g,"").replace(/\n+/g," ").trim()}catch(f){throw f instanceof Error&&f.message.includes("quota")?new Error("API quota exceeded. Please check your Gemini API usage limits."):new Error("Failed to generate motion prompt. Please try again.")}}async*generateMotionPromptStream(e,n=""){var o,s,r,u,c;if(!this.ai)throw new Error("Gemini service not initialized. Please provide an API key.");const i=vu(n);console.log("[Gemini] video prompt (stream):",i);try{const f=await this.ai.models.generateContentStream({model:"gemini-2.5-flash",contents:[i,e]});let d="";for await(const h of f){const m=((c=(u=(r=(s=(o=h.candidates)==null?void 0:o[0])==null?void 0:s.content)==null?void 0:r.parts)==null?void 0:u[0])==null?void 0:c.text)||"";m&&(d+=m,yield d.trim())}return d.trim()}catch{throw new Error("Failed to generate motion prompt. Please try again.")}}async testApiKey(){if(!this.ai)return!1;try{const e=await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:["Hello"]});return!!(e.candidates&&e.candidates.length>0)}catch{return!1}}}const jl=new nI,iI=({isOpen:t,onClose:e,required:n=!1})=>{const[i,o]=O.useState(""),[s,r]=O.useState(""),[u,c]=O.useState(!1),[f,d]=O.useState(!1),[h,m]=O.useState(!1),[p,g]=O.useState(null),{apiKey:T,setApiKey:R}=Bi(),y=S=>{if(S.preventDefault(),!i.trim()){g("Please enter your Gemini API key");return}if(!i.startsWith("AIza")){g('Invalid Gemini API key format. Keys should start with "AIza"');return}if(R(i),localStorage.setItem("GEMINI_API_KEY",i),s.trim()){if(!s.startsWith("r8_")){g('Invalid Replicate token format. Tokens should start with "r8_"');return}localStorage.setItem("REPLICATE_API_TOKEN",s)}o(""),r(""),m(!1),e()},v=()=>{Bi.getState().clearApiKey(),localStorage.removeItem("GEMINI_API_KEY"),localStorage.removeItem("REPLICATE_API_TOKEN"),o(""),r(""),g(null),m(!1)};return O.useEffect(()=>{if(t){const S=T||localStorage.getItem("GEMINI_API_KEY")||"",A=localStorage.getItem("REPLICATE_API_TOKEN")||"";o(S),r(A),A&&m(!0)}},[t,T]),t?U.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center p-4",children:[U.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:n?void 0:e}),U.jsxs("div",{className:"relative w-full max-w-md rounded-lg border bg-white p-5",children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("h2",{className:"text-base font-semibold",children:"API Configuration"}),U.jsx("p",{className:"text-xs text-neutral-600",children:"Your API keys are stored locally in your browser."})]}),U.jsxs("form",{onSubmit:y,className:"space-y-4",children:[U.jsxs("div",{children:[U.jsxs("label",{htmlFor:"gemini-key",className:"mb-1 block text-xs font-medium",children:["Gemini API Key ",U.jsx("span",{className:"text-red-500",children:"*"})]}),U.jsxs("div",{className:"relative",children:[U.jsx("input",{id:"gemini-key",type:u?"text":"password",value:i,onChange:S=>{o(S.target.value),g(null)},placeholder:"AIza...",className:"w-full rounded border px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-neutral-400",required:!0}),U.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-neutral-500",children:u?"Hide":"Show"})]}),U.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block text-xs text-neutral-600 hover:underline",children:"Get a Gemini API key →"})]}),!h&&U.jsx("div",{className:"border-t pt-3",children:U.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-xs text-neutral-600 hover:text-neutral-900 hover:underline",children:"Advanced setup (optional) →"})}),h&&U.jsxs("div",{className:"border-t pt-3",children:[U.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[U.jsx("label",{htmlFor:"replicate-token",className:"block text-xs font-medium",children:"Replicate API Token (Optional)"}),U.jsx("button",{type:"button",onClick:()=>m(!1),className:"text-xs text-neutral-500 hover:text-neutral-700",children:"Hide"})]}),U.jsx("p",{className:"mb-2 text-xs text-neutral-600",children:"Used as backup for video generation if Gemini VEO is unavailable"}),U.jsxs("div",{className:"relative",children:[U.jsx("input",{id:"replicate-token",type:f?"text":"password",value:s,onChange:S=>{r(S.target.value),g(null)},placeholder:"r8_...",className:"w-full rounded border px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-neutral-400"}),U.jsx("button",{type:"button",onClick:()=>d(!f),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-neutral-500",children:f?"Hide":"Show"})]}),U.jsx("a",{href:"https://replicate.com/account/api-tokens",target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-block text-xs text-neutral-600 hover:underline",children:"Get a Replicate API token →"})]}),p&&U.jsx("div",{className:"rounded border border-red-200 bg-red-50 p-2 text-xs text-red-700",children:p}),U.jsxs("div",{className:"flex gap-2 pt-2",children:[!n&&U.jsx("button",{type:"button",onClick:e,className:"rounded border bg-white px-3 py-2 text-sm hover:bg-neutral-50",children:"Cancel"}),(i||s)&&U.jsx("button",{type:"button",onClick:v,className:"rounded border border-red-200 bg-white px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:"Clear All"}),U.jsx("button",{type:"submit",className:"flex-1 rounded bg-neutral-900 px-3 py-2 text-sm text-white hover:bg-neutral-800",children:"Save Configuration"})]})]})]})]}):null};function oI(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(t)}function LT(t,e){return new Promise(function(n,i){let o;return sI(t).then(function(s){try{return o=s,n(new Blob([e.slice(0,2),o,e.slice(2)],{type:"image/jpeg"}))}catch(r){return i(r)}},i)})}const sI=t=>new Promise((e,n)=>{const i=new FileReader;i.addEventListener("load",({target:{result:o}})=>{const s=new DataView(o);let r=0;if(s.getUint16(r)!==65496)return n("not a valid JPEG");for(r+=2;;){const u=s.getUint16(r);if(u===65498)break;const c=s.getUint16(r+2);if(u===65505&&s.getUint32(r+4)===1165519206){const f=r+10;let d;switch(s.getUint16(f)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(f+2,d)!==42)return n("TIFF header contains invalid version");const h=s.getUint32(f+4,d),m=f+h+2+12*s.getUint16(f+h,d);for(let p=f+h+2;p<m;p+=12)if(s.getUint16(p,d)==274){if(s.getUint16(p+2,d)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,d)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,d);break}return e(o.slice(r,r+2+c))}r+=2+c}return e(new Blob)}),i.readAsArrayBuffer(t)});var ea={},rI={get exports(){return ea},set exports(t){ea=t}};(function(t){var e,n,i={};rI.exports=i,i.parse=function(o,s){for(var r=i.bin.readUshort,u=i.bin.readUint,c=0,f={},d=new Uint8Array(o),h=d.length-4;u(d,h)!=101010256;)h--;c=h,c+=4;var m=r(d,c+=4);r(d,c+=2);var p=u(d,c+=2),g=u(d,c+=4);c+=4,c=g;for(var T=0;T<m;T++){u(d,c),c+=4,c+=4,c+=4,u(d,c+=4),p=u(d,c+=4);var R=u(d,c+=4),y=r(d,c+=4),v=r(d,c+2),S=r(d,c+4);c+=6;var A=u(d,c+=8);c+=4,c+=y+v+S,i._readLocal(d,A,f,p,R,s)}return f},i._readLocal=function(o,s,r,u,c,f){var d=i.bin.readUshort,h=i.bin.readUint;h(o,s),d(o,s+=4),d(o,s+=2);var m=d(o,s+=2);h(o,s+=2),h(o,s+=4),s+=4;var p=d(o,s+=8),g=d(o,s+=2);s+=2;var T=i.bin.readUTF8(o,s,p);if(s+=p,s+=g,f)r[T]={size:c,csize:u};else{var R=new Uint8Array(o.buffer,s);if(m==0)r[T]=new Uint8Array(R.buffer.slice(s,s+u));else{if(m!=8)throw"unknown compression method: "+m;var y=new Uint8Array(c);i.inflateRaw(R,y),r[T]=y}}},i.inflateRaw=function(o,s){return i.F.inflate(o,s)},i.inflate=function(o,s){return o[0],o[1],i.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),s)},i.deflate=function(o,s){s==null&&(s={level:6});var r=0,u=new Uint8Array(50+Math.floor(1.1*o.length));u[r]=120,u[r+1]=156,r+=2,r=i.F.deflateRaw(o,u,r,s.level);var c=i.adler(o,0,o.length);return u[r+0]=c>>>24&255,u[r+1]=c>>>16&255,u[r+2]=c>>>8&255,u[r+3]=c>>>0&255,new Uint8Array(u.buffer,0,r+4)},i.deflateRaw=function(o,s){s==null&&(s={level:6});var r=new Uint8Array(50+Math.floor(1.1*o.length)),u=i.F.deflateRaw(o,r,u,s.level);return new Uint8Array(r.buffer,0,u)},i.encode=function(o,s){s==null&&(s=!1);var r=0,u=i.bin.writeUint,c=i.bin.writeUshort,f={};for(var d in o){var h=!i._noNeed(d)&&!s,m=o[d],p=i.crc.crc(m,0,m.length);f[d]={cpr:h,usize:m.length,crc:p,file:h?i.deflateRaw(m):m}}for(var d in f)r+=f[d].file.length+30+46+2*i.bin.sizeUTF8(d);r+=22;var g=new Uint8Array(r),T=0,R=[];for(var d in f){var y=f[d];R.push(T),T=i._writeHeader(g,T,d,y,0)}var v=0,S=T;for(var d in f)y=f[d],R.push(T),T=i._writeHeader(g,T,d,y,1,R[v++]);var A=T-S;return u(g,T,101010256),T+=4,c(g,T+=4,v),c(g,T+=2,v),u(g,T+=2,A),u(g,T+=4,S),T+=4,T+=2,g.buffer},i._noNeed=function(o){var s=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},i._writeHeader=function(o,s,r,u,c,f){var d=i.bin.writeUint,h=i.bin.writeUshort,m=u.file;return d(o,s,c==0?67324752:33639248),s+=4,c==1&&(s+=2),h(o,s,20),h(o,s+=2,0),h(o,s+=2,u.cpr?8:0),d(o,s+=2,0),d(o,s+=4,u.crc),d(o,s+=4,m.length),d(o,s+=4,u.usize),h(o,s+=4,i.bin.sizeUTF8(r)),h(o,s+=2,0),s+=2,c==1&&(s+=2,s+=2,d(o,s+=6,f),s+=4),s+=i.bin.writeUTF8(o,s,r),c==0&&(o.set(m,s),s+=m.length),s},i.crc={table:function(){for(var o=new Uint32Array(256),s=0;s<256;s++){for(var r=s,u=0;u<8;u++)1&r?r=3988292384^r>>>1:r>>>=1;o[s]=r}return o}(),update:function(o,s,r,u){for(var c=0;c<u;c++)o=i.crc.table[255&(o^s[r+c])]^o>>>8;return o},crc:function(o,s,r){return 4294967295^i.crc.update(4294967295,o,s,r)}},i.adler=function(o,s,r){for(var u=1,c=0,f=s,d=s+r;f<d;){for(var h=Math.min(f+5552,d);f<h;)c+=u+=o[f++];u%=65521,c%=65521}return c<<16|u},i.bin={readUshort:function(o,s){return o[s]|o[s+1]<<8},writeUshort:function(o,s,r){o[s]=255&r,o[s+1]=r>>8&255},readUint:function(o,s){return 16777216*o[s+3]+(o[s+2]<<16|o[s+1]<<8|o[s])},writeUint:function(o,s,r){o[s]=255&r,o[s+1]=r>>8&255,o[s+2]=r>>16&255,o[s+3]=r>>24&255},readASCII:function(o,s,r){for(var u="",c=0;c<r;c++)u+=String.fromCharCode(o[s+c]);return u},writeASCII:function(o,s,r){for(var u=0;u<r.length;u++)o[s+u]=r.charCodeAt(u)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,s,r){for(var u,c="",f=0;f<r;f++)c+="%"+i.bin.pad(o[s+f].toString(16));try{u=decodeURIComponent(c)}catch{return i.bin.readASCII(o,s,r)}return u},writeUTF8:function(o,s,r){for(var u=r.length,c=0,f=0;f<u;f++){var d=r.charCodeAt(f);if(!(4294967168&d))o[s+c]=d,c++;else if(!(4294965248&d))o[s+c]=192|d>>6,o[s+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))o[s+c]=224|d>>12,o[s+c+1]=128|d>>6&63,o[s+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";o[s+c]=240|d>>18,o[s+c+1]=128|d>>12&63,o[s+c+2]=128|d>>6&63,o[s+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(o){for(var s=o.length,r=0,u=0;u<s;u++){var c=o.charCodeAt(u);if(!(4294967168&c))r++;else if(!(4294965248&c))r+=2;else if(!(4294901760&c))r+=3;else{if(4292870144&c)throw"e";r+=4}}return r}},i.F={},i.F.deflateRaw=function(o,s,r,u){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],f=i.F.U,d=i.F._goodIndex;i.F._hash;var h=i.F._putsE,m=0,p=r<<3,g=0,T=o.length;if(u==0){for(;m<T;)h(s,p,m+(b=Math.min(65535,T-m))==T?1:0),p=i.F._copyExact(o,m,b,s,p+8),m+=b;return p>>>3}var R=f.lits,y=f.strt,v=f.prev,S=0,A=0,w=0,_=0,N=0,C=0;for(T>2&&(y[C=i.F._hash(o,0)]=0),m=0;m<T;m++){if(N=C,m+1<T-2){C=i.F._hash(o,m+1);var E=m+1&32767;v[E]=y[C],y[C]=E}if(g<=m){(S>14e3||A>26697)&&T-m>100&&(g<m&&(R[S]=m-g,S+=2,g=m),p=i.F._writeBlock(m==T-1||g==T?1:0,R,S,_,o,w,m-w,s,p),S=A=_=0,w=m);var D=0;m<T-2&&(D=i.F._bestMatch(o,m,v,N,Math.min(c[2],T-m),c[3]));var b=D>>>16,I=65535&D;if(D!=0){I=65535&D;var L=d(b=D>>>16,f.of0);f.lhst[257+L]++;var P=d(I,f.df0);f.dhst[P]++,_+=f.exb[L]+f.dxb[P],R[S]=b<<23|m-g,R[S+1]=I<<16|L<<8|P,S+=2,g=m+b}else f.lhst[o[m]]++;A++}}for(w==m&&o.length!=0||(g<m&&(R[S]=m-g,S+=2,g=m),p=i.F._writeBlock(1,R,S,_,o,w,m-w,s,p),S=0,A=0,S=A=_=0,w=m);7&p;)p++;return p>>>3},i.F._bestMatch=function(o,s,r,u,c,f){var d=32767&s,h=r[d],m=d-h+32768&32767;if(h==d||u!=i.F._hash(o,s-m))return 0;for(var p=0,g=0,T=Math.min(32767,s);m<=T&&--f!=0&&h!=d;){if(p==0||o[s+p]==o[s+p-m]){var R=i.F._howLong(o,s,m);if(R>p){if(g=m,(p=R)>=c)break;m+2<R&&(R=m+2);for(var y=0,v=0;v<R-2;v++){var S=s-m+v+32768&32767,A=S-r[S]+32768&32767;A>y&&(y=A,h=S)}}}m+=(d=h)-(h=r[d])+32768&32767}return p<<16|g},i.F._howLong=function(o,s,r){if(o[s]!=o[s-r]||o[s+1]!=o[s+1-r]||o[s+2]!=o[s+2-r])return 0;var u=s,c=Math.min(o.length,s+258);for(s+=3;s<c&&o[s]==o[s-r];)s++;return s-u},i.F._hash=function(o,s){return(o[s]<<8|o[s+1])+(o[s+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(o,s,r,u,c,f,d,h,m){var p,g,T,R,y,v,S,A,w,_=i.F.U,N=i.F._putsF,C=i.F._putsE;_.lhst[256]++,g=(p=i.F.getTrees())[0],T=p[1],R=p[2],y=p[3],v=p[4],S=p[5],A=p[6],w=p[7];var E=32+(m+3&7?8-(m+3&7):0)+(d<<3),D=u+i.F.contSize(_.fltree,_.lhst)+i.F.contSize(_.fdtree,_.dhst),b=u+i.F.contSize(_.ltree,_.lhst)+i.F.contSize(_.dtree,_.dhst);b+=14+3*S+i.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var I=0;I<286;I++)_.lhst[I]=0;for(I=0;I<30;I++)_.dhst[I]=0;for(I=0;I<19;I++)_.ihst[I]=0;var L=E<D&&E<b?0:D<b?1:2;if(N(h,m,o),N(h,m+1,L),m+=3,L==0){for(;7&m;)m++;m=i.F._copyExact(c,f,d,h,m)}else{var P,k;if(L==1&&(P=_.fltree,k=_.fdtree),L==2){i.F.makeCodes(_.ltree,g),i.F.revCodes(_.ltree,g),i.F.makeCodes(_.dtree,T),i.F.revCodes(_.dtree,T),i.F.makeCodes(_.itree,R),i.F.revCodes(_.itree,R),P=_.ltree,k=_.dtree,C(h,m,y-257),C(h,m+=5,v-1),C(h,m+=5,S-4),m+=4;for(var M=0;M<S;M++)C(h,m+3*M,_.itree[1+(_.ordr[M]<<1)]);m+=3*S,m=i.F._codeTiny(A,_.itree,h,m),m=i.F._codeTiny(w,_.itree,h,m)}for(var x=f,B=0;B<r;B+=2){for(var V=s[B],G=V>>>23,K=x+(8388607&V);x<K;)m=i.F._writeLit(c[x++],P,h,m);if(G!=0){var z=s[B+1],Y=z>>16,q=z>>8&255,H=255&z;C(h,m=i.F._writeLit(257+q,P,h,m),G-_.of0[q]),m+=_.exb[q],N(h,m=i.F._writeLit(H,k,h,m),Y-_.df0[H]),m+=_.dxb[H],x+=G}}m=i.F._writeLit(256,P,h,m)}return m},i.F._copyExact=function(o,s,r,u,c){var f=c>>>3;return u[f]=r,u[f+1]=r>>>8,u[f+2]=255-u[f],u[f+3]=255-u[f+1],f+=4,u.set(new Uint8Array(o.buffer,s,r),f),c+(r+4<<3)},i.F.getTrees=function(){for(var o=i.F.U,s=i.F._hufTree(o.lhst,o.ltree,15),r=i.F._hufTree(o.dhst,o.dtree,15),u=[],c=i.F._lenCodes(o.ltree,u),f=[],d=i.F._lenCodes(o.dtree,f),h=0;h<u.length;h+=2)o.ihst[u[h]]++;for(h=0;h<f.length;h+=2)o.ihst[f[h]]++;for(var m=i.F._hufTree(o.ihst,o.itree,7),p=19;p>4&&o.itree[1+(o.ordr[p-1]<<1)]==0;)p--;return[s,r,m,c,d,p,u,f]},i.F.getSecond=function(o){for(var s=[],r=0;r<o.length;r+=2)s.push(o[r+1]);return s},i.F.nonZero=function(o){for(var s="",r=0;r<o.length;r+=2)o[r+1]!=0&&(s+=(r>>1)+",");return s},i.F.contSize=function(o,s){for(var r=0,u=0;u<s.length;u++)r+=s[u]*o[1+(u<<1)];return r},i.F._codeTiny=function(o,s,r,u){for(var c=0;c<o.length;c+=2){var f=o[c],d=o[c+1];u=i.F._writeLit(f,s,r,u);var h=f==16?2:f==17?3:7;f>15&&(i.F._putsE(r,u,d,h),u+=h)}return u},i.F._lenCodes=function(o,s){for(var r=o.length;r!=2&&o[r-1]==0;)r-=2;for(var u=0;u<r;u+=2){var c=o[u+1],f=u+3<r?o[u+3]:-1,d=u+5<r?o[u+5]:-1,h=u==0?-1:o[u-1];if(c==0&&f==c&&d==c){for(var m=u+5;m+2<r&&o[m+2]==c;)m+=2;(p=Math.min(m+1-u>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),u+=2*p-2}else if(c==h&&f==c&&d==c){for(m=u+5;m+2<r&&o[m+2]==c;)m+=2;var p=Math.min(m+1-u>>>1,6);s.push(16,p-3),u+=2*p-2}else s.push(c,0)}return r>>>1},i.F._hufTree=function(o,s,r){var u=[],c=o.length,f=s.length,d=0;for(d=0;d<f;d+=2)s[d]=0,s[d+1]=0;for(d=0;d<c;d++)o[d]!=0&&u.push({lit:d,f:o[d]});var h=u.length,m=u.slice(0);if(h==0)return 0;if(h==1){var p=u[0].lit;return m=p==0?1:0,s[1+(p<<1)]=1,s[1+(m<<1)]=1,1}u.sort(function(A,w){return A.f-w.f});var g=u[0],T=u[1],R=0,y=1,v=2;for(u[0]={lit:-1,f:g.f+T.f,l:g,r:T,d:0};y!=h-1;)g=R!=y&&(v==h||u[R].f<u[v].f)?u[R++]:u[v++],T=R!=y&&(v==h||u[R].f<u[v].f)?u[R++]:u[v++],u[y++]={lit:-1,f:g.f+T.f,l:g,r:T};var S=i.F.setDepth(u[y-1],0);for(S>r&&(i.F.restrictDepth(m,r,S),S=r),d=0;d<h;d++)s[1+(m[d].lit<<1)]=m[d].d;return S},i.F.setDepth=function(o,s){return o.lit!=-1?(o.d=s,s):Math.max(i.F.setDepth(o.l,s+1),i.F.setDepth(o.r,s+1))},i.F.restrictDepth=function(o,s,r){var u=0,c=1<<r-s,f=0;for(o.sort(function(h,m){return m.d==h.d?h.f-m.f:m.d-h.d}),u=0;u<o.length&&o[u].d>s;u++){var d=o[u].d;o[u].d=s,f+=c-(1<<r-d)}for(f>>>=r-s;f>0;)(d=o[u].d)<s?(o[u].d++,f-=1<<s-d-1):u++;for(;u>=0;u--)o[u].d==s&&f<0&&(o[u].d--,f++);f!=0&&console.log("debt left")},i.F._goodIndex=function(o,s){var r=0;return s[16|r]<=o&&(r|=16),s[8|r]<=o&&(r|=8),s[4|r]<=o&&(r|=4),s[2|r]<=o&&(r|=2),s[1|r]<=o&&(r|=1),r},i.F._writeLit=function(o,s,r,u){return i.F._putsF(r,u,s[o<<1]),u+s[1+(o<<1)]},i.F.inflate=function(o,s){var r=Uint8Array;if(o[0]==3&&o[1]==0)return s||new r(0);var u=i.F,c=u._bitsF,f=u._bitsE,d=u._decodeTiny,h=u.makeCodes,m=u.codes2map,p=u._get17,g=u.U,T=s==null;T&&(s=new r(o.length>>>2<<3));for(var R,y,v=0,S=0,A=0,w=0,_=0,N=0,C=0,E=0,D=0;v==0;)if(v=c(o,D,1),S=c(o,D+1,2),D+=3,S!=0){if(T&&(s=i.F._check(s,E+(1<<17))),S==1&&(R=g.flmap,y=g.fdmap,N=511,C=31),S==2){A=f(o,D,5)+257,w=f(o,D+5,5)+1,_=f(o,D+10,4)+4,D+=14;for(var b=0;b<38;b+=2)g.itree[b]=0,g.itree[b+1]=0;var I=1;for(b=0;b<_;b++){var L=f(o,D+3*b,3);g.itree[1+(g.ordr[b]<<1)]=L,L>I&&(I=L)}D+=3*_,h(g.itree,I),m(g.itree,I,g.imap),R=g.lmap,y=g.dmap,D=d(g.imap,(1<<I)-1,A+w,o,D,g.ttree);var P=u._copyOut(g.ttree,0,A,g.ltree);N=(1<<P)-1;var k=u._copyOut(g.ttree,A,w,g.dtree);C=(1<<k)-1,h(g.ltree,P),m(g.ltree,P,R),h(g.dtree,k),m(g.dtree,k,y)}for(;;){var M=R[p(o,D)&N];D+=15&M;var x=M>>>4;if(!(x>>>8))s[E++]=x;else{if(x==256)break;var B=E+x-254;if(x>264){var V=g.ldef[x-257];B=E+(V>>>3)+f(o,D,7&V),D+=7&V}var G=y[p(o,D)&C];D+=15&G;var K=G>>>4,z=g.ddef[K],Y=(z>>>4)+c(o,D,15&z);for(D+=15&z,T&&(s=i.F._check(s,E+(1<<17)));E<B;)s[E]=s[E++-Y],s[E]=s[E++-Y],s[E]=s[E++-Y],s[E]=s[E++-Y];E=B}}}else{7&D&&(D+=8-(7&D));var q=4+(D>>>3),H=o[q-4]|o[q-3]<<8;T&&(s=i.F._check(s,E+H)),s.set(new r(o.buffer,o.byteOffset+q,H),E),D=q+H<<3,E+=H}return s.length==E?s:s.slice(0,E)},i.F._check=function(o,s){var r=o.length;if(s<=r)return o;var u=new Uint8Array(Math.max(r<<1,s));return u.set(o,0),u},i.F._decodeTiny=function(o,s,r,u,c,f){for(var d=i.F._bitsE,h=i.F._get17,m=0;m<r;){var p=o[h(u,c)&s];c+=15&p;var g=p>>>4;if(g<=15)f[m]=g,m++;else{var T=0,R=0;g==16?(R=3+d(u,c,2),c+=2,T=f[m-1]):g==17?(R=3+d(u,c,3),c+=3):g==18&&(R=11+d(u,c,7),c+=7);for(var y=m+R;m<y;)f[m]=T,m++}}return c},i.F._copyOut=function(o,s,r,u){for(var c=0,f=0,d=u.length>>>1;f<r;){var h=o[f+s];u[f<<1]=0,u[1+(f<<1)]=h,h>c&&(c=h),f++}for(;f<d;)u[f<<1]=0,u[1+(f<<1)]=0,f++;return c},i.F.makeCodes=function(o,s){for(var r,u,c,f,d=i.F.U,h=o.length,m=d.bl_count,p=0;p<=s;p++)m[p]=0;for(p=1;p<h;p+=2)m[o[p]]++;var g=d.next_code;for(r=0,m[0]=0,u=1;u<=s;u++)r=r+m[u-1]<<1,g[u]=r;for(c=0;c<h;c+=2)(f=o[c+1])!=0&&(o[c]=g[f],g[f]++)},i.F.codes2map=function(o,s,r){for(var u=o.length,c=i.F.U.rev15,f=0;f<u;f+=2)if(o[f+1]!=0)for(var d=f>>1,h=o[f+1],m=d<<4|h,p=s-h,g=o[f]<<p,T=g+(1<<p);g!=T;)r[c[g]>>>15-s]=m,g++},i.F.revCodes=function(o,s){for(var r=i.F.U.rev15,u=15-s,c=0;c<o.length;c+=2){var f=o[c]<<s-o[c+1];o[c]=r[f]>>>u}},i.F._putsE=function(o,s,r){r<<=7&s;var u=s>>>3;o[u]|=r,o[u+1]|=r>>>8},i.F._putsF=function(o,s,r){r<<=7&s;var u=s>>>3;o[u]|=r,o[u+1]|=r>>>8,o[u+2]|=r>>>16},i.F._bitsE=function(o,s,r){return(o[s>>>3]|o[1+(s>>>3)]<<8)>>>(7&s)&(1<<r)-1},i.F._bitsF=function(o,s,r){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)&(1<<r)-1},i.F._get17=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)},i.F._get25=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16|o[3+(s>>>3)]<<24)>>>(7&s)},i.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var o=i.F.U,s=0;s<32768;s++){var r=s;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,o.rev15[s]=(r>>>16|r<<16)>>>17}function u(c,f,d){for(;f--!=0;)c.push(0,d)}for(s=0;s<32;s++)o.ldef[s]=o.of0[s]<<3|o.exb[s],o.ddef[s]=o.df0[s]<<4|o.dxb[s];u(o.fltree,144,8),u(o.fltree,112,9),u(o.fltree,24,7),u(o.fltree,8,8),i.F.makeCodes(o.fltree,9),i.F.codes2map(o.fltree,9,o.flmap),i.F.revCodes(o.fltree,9),u(o.fdtree,32,5),i.F.makeCodes(o.fdtree,5),i.F.codes2map(o.fdtree,5,o.fdmap),i.F.revCodes(o.fdtree,5),u(o.itree,19,0),u(o.ltree,286,0),u(o.dtree,30,0),u(o.ttree,320,0)}()})();var lI=oI({__proto__:null,default:ea},[ea]);const Ot=function(){var t={nextZero(d,h){for(;d[h]!=0;)h++;return h},readUshort:(d,h)=>d[h]<<8|d[h+1],writeUshort(d,h,m){d[h]=m>>8&255,d[h+1]=255&m},readUint:(d,h)=>16777216*d[h]+(d[h+1]<<16|d[h+2]<<8|d[h+3]),writeUint(d,h,m){d[h]=m>>24&255,d[h+1]=m>>16&255,d[h+2]=m>>8&255,d[h+3]=255&m},readASCII(d,h,m){let p="";for(let g=0;g<m;g++)p+=String.fromCharCode(d[h+g]);return p},writeASCII(d,h,m){for(let p=0;p<m.length;p++)d[h+p]=m.charCodeAt(p)},readBytes(d,h,m){const p=[];for(let g=0;g<m;g++)p.push(d[h+g]);return p},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,h,m){let p,g="";for(let T=0;T<m;T++)g+=`%${t.pad(d[h+T].toString(16))}`;try{p=decodeURIComponent(g)}catch{return t.readASCII(d,h,m)}return p}};function e(d,h,m,p){const g=h*m,T=s(p),R=Math.ceil(h*T/8),y=new Uint8Array(4*g),v=new Uint32Array(y.buffer),{ctype:S}=p,{depth:A}=p,w=t.readUshort;if(S==6){const V=g<<2;if(A==8)for(var _=0;_<V;_+=4)y[_]=d[_],y[_+1]=d[_+1],y[_+2]=d[_+2],y[_+3]=d[_+3];if(A==16)for(_=0;_<V;_++)y[_]=d[_<<1]}else if(S==2){const V=p.tabs.tRNS;if(V==null){if(A==8)for(_=0;_<g;_++){var N=3*_;v[_]=255<<24|d[N+2]<<16|d[N+1]<<8|d[N]}if(A==16)for(_=0;_<g;_++)N=6*_,v[_]=255<<24|d[N+4]<<16|d[N+2]<<8|d[N]}else{var C=V[0];const G=V[1],K=V[2];if(A==8)for(_=0;_<g;_++){var E=_<<2;N=3*_,v[_]=255<<24|d[N+2]<<16|d[N+1]<<8|d[N],d[N]==C&&d[N+1]==G&&d[N+2]==K&&(y[E+3]=0)}if(A==16)for(_=0;_<g;_++)E=_<<2,N=6*_,v[_]=255<<24|d[N+4]<<16|d[N+2]<<8|d[N],w(d,N)==C&&w(d,N+2)==G&&w(d,N+4)==K&&(y[E+3]=0)}}else if(S==3){const V=p.tabs.PLTE,G=p.tabs.tRNS,K=G?G.length:0;if(A==1)for(var D=0;D<m;D++){var b=D*R,I=D*h;for(_=0;_<h;_++){E=I+_<<2;var L=3*(P=d[b+(_>>3)]>>7-((7&_)<<0)&1);y[E]=V[L],y[E+1]=V[L+1],y[E+2]=V[L+2],y[E+3]=P<K?G[P]:255}}if(A==2)for(D=0;D<m;D++)for(b=D*R,I=D*h,_=0;_<h;_++)E=I+_<<2,L=3*(P=d[b+(_>>2)]>>6-((3&_)<<1)&3),y[E]=V[L],y[E+1]=V[L+1],y[E+2]=V[L+2],y[E+3]=P<K?G[P]:255;if(A==4)for(D=0;D<m;D++)for(b=D*R,I=D*h,_=0;_<h;_++)E=I+_<<2,L=3*(P=d[b+(_>>1)]>>4-((1&_)<<2)&15),y[E]=V[L],y[E+1]=V[L+1],y[E+2]=V[L+2],y[E+3]=P<K?G[P]:255;if(A==8)for(_=0;_<g;_++){var P;E=_<<2,L=3*(P=d[_]),y[E]=V[L],y[E+1]=V[L+1],y[E+2]=V[L+2],y[E+3]=P<K?G[P]:255}}else if(S==4){if(A==8)for(_=0;_<g;_++){E=_<<2;var k=d[M=_<<1];y[E]=k,y[E+1]=k,y[E+2]=k,y[E+3]=d[M+1]}if(A==16)for(_=0;_<g;_++){var M;E=_<<2,k=d[M=_<<2],y[E]=k,y[E+1]=k,y[E+2]=k,y[E+3]=d[M+2]}}else if(S==0)for(C=p.tabs.tRNS?p.tabs.tRNS:-1,D=0;D<m;D++){const V=D*R,G=D*h;if(A==1)for(var x=0;x<h;x++){var B=(k=255*(d[V+(x>>>3)]>>>7-(7&x)&1))==255*C?0:255;v[G+x]=B<<24|k<<16|k<<8|k}else if(A==2)for(x=0;x<h;x++)B=(k=85*(d[V+(x>>>2)]>>>6-((3&x)<<1)&3))==85*C?0:255,v[G+x]=B<<24|k<<16|k<<8|k;else if(A==4)for(x=0;x<h;x++)B=(k=17*(d[V+(x>>>1)]>>>4-((1&x)<<2)&15))==17*C?0:255,v[G+x]=B<<24|k<<16|k<<8|k;else if(A==8)for(x=0;x<h;x++)B=(k=d[V+x])==C?0:255,v[G+x]=B<<24|k<<16|k<<8|k;else if(A==16)for(x=0;x<h;x++)k=d[V+(x<<1)],B=w(d,V+(x<<1))==C?0:255,v[G+x]=B<<24|k<<16|k<<8|k}return y}function n(d,h,m,p){const g=s(d),T=Math.ceil(m*g/8),R=new Uint8Array((T+1+d.interlace)*p);return h=d.tabs.CgBI?o(h,R):i(h,R),d.interlace==0?h=r(h,d,0,m,p):d.interlace==1&&(h=function(v,S){const A=S.width,w=S.height,_=s(S),N=_>>3,C=Math.ceil(A*_/8),E=new Uint8Array(w*C);let D=0;const b=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],P=[8,8,4,4,2,2,1];let k=0;for(;k<7;){const x=L[k],B=P[k];let V=0,G=0,K=b[k];for(;K<w;)K+=x,G++;let z=I[k];for(;z<A;)z+=B,V++;const Y=Math.ceil(V*_/8);r(v,S,D,V,G);let q=0,H=b[k];for(;H<w;){let Q=I[k],ve=D+q*Y<<3;for(;Q<A;){var M;if(_==1&&(M=(M=v[ve>>3])>>7-(7&ve)&1,E[H*C+(Q>>3)]|=M<<7-((7&Q)<<0)),_==2&&(M=(M=v[ve>>3])>>6-(7&ve)&3,E[H*C+(Q>>2)]|=M<<6-((3&Q)<<1)),_==4&&(M=(M=v[ve>>3])>>4-(7&ve)&15,E[H*C+(Q>>1)]|=M<<4-((1&Q)<<2)),_>=8){const ce=H*C+Q*N;for(let se=0;se<N;se++)E[ce+se]=v[(ve>>3)+se]}ve+=_,Q+=B}q++,H+=x}V*G!=0&&(D+=G*(1+Y)),k+=1}return E}(h,d)),h}function i(d,h){return o(new Uint8Array(d.buffer,2,d.length-6),h)}var o=function(){const d={H:{}};return d.H.N=function(h,m){const p=Uint8Array;let g,T,R=0,y=0,v=0,S=0,A=0,w=0,_=0,N=0,C=0;if(h[0]==3&&h[1]==0)return m||new p(0);const E=d.H,D=E.b,b=E.e,I=E.R,L=E.n,P=E.A,k=E.Z,M=E.m,x=m==null;for(x&&(m=new p(h.length>>>2<<5));R==0;)if(R=D(h,C,1),y=D(h,C+1,2),C+=3,y!=0){if(x&&(m=d.H.W(m,N+(1<<17))),y==1&&(g=M.J,T=M.h,w=511,_=31),y==2){v=b(h,C,5)+257,S=b(h,C+5,5)+1,A=b(h,C+10,4)+4,C+=14;let V=1;for(var B=0;B<38;B+=2)M.Q[B]=0,M.Q[B+1]=0;for(B=0;B<A;B++){const z=b(h,C+3*B,3);M.Q[1+(M.X[B]<<1)]=z,z>V&&(V=z)}C+=3*A,L(M.Q,V),P(M.Q,V,M.u),g=M.w,T=M.d,C=I(M.u,(1<<V)-1,v+S,h,C,M.v);const G=E.V(M.v,0,v,M.C);w=(1<<G)-1;const K=E.V(M.v,v,S,M.D);_=(1<<K)-1,L(M.C,G),P(M.C,G,g),L(M.D,K),P(M.D,K,T)}for(;;){const V=g[k(h,C)&w];C+=15&V;const G=V>>>4;if(!(G>>>8))m[N++]=G;else{if(G==256)break;{let K=N+G-254;if(G>264){const Q=M.q[G-257];K=N+(Q>>>3)+b(h,C,7&Q),C+=7&Q}const z=T[k(h,C)&_];C+=15&z;const Y=z>>>4,q=M.c[Y],H=(q>>>4)+D(h,C,15&q);for(C+=15&q;N<K;)m[N]=m[N++-H],m[N]=m[N++-H],m[N]=m[N++-H],m[N]=m[N++-H];N=K}}}}else{7&C&&(C+=8-(7&C));const V=4+(C>>>3),G=h[V-4]|h[V-3]<<8;x&&(m=d.H.W(m,N+G)),m.set(new p(h.buffer,h.byteOffset+V,G),N),C=V+G<<3,N+=G}return m.length==N?m:m.slice(0,N)},d.H.W=function(h,m){const p=h.length;if(m<=p)return h;const g=new Uint8Array(p<<1);return g.set(h,0),g},d.H.R=function(h,m,p,g,T,R){const y=d.H.e,v=d.H.Z;let S=0;for(;S<p;){const A=h[v(g,T)&m];T+=15&A;const w=A>>>4;if(w<=15)R[S]=w,S++;else{let _=0,N=0;w==16?(N=3+y(g,T,2),T+=2,_=R[S-1]):w==17?(N=3+y(g,T,3),T+=3):w==18&&(N=11+y(g,T,7),T+=7);const C=S+N;for(;S<C;)R[S]=_,S++}}return T},d.H.V=function(h,m,p,g){let T=0,R=0;const y=g.length>>>1;for(;R<p;){const v=h[R+m];g[R<<1]=0,g[1+(R<<1)]=v,v>T&&(T=v),R++}for(;R<y;)g[R<<1]=0,g[1+(R<<1)]=0,R++;return T},d.H.n=function(h,m){const p=d.H.m,g=h.length;let T,R,y,v;const S=p.j;for(var A=0;A<=m;A++)S[A]=0;for(A=1;A<g;A+=2)S[h[A]]++;const w=p.K;for(T=0,S[0]=0,R=1;R<=m;R++)T=T+S[R-1]<<1,w[R]=T;for(y=0;y<g;y+=2)v=h[y+1],v!=0&&(h[y]=w[v],w[v]++)},d.H.A=function(h,m,p){const g=h.length,T=d.H.m.r;for(let R=0;R<g;R+=2)if(h[R+1]!=0){const y=R>>1,v=h[R+1],S=y<<4|v,A=m-v;let w=h[R]<<A;const _=w+(1<<A);for(;w!=_;)p[T[w]>>>15-m]=S,w++}},d.H.l=function(h,m){const p=d.H.m.r,g=15-m;for(let T=0;T<h.length;T+=2){const R=h[T]<<m-h[T+1];h[T]=p[R]>>>g}},d.H.M=function(h,m,p){p<<=7&m;const g=m>>>3;h[g]|=p,h[g+1]|=p>>>8},d.H.I=function(h,m,p){p<<=7&m;const g=m>>>3;h[g]|=p,h[g+1]|=p>>>8,h[g+2]|=p>>>16},d.H.e=function(h,m,p){return(h[m>>>3]|h[1+(m>>>3)]<<8)>>>(7&m)&(1<<p)-1},d.H.b=function(h,m,p){return(h[m>>>3]|h[1+(m>>>3)]<<8|h[2+(m>>>3)]<<16)>>>(7&m)&(1<<p)-1},d.H.Z=function(h,m){return(h[m>>>3]|h[1+(m>>>3)]<<8|h[2+(m>>>3)]<<16)>>>(7&m)},d.H.i=function(h,m){return(h[m>>>3]|h[1+(m>>>3)]<<8|h[2+(m>>>3)]<<16|h[3+(m>>>3)]<<24)>>>(7&m)},d.H.m=function(){const h=Uint16Array,m=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new m(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new m(286),Y:new m(30),a:new m(19),t:new m(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=d.H.m;for(var m=0;m<32768;m++){let g=m;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,h.r[m]=(g>>>16|g<<16)>>>17}function p(g,T,R){for(;T--!=0;)g.push(0,R)}for(m=0;m<32;m++)h.q[m]=h.S[m]<<3|h.T[m],h.c[m]=h.p[m]<<4|h.z[m];p(h._,144,8),p(h._,112,9),p(h._,24,7),p(h._,8,8),d.H.n(h._,9),d.H.A(h._,9,h.J),d.H.l(h._,9),p(h.$,32,5),d.H.n(h.$,5),d.H.A(h.$,5,h.h),d.H.l(h.$,5),p(h.Q,19,0),p(h.C,286,0),p(h.D,30,0),p(h.v,320,0)}(),d.H.N}();function s(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function r(d,h,m,p,g){let T=s(h);const R=Math.ceil(p*T/8);let y,v;T=Math.ceil(T/8);let S=d[m],A=0;if(S>1&&(d[m]=[0,0,1][S-2]),S==3)for(A=T;A<R;A++)d[A+1]=d[A+1]+(d[A+1-T]>>>1)&255;for(let w=0;w<g;w++)if(y=m+w*R,v=y+w+1,S=d[v-1],A=0,S==0)for(;A<R;A++)d[y+A]=d[v+A];else if(S==1){for(;A<T;A++)d[y+A]=d[v+A];for(;A<R;A++)d[y+A]=d[v+A]+d[y+A-T]}else if(S==2)for(;A<R;A++)d[y+A]=d[v+A]+d[y+A-R];else if(S==3){for(;A<T;A++)d[y+A]=d[v+A]+(d[y+A-R]>>>1);for(;A<R;A++)d[y+A]=d[v+A]+(d[y+A-R]+d[y+A-T]>>>1)}else{for(;A<T;A++)d[y+A]=d[v+A]+u(0,d[y+A-R],0);for(;A<R;A++)d[y+A]=d[v+A]+u(d[y+A-T],d[y+A-R],d[y+A-T-R])}return d}function u(d,h,m){const p=d+h-m,g=p-d,T=p-h,R=p-m;return g*g<=T*T&&g*g<=R*R?d:T*T<=R*R?h:m}function c(d,h,m){m.width=t.readUint(d,h),h+=4,m.height=t.readUint(d,h),h+=4,m.depth=d[h],h++,m.ctype=d[h],h++,m.compress=d[h],h++,m.filter=d[h],h++,m.interlace=d[h],h++}function f(d,h,m,p,g,T,R,y,v){const S=Math.min(h,g),A=Math.min(m,T);let w=0,_=0;for(let k=0;k<A;k++)for(let M=0;M<S;M++)if(R>=0&&y>=0?(w=k*h+M<<2,_=(y+k)*g+R+M<<2):(w=(-y+k)*h-R+M<<2,_=k*g+M<<2),v==0)p[_]=d[w],p[_+1]=d[w+1],p[_+2]=d[w+2],p[_+3]=d[w+3];else if(v==1){var N=d[w+3]*.00392156862745098,C=d[w]*N,E=d[w+1]*N,D=d[w+2]*N,b=p[_+3]*(1/255),I=p[_]*b,L=p[_+1]*b,P=p[_+2]*b;const x=1-N,B=N+b*x,V=B==0?0:1/B;p[_+3]=255*B,p[_+0]=(C+I*x)*V,p[_+1]=(E+L*x)*V,p[_+2]=(D+P*x)*V}else if(v==2)N=d[w+3],C=d[w],E=d[w+1],D=d[w+2],b=p[_+3],I=p[_],L=p[_+1],P=p[_+2],N==b&&C==I&&E==L&&D==P?(p[_]=0,p[_+1]=0,p[_+2]=0,p[_+3]=0):(p[_]=C,p[_+1]=E,p[_+2]=D,p[_+3]=N);else if(v==3){if(N=d[w+3],C=d[w],E=d[w+1],D=d[w+2],b=p[_+3],I=p[_],L=p[_+1],P=p[_+2],N==b&&C==I&&E==L&&D==P)continue;if(N<220&&b>20)return!1}return!0}return{decode:function(h){const m=new Uint8Array(h);let p=8;const g=t,T=g.readUshort,R=g.readUint,y={tabs:{},frames:[]},v=new Uint8Array(m.length);let S,A=0,w=0;const _=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(m[N]!=_[N])throw"The input is not a PNG file!";for(;p<m.length;){const k=g.readUint(m,p);p+=4;const M=g.readASCII(m,p,4);if(p+=4,M=="IHDR")c(m,p,y);else if(M=="iCCP"){for(var C=p;m[C]!=0;)C++;g.readASCII(m,p,C-p),m[C+1];const x=m.slice(C+2,p+k);let B=null;try{B=i(x)}catch{B=o(x)}y.tabs[M]=B}else if(M=="CgBI")y.tabs[M]=m.slice(p,p+4);else if(M=="IDAT"){for(N=0;N<k;N++)v[A+N]=m[p+N];A+=k}else if(M=="acTL")y.tabs[M]={num_frames:R(m,p),num_plays:R(m,p+4)},S=new Uint8Array(m.length);else if(M=="fcTL"){w!=0&&((P=y.frames[y.frames.length-1]).data=n(y,S.slice(0,w),P.rect.width,P.rect.height),w=0);const x={x:R(m,p+12),y:R(m,p+16),width:R(m,p+4),height:R(m,p+8)};let B=T(m,p+22);B=T(m,p+20)/(B==0?100:B);const V={rect:x,delay:Math.round(1e3*B),dispose:m[p+24],blend:m[p+25]};y.frames.push(V)}else if(M=="fdAT"){for(N=0;N<k-4;N++)S[w+N]=m[p+N+4];w+=k-4}else if(M=="pHYs")y.tabs[M]=[g.readUint(m,p),g.readUint(m,p+4),m[p+8]];else if(M=="cHRM")for(y.tabs[M]=[],N=0;N<8;N++)y.tabs[M].push(g.readUint(m,p+4*N));else if(M=="tEXt"||M=="zTXt"){y.tabs[M]==null&&(y.tabs[M]={});var E=g.nextZero(m,p),D=g.readASCII(m,p,E-p),b=p+k-E-1;if(M=="tEXt")L=g.readASCII(m,E+1,b);else{var I=i(m.slice(E+2,E+2+b));L=g.readUTF8(I,0,I.length)}y.tabs[M][D]=L}else if(M=="iTXt"){y.tabs[M]==null&&(y.tabs[M]={}),E=0,C=p,E=g.nextZero(m,C),D=g.readASCII(m,C,E-C);const x=m[C=E+1];var L;m[C+1],C+=2,E=g.nextZero(m,C),g.readASCII(m,C,E-C),C=E+1,E=g.nextZero(m,C),g.readUTF8(m,C,E-C),b=k-((C=E+1)-p),x==0?L=g.readUTF8(m,C,b):(I=i(m.slice(C,C+b)),L=g.readUTF8(I,0,I.length)),y.tabs[M][D]=L}else if(M=="PLTE")y.tabs[M]=g.readBytes(m,p,k);else if(M=="hIST"){const x=y.tabs.PLTE.length/3;for(y.tabs[M]=[],N=0;N<x;N++)y.tabs[M].push(T(m,p+2*N))}else if(M=="tRNS")y.ctype==3?y.tabs[M]=g.readBytes(m,p,k):y.ctype==0?y.tabs[M]=T(m,p):y.ctype==2&&(y.tabs[M]=[T(m,p),T(m,p+2),T(m,p+4)]);else if(M=="gAMA")y.tabs[M]=g.readUint(m,p)/1e5;else if(M=="sRGB")y.tabs[M]=m[p];else if(M=="bKGD")y.ctype==0||y.ctype==4?y.tabs[M]=[T(m,p)]:y.ctype==2||y.ctype==6?y.tabs[M]=[T(m,p),T(m,p+2),T(m,p+4)]:y.ctype==3&&(y.tabs[M]=m[p]);else if(M=="IEND")break;p+=k,g.readUint(m,p),p+=4}var P;return w!=0&&((P=y.frames[y.frames.length-1]).data=n(y,S.slice(0,w),P.rect.width,P.rect.height)),y.data=n(y,v,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(h){const m=h.width,p=h.height;if(h.tabs.acTL==null)return[e(h.data,m,p,h).buffer];const g=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const T=m*p*4,R=new Uint8Array(T),y=new Uint8Array(T),v=new Uint8Array(T);for(let A=0;A<h.frames.length;A++){const w=h.frames[A],_=w.rect.x,N=w.rect.y,C=w.rect.width,E=w.rect.height,D=e(w.data,C,E,h);if(A!=0)for(var S=0;S<T;S++)v[S]=R[S];if(w.blend==0?f(D,C,E,R,m,p,_,N,0):w.blend==1&&f(D,C,E,R,m,p,_,N,1),g.push(R.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)f(y,C,E,R,m,p,_,N,0);else if(w.dispose==2)for(S=0;S<T;S++)R[S]=v[S]}}return g},_paeth:u,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Ot,{_bin:e}=Ot,n=Ot._paeth;var i={table:function(){const C=new Uint32Array(256);for(let E=0;E<256;E++){let D=E;for(let b=0;b<8;b++)1&D?D=3988292384^D>>>1:D>>>=1;C[E]=D}return C}(),update(C,E,D,b){for(let I=0;I<b;I++)C=i.table[255&(C^E[D+I])]^C>>>8;return C},crc:(C,E,D)=>4294967295^i.update(4294967295,C,E,D)};function o(C,E,D,b){E[D]+=C[0]*b>>4,E[D+1]+=C[1]*b>>4,E[D+2]+=C[2]*b>>4,E[D+3]+=C[3]*b>>4}function s(C){return Math.max(0,Math.min(255,C))}function r(C,E){const D=C[0]-E[0],b=C[1]-E[1],I=C[2]-E[2],L=C[3]-E[3];return D*D+b*b+I*I+L*L}function u(C,E,D,b,I,L,P){P==null&&(P=1);const k=b.length,M=[];for(var x=0;x<k;x++){const H=b[x];M.push([H>>>0&255,H>>>8&255,H>>>16&255,H>>>24&255])}for(x=0;x<k;x++){let H=4294967295;for(var B=0,V=0;V<k;V++){var G=r(M[x],M[V]);V!=x&&G<H&&(H=G,B=V)}}const K=new Uint32Array(I.buffer),z=new Int16Array(E*D*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(x=0;x<Y.length;x++)Y[x]=255*((Y[x]+.5)/16-.5);for(let H=0;H<D;H++)for(let Q=0;Q<E;Q++){var q;x=4*(H*E+Q),P!=2?q=[s(C[x]+z[x]),s(C[x+1]+z[x+1]),s(C[x+2]+z[x+2]),s(C[x+3]+z[x+3])]:(G=Y[4*(3&H)+(3&Q)],q=[s(C[x]+G),s(C[x+1]+G),s(C[x+2]+G),s(C[x+3]+G)]),B=0;let ve=16777215;for(V=0;V<k;V++){const he=r(q,M[V]);he<ve&&(ve=he,B=V)}const ce=M[B],se=[q[0]-ce[0],q[1]-ce[1],q[2]-ce[2],q[3]-ce[3]];P==1&&(Q!=E-1&&o(se,z,x+4,7),H!=D-1&&(Q!=0&&o(se,z,x+4*E-4,3),o(se,z,x+4*E,5),Q!=E-1&&o(se,z,x+4*E+4,1))),L[x>>2]=B,K[x>>2]=b[B]}}function c(C,E,D,b,I){I==null&&(I={});const{crc:L}=i,P=e.writeUint,k=e.writeUshort,M=e.writeASCII;let x=8;const B=C.frames.length>1;let V,G=!1,K=33+(B?20:0);if(I.sRGB!=null&&(K+=13),I.pHYs!=null&&(K+=21),I.iCCP!=null&&(V=pako.deflate(I.iCCP),K+=21+V.length+4),C.ctype==3){for(var z=C.plte.length,Y=0;Y<z;Y++)C.plte[Y]>>>24!=255&&(G=!0);K+=8+3*z+4+(G?8+1*z+4:0)}for(var q=0;q<C.frames.length;q++)B&&(K+=38),K+=(ce=C.frames[q]).cimg.length+12,q!=0&&(K+=4);K+=12;const H=new Uint8Array(K),Q=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)H[Y]=Q[Y];if(P(H,x,13),x+=4,M(H,x,"IHDR"),x+=4,P(H,x,E),x+=4,P(H,x,D),x+=4,H[x]=C.depth,x++,H[x]=C.ctype,x++,H[x]=0,x++,H[x]=0,x++,H[x]=0,x++,P(H,x,L(H,x-17,17)),x+=4,I.sRGB!=null&&(P(H,x,1),x+=4,M(H,x,"sRGB"),x+=4,H[x]=I.sRGB,x++,P(H,x,L(H,x-5,5)),x+=4),I.iCCP!=null){const se=13+V.length;P(H,x,se),x+=4,M(H,x,"iCCP"),x+=4,M(H,x,"ICC profile"),x+=11,x+=2,H.set(V,x),x+=V.length,P(H,x,L(H,x-(se+4),se+4)),x+=4}if(I.pHYs!=null&&(P(H,x,9),x+=4,M(H,x,"pHYs"),x+=4,P(H,x,I.pHYs[0]),x+=4,P(H,x,I.pHYs[1]),x+=4,H[x]=I.pHYs[2],x++,P(H,x,L(H,x-13,13)),x+=4),B&&(P(H,x,8),x+=4,M(H,x,"acTL"),x+=4,P(H,x,C.frames.length),x+=4,P(H,x,I.loop!=null?I.loop:0),x+=4,P(H,x,L(H,x-12,12)),x+=4),C.ctype==3){for(P(H,x,3*(z=C.plte.length)),x+=4,M(H,x,"PLTE"),x+=4,Y=0;Y<z;Y++){const se=3*Y,he=C.plte[Y],Ne=255&he,Ge=he>>>8&255,fi=he>>>16&255;H[x+se+0]=Ne,H[x+se+1]=Ge,H[x+se+2]=fi}if(x+=3*z,P(H,x,L(H,x-3*z-4,3*z+4)),x+=4,G){for(P(H,x,z),x+=4,M(H,x,"tRNS"),x+=4,Y=0;Y<z;Y++)H[x+Y]=C.plte[Y]>>>24&255;x+=z,P(H,x,L(H,x-z-4,z+4)),x+=4}}let ve=0;for(q=0;q<C.frames.length;q++){var ce=C.frames[q];B&&(P(H,x,26),x+=4,M(H,x,"fcTL"),x+=4,P(H,x,ve++),x+=4,P(H,x,ce.rect.width),x+=4,P(H,x,ce.rect.height),x+=4,P(H,x,ce.rect.x),x+=4,P(H,x,ce.rect.y),x+=4,k(H,x,b[q]),x+=2,k(H,x,1e3),x+=2,H[x]=ce.dispose,x++,H[x]=ce.blend,x++,P(H,x,L(H,x-30,30)),x+=4);const se=ce.cimg;P(H,x,(z=se.length)+(q==0?0:4)),x+=4;const he=x;M(H,x,q==0?"IDAT":"fdAT"),x+=4,q!=0&&(P(H,x,ve++),x+=4),H.set(se,x),x+=z,P(H,x,L(H,he,x-he)),x+=4}return P(H,x,0),x+=4,M(H,x,"IEND"),x+=4,P(H,x,L(H,x-4,4)),x+=4,H.buffer}function f(C,E,D){for(let b=0;b<C.frames.length;b++){const I=C.frames[b];I.rect.width;const L=I.rect.height,P=new Uint8Array(L*I.bpl+L);I.cimg=p(I.img,L,I.bpp,I.bpl,P,E,D)}}function d(C,E,D,b,I){const L=I[0],P=I[1],k=I[2],M=I[3],x=I[4],B=I[5];let V=6,G=8,K=255;for(var z=0;z<C.length;z++){const We=new Uint8Array(C[z]);for(var Y=We.length,q=0;q<Y;q+=4)K&=We[q+3]}const H=K!=255,Q=function(Te,me,Je,st,Pe,vt){const Ve=[];for(var pe=0;pe<Te.length;pe++){const rt=new Uint8Array(Te[pe]),zt=new Uint32Array(rt.buffer);var Tt;let Dt=0,fn=0,Qt=me,hi=Je,Pa=st?1:0;if(pe!=0){const MC=vt||st||pe==1||Ve[pe-2].dispose!=0?1:2;let Va=0,Xd=1e9;for(let os=0;os<MC;os++){var bn=new Uint8Array(Te[pe-1-os]);const _C=new Uint32Array(Te[pe-1-os]);let In=me,Un=Je,Ki=-1,ss=-1;for(let mi=0;mi<Je;mi++)for(let pi=0;pi<me;pi++)zt[je=mi*me+pi]!=_C[je]&&(pi<In&&(In=pi),pi>Ki&&(Ki=pi),mi<Un&&(Un=mi),mi>ss&&(ss=mi));Ki==-1&&(In=Un=Ki=ss=0),Pe&&((1&In)==1&&In--,(1&Un)==1&&Un--);const $d=(Ki-In+1)*(ss-Un+1);$d<Xd&&(Xd=$d,Va=os,Dt=In,fn=Un,Qt=Ki-In+1,hi=ss-Un+1)}bn=new Uint8Array(Te[pe-1-Va]),Va==1&&(Ve[pe-1].dispose=2),Tt=new Uint8Array(Qt*hi*4),t(bn,me,Je,Tt,Qt,hi,-Dt,-fn,0),Pa=t(rt,me,Je,Tt,Qt,hi,-Dt,-fn,3)?1:0,Pa==1?m(rt,me,Je,Tt,{x:Dt,y:fn,width:Qt,height:hi}):t(rt,me,Je,Tt,Qt,hi,-Dt,-fn,0)}else Tt=rt.slice(0);Ve.push({rect:{x:Dt,y:fn,width:Qt,height:hi},img:Tt,blend:Pa,dispose:0})}if(st)for(pe=0;pe<Ve.length;pe++){if((di=Ve[pe]).blend==1)continue;const rt=di.rect,zt=Ve[pe-1].rect,Dt=Math.min(rt.x,zt.x),fn=Math.min(rt.y,zt.y),Qt={x:Dt,y:fn,width:Math.max(rt.x+rt.width,zt.x+zt.width)-Dt,height:Math.max(rt.y+rt.height,zt.y+zt.height)-fn};Ve[pe-1].dispose=1,pe-1!=0&&h(Te,me,Je,Ve,pe-1,Qt,Pe),h(Te,me,Je,Ve,pe,Qt,Pe)}let Nr=0;if(Te.length!=1)for(var je=0;je<Ve.length;je++){var di;Nr+=(di=Ve[je]).rect.width*di.rect.height}return Ve}(C,E,D,L,P,k),ve={},ce=[],se=[];if(b!=0){const We=[];for(q=0;q<Q.length;q++)We.push(Q[q].img.buffer);const Te=function(Pe){let vt=0;for(var Ve=0;Ve<Pe.length;Ve++)vt+=Pe[Ve].byteLength;const pe=new Uint8Array(vt);let Tt=0;for(Ve=0;Ve<Pe.length;Ve++){const bn=new Uint8Array(Pe[Ve]),Nr=bn.length;for(let je=0;je<Nr;je+=4){let di=bn[je],rt=bn[je+1],zt=bn[je+2];const Dt=bn[je+3];Dt==0&&(di=rt=zt=0),pe[Tt+je]=di,pe[Tt+je+1]=rt,pe[Tt+je+2]=zt,pe[Tt+je+3]=Dt}Tt+=Nr}return pe.buffer}(We),me=T(Te,b);for(q=0;q<me.plte.length;q++)ce.push(me.plte[q].est.rgba);let Je=0;for(q=0;q<Q.length;q++){const st=(Ne=Q[q]).img.length;var he=new Uint8Array(me.inds.buffer,Je>>2,st>>2);se.push(he);const Pe=new Uint8Array(me.abuf,Je,st);B&&u(Ne.img,Ne.rect.width,Ne.rect.height,ce,Pe,he),Ne.img.set(Pe),Je+=st}}else for(z=0;z<Q.length;z++){var Ne=Q[z];const We=new Uint32Array(Ne.img.buffer);var Ge=Ne.rect.width;for(Y=We.length,he=new Uint8Array(Y),se.push(he),q=0;q<Y;q++){const Te=We[q];if(q!=0&&Te==We[q-1])he[q]=he[q-1];else if(q>Ge&&Te==We[q-Ge])he[q]=he[q-Ge];else{let me=ve[Te];if(me==null&&(ve[Te]=me=ce.length,ce.push(Te),ce.length>=300))break;he[q]=me}}}const fi=ce.length;for(fi<=256&&x==0&&(G=fi<=2?1:fi<=4?2:fi<=16?4:8,G=Math.max(G,M)),z=0;z<Q.length;z++){(Ne=Q[z]).rect.x,Ne.rect.y,Ge=Ne.rect.width;const We=Ne.rect.height;let Te=Ne.img;new Uint32Array(Te.buffer);let me=4*Ge,Je=4;if(fi<=256&&x==0){me=Math.ceil(G*Ge/8);var $t=new Uint8Array(me*We);const st=se[z];for(let Pe=0;Pe<We;Pe++){q=Pe*me;const vt=Pe*Ge;if(G==8)for(var _e=0;_e<Ge;_e++)$t[q+_e]=st[vt+_e];else if(G==4)for(_e=0;_e<Ge;_e++)$t[q+(_e>>1)]|=st[vt+_e]<<4-4*(1&_e);else if(G==2)for(_e=0;_e<Ge;_e++)$t[q+(_e>>2)]|=st[vt+_e]<<6-2*(3&_e);else if(G==1)for(_e=0;_e<Ge;_e++)$t[q+(_e>>3)]|=st[vt+_e]<<7-1*(7&_e)}Te=$t,V=3,Je=1}else if(H==0&&Q.length==1){$t=new Uint8Array(Ge*We*3);const st=Ge*We;for(q=0;q<st;q++){const Pe=3*q,vt=4*q;$t[Pe]=Te[vt],$t[Pe+1]=Te[vt+1],$t[Pe+2]=Te[vt+2]}Te=$t,V=2,Je=3,me=3*Ge}Ne.img=Te,Ne.bpl=me,Ne.bpp=Je}return{ctype:V,depth:G,plte:ce,frames:Q}}function h(C,E,D,b,I,L,P){const k=Uint8Array,M=Uint32Array,x=new k(C[I-1]),B=new M(C[I-1]),V=I+1<C.length?new k(C[I+1]):null,G=new k(C[I]),K=new M(G.buffer);let z=E,Y=D,q=-1,H=-1;for(let ve=0;ve<L.height;ve++)for(let ce=0;ce<L.width;ce++){const se=L.x+ce,he=L.y+ve,Ne=he*E+se,Ge=K[Ne];Ge==0||b[I-1].dispose==0&&B[Ne]==Ge&&(V==null||V[4*Ne+3]!=0)||(se<z&&(z=se),se>q&&(q=se),he<Y&&(Y=he),he>H&&(H=he))}q==-1&&(z=Y=q=H=0),P&&((1&z)==1&&z--,(1&Y)==1&&Y--),L={x:z,y:Y,width:q-z+1,height:H-Y+1};const Q=b[I];Q.rect=L,Q.blend=1,Q.img=new Uint8Array(L.width*L.height*4),b[I-1].dispose==0?(t(x,E,D,Q.img,L.width,L.height,-L.x,-L.y,0),m(G,E,D,Q.img,L)):t(G,E,D,Q.img,L.width,L.height,-L.x,-L.y,0)}function m(C,E,D,b,I){t(C,E,D,b,I.width,I.height,-I.x,-I.y,2)}function p(C,E,D,b,I,L,P){const k=[];let M,x=[0,1,2,3,4];L!=-1?x=[L]:(E*b>5e5||D==1)&&(x=[0]),P&&(M={level:0});const B=lI;for(var V=0;V<x.length;V++){for(let z=0;z<E;z++)g(I,C,z,b,D,x[V]);k.push(B.deflate(I,M))}let G,K=1e9;for(V=0;V<k.length;V++)k[V].length<K&&(G=V,K=k[V].length);return k[G]}function g(C,E,D,b,I,L){const P=D*b;let k=P+D;if(C[k]=L,k++,L==0)if(b<500)for(var M=0;M<b;M++)C[k+M]=E[P+M];else C.set(new Uint8Array(E.buffer,P,b),k);else if(L==1){for(M=0;M<I;M++)C[k+M]=E[P+M];for(M=I;M<b;M++)C[k+M]=E[P+M]-E[P+M-I]+256&255}else if(D==0){for(M=0;M<I;M++)C[k+M]=E[P+M];if(L==2)for(M=I;M<b;M++)C[k+M]=E[P+M];if(L==3)for(M=I;M<b;M++)C[k+M]=E[P+M]-(E[P+M-I]>>1)+256&255;if(L==4)for(M=I;M<b;M++)C[k+M]=E[P+M]-n(E[P+M-I],0,0)+256&255}else{if(L==2)for(M=0;M<b;M++)C[k+M]=E[P+M]+256-E[P+M-b]&255;if(L==3){for(M=0;M<I;M++)C[k+M]=E[P+M]+256-(E[P+M-b]>>1)&255;for(M=I;M<b;M++)C[k+M]=E[P+M]+256-(E[P+M-b]+E[P+M-I]>>1)&255}if(L==4){for(M=0;M<I;M++)C[k+M]=E[P+M]+256-n(0,E[P+M-b],0)&255;for(M=I;M<b;M++)C[k+M]=E[P+M]+256-n(E[P+M-I],E[P+M-b],E[P+M-I-b])&255}}}function T(C,E){const D=new Uint8Array(C),b=D.slice(0),I=new Uint32Array(b.buffer),L=R(b,E),P=L[0],k=L[1],M=D.length,x=new Uint8Array(M>>2);let B;if(D.length<2e7)for(var V=0;V<M;V+=4)B=y(P,G=D[V]*(1/255),K=D[V+1]*(1/255),z=D[V+2]*(1/255),Y=D[V+3]*(1/255)),x[V>>2]=B.ind,I[V>>2]=B.est.rgba;else for(V=0;V<M;V+=4){var G=D[V]*.00392156862745098,K=D[V+1]*(1/255),z=D[V+2]*(1/255),Y=D[V+3]*(1/255);for(B=P;B.left;)B=v(B.est,G,K,z,Y)<=0?B.left:B.right;x[V>>2]=B.ind,I[V>>2]=B.est.rgba}return{abuf:b.buffer,inds:x,plte:k}}function R(C,E,D){D==null&&(D=1e-4);const b=new Uint32Array(C.buffer),I={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=w(C,I.i0,I.i1),I.est=_(I.bst);const L=[I];for(;L.length<E;){let k=0,M=0;for(var P=0;P<L.length;P++)L[P].est.L>k&&(k=L[P].est.L,M=P);if(k<D)break;const x=L[M],B=S(C,b,x.i0,x.i1,x.est.e,x.est.eMq255);if(x.i0>=B||x.i1<=B){x.est.L=0;continue}const V={i0:x.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};V.bst=w(C,V.i0,V.i1),V.est=_(V.bst);const G={i0:B,i1:x.i1,bst:null,est:null,tdst:0,left:null,right:null};for(G.bst={R:[],m:[],N:x.bst.N-V.bst.N},P=0;P<16;P++)G.bst.R[P]=x.bst.R[P]-V.bst.R[P];for(P=0;P<4;P++)G.bst.m[P]=x.bst.m[P]-V.bst.m[P];G.est=_(G.bst),x.left=V,x.right=G,L[M]=V,L.push(G)}for(L.sort((k,M)=>M.bst.N-k.bst.N),P=0;P<L.length;P++)L[P].ind=P;return[I,L]}function y(C,E,D,b,I){if(C.left==null)return C.tdst=function(V,G,K,z,Y){const q=G-V[0],H=K-V[1],Q=z-V[2],ve=Y-V[3];return q*q+H*H+Q*Q+ve*ve}(C.est.q,E,D,b,I),C;const L=v(C.est,E,D,b,I);let P=C.left,k=C.right;L>0&&(P=C.right,k=C.left);const M=y(P,E,D,b,I);if(M.tdst<=L*L)return M;const x=y(k,E,D,b,I);return x.tdst<M.tdst?x:M}function v(C,E,D,b,I){const{e:L}=C;return L[0]*E+L[1]*D+L[2]*b+L[3]*I-C.eMq}function S(C,E,D,b,I,L){for(b-=4;D<b;){for(;A(C,D,I)<=L;)D+=4;for(;A(C,b,I)>L;)b-=4;if(D>=b)break;const P=E[D>>2];E[D>>2]=E[b>>2],E[b>>2]=P,D+=4,b-=4}for(;A(C,D,I)>L;)D-=4;return D+4}function A(C,E,D){return C[E]*D[0]+C[E+1]*D[1]+C[E+2]*D[2]+C[E+3]*D[3]}function w(C,E,D){const b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],L=D-E>>2;for(let P=E;P<D;P+=4){const k=C[P]*.00392156862745098,M=C[P+1]*(1/255),x=C[P+2]*(1/255),B=C[P+3]*(1/255);I[0]+=k,I[1]+=M,I[2]+=x,I[3]+=B,b[0]+=k*k,b[1]+=k*M,b[2]+=k*x,b[3]+=k*B,b[5]+=M*M,b[6]+=M*x,b[7]+=M*B,b[10]+=x*x,b[11]+=x*B,b[15]+=B*B}return b[4]=b[1],b[8]=b[2],b[9]=b[6],b[12]=b[3],b[13]=b[7],b[14]=b[11],{R:b,m:I,N:L}}function _(C){const{R:E}=C,{m:D}=C,{N:b}=C,I=D[0],L=D[1],P=D[2],k=D[3],M=b==0?0:1/b,x=[E[0]-I*I*M,E[1]-I*L*M,E[2]-I*P*M,E[3]-I*k*M,E[4]-L*I*M,E[5]-L*L*M,E[6]-L*P*M,E[7]-L*k*M,E[8]-P*I*M,E[9]-P*L*M,E[10]-P*P*M,E[11]-P*k*M,E[12]-k*I*M,E[13]-k*L*M,E[14]-k*P*M,E[15]-k*k*M],B=x,V=N;let G=[Math.random(),Math.random(),Math.random(),Math.random()],K=0,z=0;if(b!=0)for(let q=0;q<16&&(G=V.multVec(B,G),z=Math.sqrt(V.dot(G,G)),G=V.sml(1/z,G),!(q!=0&&Math.abs(z-K)<1e-9));q++)K=z;const Y=[I*M,L*M,P*M,k*M];return{Cov:x,q:Y,e:G,L:K,eMq255:V.dot(V.sml(255,Y),G),eMq:V.dot(G,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var N={multVec:(C,E)=>[C[0]*E[0]+C[1]*E[1]+C[2]*E[2]+C[3]*E[3],C[4]*E[0]+C[5]*E[1]+C[6]*E[2]+C[7]*E[3],C[8]*E[0]+C[9]*E[1]+C[10]*E[2]+C[11]*E[3],C[12]*E[0]+C[13]*E[1]+C[14]*E[2]+C[15]*E[3]],dot:(C,E)=>C[0]*E[0]+C[1]*E[1]+C[2]*E[2]+C[3]*E[3],sml:(C,E)=>[C*E[0],C*E[1],C*E[2],C*E[3]]};Ot.encode=function(E,D,b,I,L,P,k){I==null&&(I=0),k==null&&(k=!1);const M=d(E,D,b,I,[!1,!1,!1,0,k,!1]);return f(M,-1),c(M,D,b,L,P)},Ot.encodeLL=function(E,D,b,I,L,P,k,M){const x={ctype:0+(I==1?0:2)+(L==0?0:4),depth:P,frames:[]},B=(I+L)*P,V=B*D;for(let G=0;G<E.length;G++)x.frames.push({rect:{x:0,y:0,width:D,height:b},img:new Uint8Array(E[G]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil(V/8)});return f(x,0,!0),c(x,D,b,k,M)},Ot.encode.compress=d,Ot.encode.dither=u,Ot.quantize=T,Ot.quantize.getKDtree=R,Ot.quantize.getNearest=y})();const kT={toArrayBuffer(t,e){const n=t.width,i=t.height,o=n<<2,s=t.getContext("2d").getImageData(0,0,n,i),r=new Uint32Array(s.data.buffer),u=(32*n+31)/32<<2,c=u*i,f=122+c,d=new ArrayBuffer(f),h=new DataView(d),m=1<<20;let p,g,T,R,y=m,v=0,S=0,A=0;function w(C){h.setUint16(S,C,!0),S+=2}function _(C){h.setUint32(S,C,!0),S+=4}function N(C){S+=C}w(19778),_(f),N(4),_(122),_(108),_(n),_(-i>>>0),w(1),w(32),_(3),_(c),_(2835),_(2835),N(8),_(16711680),_(65280),_(255),_(4278190080),_(1466527264),function C(){for(;v<i&&y>0;){for(R=122+v*u,p=0;p<o;)y--,g=r[A++],T=g>>>24,h.setUint32(R+p,g<<8|T),p+=4;v++}A<r.length?(y=m,setTimeout(C,kT._dly)):e(d)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var mt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},aI={[mt.CHROME]:16384,[mt.FIREFOX]:11180,[mt.DESKTOP_SAFARI]:16384,[mt.IE]:8192,[mt.IOS]:4096,[mt.ETC]:8192};const md=typeof window<"u",BT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ta=md&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),uI=(md||BT)&&(ta&&ta.getOriginalSymbol(window,"File")||typeof File<"u"&&File),GT=(md||BT)&&(ta&&ta.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function pd(t,e,n=Date.now()){return new Promise(i=>{const o=t.split(","),s=o[0].match(/:(.*?);/)[1],r=globalThis.atob(o[1]);let u=r.length;const c=new Uint8Array(u);for(;u--;)c[u]=r.charCodeAt(u);const f=new Blob([c],{type:s});f.name=e,f.lastModified=n,i(f)})}function HT(t){return new Promise((e,n)=>{const i=new GT;i.onload=()=>e(i.result),i.onerror=o=>n(o),i.readAsDataURL(t)})}function FT(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=o=>n(o),i.src=t})}function Ai(){if(Ai.cachedResult!==void 0)return Ai.cachedResult;let t=mt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=mt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=mt.IOS:/Safari/i.test(e)?t=mt.DESKTOP_SAFARI:/Firefox/i.test(e)?t=mt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=mt.IE),Ai.cachedResult=t,Ai.cachedResult}function qT(t,e){const n=Ai(),i=aI[n];let o=t,s=e,r=o*s;const u=o>s?s/o:o/s;for(;r>i*i;){const c=(i+o)/2,f=(i+s)/2;c<f?(s=f,o=f*u):(s=c*u,o=c),r=o*s}return{width:o,height:s}}function Na(t,e){let n,i;try{if(n=new OffscreenCanvas(t,e),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=t,n.height=e,[n,i]}function zT(t,e){const{width:n,height:i}=qT(t.width,t.height),[o,s]=Na(n,i);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,o.width,o.height)),s.drawImage(t,0,0,o.width,o.height),o}function pl(){return pl.cachedResult!==void 0||(pl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),pl.cachedResult}function na(t,e={}){return new Promise(function(n,i){let o,s;var r=function(){try{return s=zT(o,e.fileType||t.type),n([o,s])}catch(c){return i(c)}},u=function(c){try{var f=function(d){try{throw d}catch(h){return i(h)}};try{let d;return HT(t).then(function(h){try{return d=h,FT(d).then(function(m){try{return o=m,function(){try{return r()}catch(p){return i(p)}}()}catch(p){return f(p)}},f)}catch(m){return f(m)}},f)}catch(d){f(d)}}catch(d){return i(d)}};try{if(pl()||[mt.DESKTOP_SAFARI,mt.MOBILE_SAFARI].includes(Ai()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(c){try{return o=c,r()}catch{return u()}},u)}catch{u()}})}function ia(t,e,n,i,o=1){return new Promise(function(s,r){let u;if(e==="image/png"){let h,m,p;return h=t.getContext("2d"),{data:m}=h.getImageData(0,0,t.width,t.height),p=Ot.encode([m.buffer],t.width,t.height,4096*o),u=new Blob([p],{type:e}),u.name=n,u.lastModified=i,c.call(this)}{let h=function(){return c.call(this)};var f=h;if(e==="image/bmp")return new Promise(m=>kT.toBlob(t,m)).then((function(m){try{return u=m,u.name=n,u.lastModified=i,h.call(this)}catch(p){return r(p)}}).bind(this),r);{let m=function(){return h.call(this)};var d=m;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:o}).then((function(p){try{return u=p,u.name=n,u.lastModified=i,m.call(this)}catch(g){return r(g)}}).bind(this),r);{let p;return p=t.toDataURL(e,o),pd(p,n,i).then((function(g){try{return u=g,m.call(this)}catch(T){return r(T)}}).bind(this),r)}}}function c(){return s(u)}})}function Wt(t){t.width=0,t.height=0}function ho(){return new Promise(function(t,e){let n,i,o,s;return ho.cachedResult!==void 0?t(ho.cachedResult):pd("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(r){try{return n=r,na(n).then(function(u){try{return i=u[1],ia(i,n.type,n.name,n.lastModified).then(function(c){try{return o=c,Wt(i),na(o).then(function(f){try{return s=f[0],ho.cachedResult=s.width===1&&s.height===2,t(ho.cachedResult)}catch(d){return e(d)}},e)}catch(f){return e(f)}},e)}catch(c){return e(c)}},e)}catch(u){return e(u)}},e)})}function OT(t){return new Promise((e,n)=>{const i=new GT;i.onload=o=>{const s=new DataView(o.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const r=s.byteLength;let u=2;for(;u<r;){if(s.getUint16(u+2,!1)<=8)return e(-1);const c=s.getUint16(u,!1);if(u+=2,c==65505){if(s.getUint32(u+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(u+=6,!1)==18761;u+=s.getUint32(u+4,f);const d=s.getUint16(u,f);u+=2;for(let h=0;h<d;h++)if(s.getUint16(u+12*h,f)==274)return e(s.getUint16(u+12*h+8,f))}else{if((65280&c)!=65280)break;u+=s.getUint16(u,!1)}}return e(-1)},i.onerror=o=>n(o),i.readAsArrayBuffer(t)})}function YT(t,e){const{width:n}=t,{height:i}=t,{maxWidthOrHeight:o}=e;let s,r=t;return isFinite(o)&&(n>o||i>o)&&([r,s]=Na(n,i),n>i?(r.width=o,r.height=i/n*o):(r.width=n/i*o,r.height=o),s.drawImage(t,0,0,r.width,r.height),Wt(t)),r}function KT(t,e){const{width:n}=t,{height:i}=t,[o,s]=Na(n,i);switch(e>4&&e<9?(o.width=i,o.height=n):(o.width=n,o.height=i),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,i);break;case 4:s.transform(1,0,0,-1,0,i);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,i,0);break;case 7:s.transform(0,-1,-1,0,i,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,i),Wt(t),o}function Op(t,e,n=0){return new Promise(function(i,o){let s,r,u,c,f,d,h,m,p,g,T,R,y,v,S,A,w,_,N,C;function E(b=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=b,e.onProgress(Math.min(s,100))}function D(b){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(b,s),100),e.onProgress(s)}return s=n,r=e.maxIteration||10,u=1024*e.maxSizeMB*1024,E(),na(t,e).then((function(b){try{return[,c]=b,E(),f=YT(c,e),E(),new Promise(function(I,L){var P;if(!(P=e.exifOrientation))return OT(t).then((function(M){try{return P=M,k.call(this)}catch(x){return L(x)}}).bind(this),L);function k(){return I(P)}return k.call(this)}).then((function(I){try{return d=I,E(),ho().then((function(L){try{return h=L?f:KT(f,d),E(),m=e.initialQuality||1,p=e.fileType||t.type,ia(h,p,t.name,t.lastModified,m).then((function(P){try{{let B=function(){if(r--&&(S>u||S>y)){let G,K;return G=C?.95*N.width:N.width,K=C?.95*N.height:N.height,[w,_]=Na(G,K),_.drawImage(N,0,0,G,K),m*=p==="image/png"?.85:.95,ia(w,p,t.name,t.lastModified,m).then(function(z){try{return A=z,Wt(N),N=w,S=A.size,D(Math.min(99,Math.floor((v-S)/(v-u)*100))),B}catch(Y){return o(Y)}},o)}return[1]},V=function(){return Wt(N),Wt(w),Wt(f),Wt(h),Wt(c),D(100),i(A)};var M=B,x=V;if(g=P,E(),T=g.size>u,R=g.size>t.size,!T&&!R)return D(100),i(g);var k;return y=t.size,v=g.size,S=v,N=h,C=!e.alwaysKeepResolution&&T,(k=(function(G){for(;G;){if(G.then)return void G.then(k,o);try{if(G.pop){if(G.length)return G.pop()?V.call(this):G;G=B}else G=G.call(this)}catch(K){return o(K)}}}).bind(this))(B)}}catch(B){return o(B)}}).bind(this),o)}catch(P){return o(P)}}).bind(this),o)}catch(L){return o(L)}}).bind(this),o)}catch(I){return o(I)}}).bind(this),o)})}const cI=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Tu;function fI(t,e){return new Promise((n,i)=>{Tu||(Tu=function(r){const u=[];return u.push(r),URL.createObjectURL(new Blob(u))}(cI));const o=new Worker(Tu);o.addEventListener("message",function(r){if(e.signal&&e.signal.aborted)o.terminate();else if(r.data.progress===void 0){if(r.data.error)return i(new Error(r.data.error)),void o.terminate();n(r.data.file),o.terminate()}else e.onProgress(r.data.progress)}),o.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),o.terminate()}),o.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function et(t,e){return new Promise(function(n,i){let o,s,r,u,c,f;if(o={...e},r=0,{onProgress:u}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=p=>{r=p,typeof u=="function"&&u(r)},!(t instanceof Blob||t instanceof uI))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return i(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||f)return Op(t,o).then((function(p){try{return s=p,m.call(this)}catch(g){return i(g)}}).bind(this),i);var d=(function(){try{return m.call(this)}catch(p){return i(p)}}).bind(this),h=function(p){try{return Op(t,o).then(function(g){try{return s=g,d()}catch(T){return i(T)}},i)}catch(g){return i(g)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",fI(t,o).then(function(p){try{return s=p,d()}catch{return h()}},h)}catch{h()}function m(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{o.preserveExif&&t.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===t.type)&&(s=LT(t,s))}catch{}return n(s)}})}et.getDataUrlFromFile=HT,et.getFilefromDataUrl=pd,et.loadImage=FT,et.drawImageInCanvas=zT,et.drawFileInCanvas=na,et.canvasToFile=ia,et.getExifOrientation=OT,et.handleMaxWidthOrHeight=YT,et.followExifOrientation=KT,et.cleanupCanvasMemory=Wt,et.isAutoOrientationInBrowser=ho,et.approximateBelowMaximumCanvasSizeOfBrowser=qT,et.copyExifWithoutOrientation=LT,et.getBrowserName=Ai,et.version="2.0.2";const dI={maxSizeMB:4,maxWidthOrHeight:1024,useWebWorker:!0,fileType:"image/jpeg",quality:.9};async function hI(t,e={}){const n={...dI,...e};try{const i=await et(t,n),o=await mI(i),s=o.split(",")[1];return{processedFile:i,dataUrl:o,base64:s}}catch(i){throw console.error("Image processing failed:",i),new Error("Failed to process image. Please try a different image.")}}function mI(t){return new Promise((e,n)=>{const i=new FileReader;i.onload=o=>{var s;(s=o.target)!=null&&s.result&&typeof o.target.result=="string"?e(o.target.result):n(new Error("Failed to read file"))},i.onerror=()=>n(new Error("File reading error")),i.readAsDataURL(t)})}function pI(t){return["image/jpeg","image/png","image/webp"].includes(t.type)?t.size>10485760?{isValid:!1,error:"File is too large. Please use an image under 10MB."}:{isValid:!0}:{isValid:!1,error:"Unsupported file type. Please use JPEG, PNG, or WebP images."}}const gI=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(!1),[o,s]=O.useState(null),r=O.useRef(null),u=O.useRef(null),{setOriginalImage:c,originalImage:f,originalImageUrl:d}=Bi(),h=O.useCallback(async g=>{s(null),i(!0);try{const T=pI(g);if(!T.isValid){s(T.error||"Invalid file");return}const{dataUrl:R}=await hI(g);c(g,R)}catch(T){s(T instanceof Error?T.message:"Failed to process image.")}finally{i(!1)}},[c]),m=O.useCallback(async g=>{g.preventDefault(),e(!1);const T=Array.from(g.dataTransfer.files);T.length>0&&await h(T[0])},[h]),p=O.useCallback(async g=>{const T=g.target.files;T&&T.length>0&&await h(T[0]),g.target&&(g.target.value="")},[h]);return U.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[U.jsxs("div",{className:`
          relative rounded-2xl border-2 border-dashed p-12 text-center transition-all
          ${t?"border-orange-400 bg-orange-50 scale-105":"border-gray-300 bg-white hover:border-orange-300"}
          ${n?"opacity-70 pointer-events-none":"cursor-pointer"}
        `,onDragOver:g=>{g.preventDefault(),e(!0)},onDragLeave:g=>{g.preventDefault(),e(!1)},onDrop:m,onClick:()=>{var g;return(g=r.current)==null?void 0:g.click()},children:[U.jsx("div",{className:"mb-4 flex justify-center",children:U.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-orange-100 to-amber-100 flex items-center justify-center",children:U.jsx("svg",{className:"h-8 w-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})}),U.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"Share a Memory"}),U.jsx("p",{className:"mb-1 text-sm text-gray-600",children:"Upload a photo to transform it into a beautiful moving memory."}),U.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, or WebP • Max 10MB"}),U.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Drag & drop your photo, or click to browse"}),f&&d&&U.jsxs("div",{className:"mt-8",children:[U.jsx("img",{src:d,alt:"Uploaded memory",className:"mx-auto h-64 w-64 object-cover rounded-xl shadow-lg border-4 border-white"}),U.jsx("p",{className:"mt-3 text-sm text-green-600 font-medium",children:"✓ Photo uploaded successfully"})]}),n&&U.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-2xl",children:U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"mb-2 h-8 w-8 animate-spin rounded-full border-2 border-orange-500 border-t-transparent mx-auto"}),U.jsx("p",{className:"text-sm text-gray-600",children:"Processing your memory..."})]})})]}),U.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[U.jsxs("button",{onClick:()=>{var g;return(g=r.current)==null?void 0:g.click()},className:"rounded-lg bg-white border border-gray-300 px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",disabled:n,children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Browse Files"]}),U.jsxs("button",{onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},className:"rounded-lg bg-gradient-to-r from-orange-500 to-amber-500 px-4 py-3 text-sm font-medium text-white hover:from-orange-600 hover:to-amber-600 transition-all flex items-center justify-center gap-2 disabled:opacity-60",disabled:n,children:[U.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Take Photo"]})]}),o&&U.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 p-3",children:U.jsx("p",{className:"text-sm text-red-700",children:o})}),U.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:p,className:"hidden"}),U.jsx("input",{ref:u,type:"file",accept:"image/*",capture:"environment",onChange:p,className:"hidden"})]})};class yI{constructor(){rs(this,"apiToken",null)}init(e){this.apiToken=e}async enhanceImage(e,n){if(!this.apiToken)throw new Error("Replicate API token not set");const i=VT();console.log("[Replicate] Enhancement prompt:",i);try{const o=await fetch("/replicate/v1/models/google/nano-banana/predictions",{method:"POST",headers:{Authorization:`Bearer ${this.apiToken}`,"Content-Type":"application/json",Prefer:"wait"},body:JSON.stringify({input:{prompt:i,image_input:[e],output_format:"png"}})});if(!o.ok){const r=await o.text();throw console.error("[Replicate] API error:",r),new Error(`Replicate API error: ${o.status}`)}const s=await o.json();if(console.log("[Replicate] API response:",s),s.output&&Array.isArray(s.output)&&s.output.length>0)return console.log("[Replicate] Successfully received enhanced image"),{imageUrl:s.output[0],caption:"Enhanced with AI"};if(typeof s.output=="string")return console.log("[Replicate] Successfully received enhanced image (string format)"),{imageUrl:s.output,caption:"Enhanced with AI"};throw new Error("No enhanced image in response")}catch(o){throw console.error("[Replicate] Enhancement failed:",o),o}}}const Yp=new yI,vI=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(null),[o,s]=O.useState(""),[r,u]=O.useState(0),[c,f]=O.useState(!1),d=O.useRef(!1),h=O.useRef(null),m=O.useRef(!1),{originalImageDataUrl:p,setEnhancedImage:g,enhancedImageUrl:T,setCurrentStep:R,setUserNote:y}=Bi();O.useEffect(()=>(p&&!T&&!d.current&&(d.current=!0,s(""),y(""),v()),()=>{h.current&&clearTimeout(h.current)}),[]);const v=async()=>{var w,_;if(!p)return;e(!0),i(null),u(0);const A=setInterval(()=>{u(N=>Math.min(N+10,90))},400);try{const N=localStorage.getItem("REPLICATE_API_TOKEN");let C,E;if(N)try{console.log("[Enhancement] Using Replicate Nano Banana with existing token..."),Yp.init(N);const D=await Yp.enhanceImage(p);C=D.imageUrl,E=D.caption||"Enhanced with AI",console.log("[Enhancement] Replicate successful!")}catch(D){console.error("[Enhancement] Replicate failed, falling back to Gemini:",D);const b=p.split(",")[1],I=((w=p.match(/data:([^;]+)/))==null?void 0:w[1])||"image/jpeg",L=await jl.enhanceImage(b,I);C=L.images[0],E=L.caption}else{console.log("[Enhancement] No Replicate token, using Gemini (may not enhance)...");const D=p.split(",")[1],b=((_=p.match(/data:([^;]+)/))==null?void 0:_[1])||"image/jpeg",I=await jl.enhanceImage(D,b);C=I.images[0],E=I.caption}if(clearInterval(A),u(100),C)f(!1),g(C,E),m.current=!0,h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{R("generate")},3500);else throw new Error("No enhanced image was generated")}catch(N){clearInterval(A),u(0),i(N instanceof Error?N.message:"Enhancement failed"),e(!1)}},S=()=>{v()};return U.jsx("div",{className:"w-full max-w-2xl mx-auto space-y-6",children:U.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[U.jsxs("div",{className:"p-6 border-b border-gray-100",children:[U.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Enhancing your photo"}),U.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Subtle adjustments for a warmer, clearer memory"})]}),U.jsx("div",{className:"p-6",children:U.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-50",children:[(T||p)&&U.jsx("div",{className:"relative",children:U.jsx("img",{src:T||p||"",alt:"Memory",className:`w-full h-auto transition-all duration-1000 ${T?"scale-100 brightness-100 contrast-100":"scale-[1.02] brightness-95"}`,onLoad:()=>{T&&!c&&setTimeout(()=>f(!0),100)}},T||p||"")}),t&&!T&&U.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent flex items-center justify-center",children:U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"mb-4",children:U.jsx("div",{className:"h-12 w-12 mx-auto rounded-full border-2 border-white border-t-transparent animate-spin"})}),U.jsx("p",{className:"text-white text-sm font-medium",children:"Enhancing..."}),U.jsx("div",{className:"mt-2 w-32 h-1 bg-white/30 rounded-full mx-auto overflow-hidden",children:U.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${r}%`}})})]})}),T&&c&&U.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[U.jsxs("div",{className:"absolute inset-0 animate-pulse",children:[U.jsx("div",{className:"absolute top-1/3 left-1/3 w-2 h-2 bg-yellow-300 rounded-full opacity-60 animate-ping"}),U.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-2 h-2 bg-yellow-200 rounded-full opacity-60 animate-ping",style:{animationDelay:"0.5s"}}),U.jsx("div",{className:"absolute top-1/2 right-1/4 w-1.5 h-1.5 bg-white rounded-full opacity-80 animate-ping",style:{animationDelay:"1s"}})]}),U.jsxs("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1.5 rounded-full text-sm font-medium flex items-center gap-1.5 animate-fadeIn",children:[U.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Enhanced"]})]})]})}),U.jsx("div",{className:"px-6 pb-6",children:U.jsxs("div",{className:"space-y-2",children:[U.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Tell us something about this memory ",U.jsx("span",{className:"font-normal text-gray-300",children:"(optional)"})]}),U.jsx("textarea",{value:o,onChange:A=>{s(A.target.value),y(A.target.value),m.current&&(h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{R("generate")},2e3))},placeholder:"Share what makes this moment special...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent placeholder:text-gray-300",rows:3,maxLength:200}),U.jsx("div",{className:"text-right",children:U.jsxs("span",{className:"text-xs text-gray-400",children:[o.length,"/200"]})})]})}),n&&U.jsx("div",{className:"px-6 pb-6",children:U.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[U.jsx("p",{className:"text-sm text-red-700",children:n}),U.jsx("button",{onClick:S,className:"mt-2 text-sm font-medium text-red-700 hover:text-red-800",children:"Try again →"})]})})]})})};class TI{constructor(){rs(this,"ai",null);rs(this,"apiKey",null)}init(e){this.ai=new PT({apiKey:e}),this.apiKey=e}async generateVideo(e,n,i,o="image/jpeg"){var s,r,u;if(!this.ai||!this.apiKey)throw new Error("VEO service not initialized. Please provide an API key.");try{i&&i("Starting video generation...");const c={instances:[{prompt:n,image:{bytesBase64Encoded:e,mimeType:o}}]},f=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/veo-3.0-generate-preview:predictLongRunning?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!f.ok){const A=await f.text();throw console.error("[VEO] API error response:",A),new Error(`ApiError: ${A}`)}const d=await f.json();let h=0;const m=30;let p=d;for(;!p.done&&h<m;){i&&i(`Generating video... (${h*10}s elapsed)`),await new Promise(w=>setTimeout(w,1e4));const A=await fetch(`https://generativelanguage.googleapis.com/v1beta/${p.name}?key=${this.apiKey}`,{method:"GET",headers:{"Content-Type":"application/json"}});A.ok&&(p=await A.json()),h++}if(!p.done)throw new Error("Video generation timed out. Please try again.");const g=(u=(r=(s=p.response)==null?void 0:s.generatedVideos)==null?void 0:r[0])==null?void 0:u.video;if(!g)throw new Error("No video was generated.");const T=g.uri;if(!T)throw new Error("No downloadable video URI was returned.");const R=T.includes("key=")?T:`${T}${T.includes("?")?"&":"?"}key=${encodeURIComponent(this.apiKey||"")}`;i&&i("Downloading video...");const y=await fetch(R);if(!y.ok)throw new Error(`Failed to download video (HTTP ${y.status})`);const v=await y.blob(),S=URL.createObjectURL(v);return i&&i("Video ready!"),S}catch(c){throw c instanceof Error?c.message.includes("quota")?new Error("API quota exceeded. Please check your API usage limits."):c.message.includes("safety")?new Error("Content was rejected for safety reasons. Please try different content."):c:new Error("Failed to generate video. Please try again.")}}async generateVideoWithReplicate(e,n,i=5,o="480p",s="16:9"){const r=localStorage.getItem("REPLICATE_API_TOKEN");if(!r)throw new Error("Missing Replicate API token. Set REPLICATE_API_TOKEN in localStorage.");const u={input:{prompt:e,duration:i,resolution:o,aspect_ratio:s,image:n||null,fps:24,camera_fixed:!1}},c=await fetch("/replicate/v1/models/bytedance/seedance-1-pro/predictions",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Prefer:"wait"},body:JSON.stringify(u)});if(!c.ok){const h=await c.text();throw new Error(`Replicate failed (${c.status}): ${h}`)}const d=(await c.json()).output;if(!d)throw new Error("Replicate did not return an output URL.");return d}async generateVideoSimple(e,n){if(e.startsWith("data:")){const i=e.match(/^data:([^;]+);base64,/i),o=(i==null?void 0:i[1])||"image/jpeg",s=e.split(",")[1];if(!s)throw new Error("Invalid data URL: missing base64 data");return this.generateVideo(s,n,void 0,o)}else if(e.startsWith("http"))try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.status}`);const o=await i.blob(),s=o.type||"image/jpeg";return new Promise((r,u)=>{const c=new FileReader;c.onloadend=async()=>{const d=c.result.split(",")[1];try{const h=await this.generateVideo(d,n,void 0,s);r(h)}catch(h){u(h)}},c.onerror=u,c.readAsDataURL(o)})}catch(i){throw console.error("[VEO] Failed to fetch and convert image URL:",i),new Error("Failed to process image URL for video generation")}else throw new Error("Invalid image format: must be either a data URL or HTTP URL")}}const $r=new TI,Kp=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(null),[o,s]=O.useState(0),[r,u]=O.useState("Initializing..."),c=O.useRef(null),f=O.useRef(!1),{enhancedImageUrl:d,motionPrompt:h,setVideoUrl:m,videoUrl:p,setCurrentStep:g,userNote:T,enhancedImageCaption:R}=Bi();O.useEffect(()=>(!p&&d&&!f.current&&(f.current=!0,T&&T.trim().length>0?(u("Processing your note..."),setTimeout(()=>{S()},500)):S()),()=>{c.current&&window.clearInterval(c.current)}),[]);const y=()=>{c.current&&window.clearInterval(c.current);const w=Date.now(),_=10,N=90,C=5e4;c.current=window.setInterval(()=>{const E=Date.now()-w,D=Math.min(E/C,1),b=D<.5?2*D*D:1-Math.pow(-2*D+2,2)/2,I=_+(N-_)*b;s(Math.min(90,I)),I>=90&&c.current&&window.clearInterval(c.current)},100)},v=()=>{c.current&&(window.clearInterval(c.current),c.current=null)},S=async()=>{if(!d){i("Missing required image for video generation");return}e(!0),i(null),s(10),u("Analyzing image for motion..."),y();let w=h;try{if(!w||w.trim().length===0){console.log("[Generating motion prompt from image with user note:",T||"none","]");try{w=await jl.generateVideoPromptFromImage(d,T||void 0),console.log("[Generated motion prompt]:",w),u("Preparing video generation...")}catch(N){console.error("Motion prompt generation failed:",N),w="A gentle, cinematic motion around this cherished memory.",console.log("[Using fallback prompt]:",w)}}if(console.log("[FINAL MOVEMENT PROMPT]:",w),console.log("[USER NOTE]:",T||"none"),localStorage.getItem("REPLICATE_API_TOKEN")){u("Generating video...");const N=await $r.generateVideoWithReplicate(w,d,5,"480p","16:9");v(),s(100),u("Your memory is ready!"),m(N),setTimeout(()=>{g("complete")},1200)}else{const N=localStorage.getItem("VEO_API_KEY")||localStorage.getItem("GEMINI_API_KEY");if(!N)throw new Error("API key not found. Please set your API key.");$r.init(N),u("Generating video...");const C=await $r.generateVideoSimple(d,w);v(),s(100),u("Your memory is ready!"),m(C),setTimeout(()=>{g("complete")},1200)}}catch(_){console.error("Video generation error:",_);const N=_ instanceof Error?_.message:String(_);if(localStorage.getItem("REPLICATE_API_TOKEN")&&!N.includes("Replicate"))try{const E=await $r.generateVideoWithReplicate(w,d,5,"480p","16:9");v(),s(100),u("Your memory is ready!"),m(E),setTimeout(()=>{g("complete")},1200);return}catch(E){v(),console.error("Replicate fallback failed:",E),i(E instanceof Error?E.message:"Video generation failed"),e(!1);return}v(),i(N||"Video generation failed"),e(!1)}},A=()=>{S()};return U.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6",children:[U.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[U.jsxs("div",{className:"p-6 border-b border-gray-100",children:[U.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Creating Your Moving Memory"}),U.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"We are transforming your photo into a short video memory"})]}),d&&U.jsx("div",{className:"relative overflow-hidden bg-gray-50",children:U.jsx("img",{src:d,alt:"Enhanced memory",className:"w-full h-auto"})}),U.jsx("div",{className:"p-6",children:U.jsxs("div",{className:"space-y-3",children:[U.jsxs("div",{className:"flex justify-between text-xs",children:[U.jsx("span",{className:"text-gray-600",children:r}),U.jsxs("span",{className:"text-gray-500",children:[Math.round(o),"%"]})]}),U.jsx("div",{className:"h-1 bg-gray-100 rounded-full overflow-hidden",children:U.jsx("div",{className:"h-full bg-orange-500 rounded-full transition-all duration-500",style:{width:`${o}%`}})}),n&&U.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3",children:[U.jsx("p",{className:"text-xs text-red-700",children:n}),U.jsx("button",{onClick:A,className:"mt-2 text-xs font-medium text-red-700 hover:text-red-800",children:"Try again →"})]})]})})]}),U.jsx("div",{className:"space-y-3",children:U.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-4",children:U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("div",{className:"flex-shrink-0",children:U.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:U.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),U.jsx("div",{className:"flex-1",children:U.jsxs("p",{className:"text-sm text-gray-700",children:[U.jsx("span",{className:"font-medium",children:"Video:"})," We generate a short clip (≈ 5s, 480p)."]})})]})})})]})},SI=()=>{const[t,e]=O.useState(!0),{videoUrl:n,enhancedImageUrl:i,originalImage:o,userNote:s,motionPrompt:r,resetWorkflow:u}=Bi(),c=()=>{if(n){const h=document.createElement("a");h.href=n,h.download=`memory-${Date.now()}.mp4`,h.click()}},f=()=>{if(i){const h=document.createElement("a");h.href=i,h.download=`enhanced-memory-${Date.now()}.jpg`,h.click()}},d=()=>{u()};return U.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6",children:[U.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"absolute inset-0 bg-green-400 rounded-full animate-ping opacity-20"}),U.jsx("div",{className:"relative inline-flex items-center justify-center w-10 h-10 bg-green-100 rounded-full",children:U.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),U.jsxs("div",{className:"flex-1",children:[U.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Memory is Ready!"}),U.jsx("p",{className:"text-sm text-gray-600",children:"Your photo has been transformed into a beautiful moving memory"})]})]})}),U.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[U.jsx("div",{className:"relative bg-black",children:n?U.jsx("video",{src:n,controls:!0,autoPlay:!0,loop:!0,className:"w-full h-auto",poster:i||void 0,children:"Your browser does not support the video tag."}):i&&U.jsx("img",{src:i,alt:"Enhanced memory",className:"w-full h-auto"})}),U.jsxs("div",{className:"p-6 space-y-4",children:[s&&U.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[U.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Your memory:"}),U.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',s,'"']})]}),r&&U.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[U.jsx("p",{className:"text-xs font-medium text-blue-600 mb-1",children:"Motion description:"}),U.jsx("p",{className:"text-sm text-gray-700 font-mono",children:r})]}),U.jsxs("div",{className:"flex gap-3 pt-2",children:[U.jsxs("button",{onClick:c,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-lg font-medium text-sm hover:from-orange-600 hover:to-amber-600 transition-all flex items-center justify-center gap-2",children:[U.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Download Video"]}),U.jsxs("button",{onClick:f,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium text-sm hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[U.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Download Photo"]})]})]})]}),U.jsx("div",{className:"flex justify-center",children:U.jsxs("button",{onClick:d,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all flex items-center gap-2",children:[U.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Another Memory"]})}),U.jsxs("div",{className:"text-center space-y-2",children:[U.jsx("p",{className:"text-xs text-gray-500",children:"Created with AI"}),U.jsx("p",{className:"text-xs text-gray-400",children:"Your memories are processed privately and not stored on our servers"})]})]})},CI=t=>{localStorage.setItem("GEMINI_API_KEY",t),localStorage.setItem("moving-memories-store",JSON.stringify({state:{apiKey:t,userNote:""},version:0})),console.log("API key set successfully! Refresh the page.")},AI=t=>{localStorage.setItem("REPLICATE_API_TOKEN",t),console.log("Replicate token set.")};typeof window<"u"&&(window.setApiKey=CI,window.setReplicateToken=AI);const JT=O.createContext({});function EI(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const gd=typeof window<"u",xI=gd?O.useLayoutEffect:O.useEffect,yd=O.createContext(null);function vd(t,e){t.indexOf(e)===-1&&t.push(e)}function Td(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rn=(t,e,n)=>n>e?e:n<t?t:n;let Sd=()=>{};const wn={},XT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $T(t){return typeof t=="object"&&t!==null}const QT=t=>/^0[^.\s]+$/u.test(t);function Cd(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ht=t=>t,MI=(t,e)=>n=>e(t(n)),_r=(...t)=>t.reduce(MI),ir=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Ad{constructor(){this.subscriptions=[]}add(e){return vd(this.subscriptions,e),()=>Td(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let s=0;s<o;s++){const r=this.subscriptions[s];r&&r(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sn=t=>t*1e3,rn=t=>t/1e3;function ZT(t,e){return e?t*(1e3/e):0}const WT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_I=1e-7,RI=12;function wI(t,e,n,i,o){let s,r,u=0;do r=e+(n-e)/2,s=WT(r,i,o)-t,s>0?n=r:e=r;while(Math.abs(s)>_I&&++u<RI);return r}function Rr(t,e,n,i){if(t===e&&n===i)return Ht;const o=s=>wI(s,0,1,t,n);return s=>s===0||s===1?s:WT(o(s),e,i)}const jT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eS=t=>e=>1-t(1-e),tS=Rr(.33,1.53,.69,.99),Ed=eS(tS),nS=jT(Ed),iS=t=>(t*=2)<1?.5*Ed(t):.5*(2-Math.pow(2,-10*(t-1))),xd=t=>1-Math.sin(Math.acos(t)),oS=eS(xd),sS=jT(xd),DI=Rr(.42,0,1,1),NI=Rr(0,0,.58,1),rS=Rr(.42,0,.58,1),bI=t=>Array.isArray(t)&&typeof t[0]!="number",lS=t=>Array.isArray(t)&&typeof t[0]=="number",II={linear:Ht,easeIn:DI,easeInOut:rS,easeOut:NI,circIn:xd,circInOut:sS,circOut:oS,backIn:Ed,backInOut:nS,backOut:tS,anticipate:iS},UI=t=>typeof t=="string",Jp=t=>{if(lS(t)){Sd(t.length===4);const[e,n,i,o]=t;return Rr(e,n,i,o)}else if(UI(t))return II[t];return t},Qr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PI(t,e){let n=new Set,i=new Set,o=!1,s=!1;const r=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(d){r.has(d)&&(f.schedule(d),t()),d(u)}const f={schedule:(d,h=!1,m=!1)=>{const g=m&&o?n:i;return h&&r.add(d),g.has(d)||g.add(d),d},cancel:d=>{i.delete(d),r.delete(d)},process:d=>{if(u=d,o){s=!0;return}o=!0,[n,i]=[i,n],n.forEach(c),n.clear(),o=!1,s&&(s=!1,f.process(d))}};return f}const VI=40;function aS(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,r=Qr.reduce((S,A)=>(S[A]=PI(s),S),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:d,update:h,preRender:m,render:p,postRender:g}=r,T=()=>{const S=wn.useManualTiming?o.timestamp:performance.now();n=!1,wn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(S-o.timestamp,VI),1)),o.timestamp=S,o.isProcessing=!0,u.process(o),c.process(o),f.process(o),d.process(o),h.process(o),m.process(o),p.process(o),g.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(T))},R=()=>{n=!0,i=!0,o.isProcessing||t(T)};return{schedule:Qr.reduce((S,A)=>{const w=r[A];return S[A]=(_,N=!1,C=!1)=>(n||R(),w.schedule(_,N,C)),S},{}),cancel:S=>{for(let A=0;A<Qr.length;A++)r[Qr[A]].cancel(S)},state:o,steps:r}}const{schedule:Ee,cancel:ri,state:Xe,steps:Su}=aS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0);let gl;function LI(){gl=void 0}const pt={now:()=>(gl===void 0&&pt.set(Xe.isProcessing||wn.useManualTiming?Xe.timestamp:performance.now()),gl),set:t=>{gl=t,queueMicrotask(LI)}},uS=t=>e=>typeof e=="string"&&e.startsWith(t),Md=uS("--"),kI=uS("var(--"),_d=t=>kI(t)?BI.test(t.split("/*")[0].trim()):!1,BI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ts={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},or={...ts,transform:t=>Rn(0,1,t)},Zr={...ts,default:1},Bs=t=>Math.round(t*1e5)/1e5,Rd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GI(t){return t==null}const HI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wd=(t,e)=>n=>!!(typeof n=="string"&&HI.test(n)&&n.startsWith(t)||e&&!GI(n)&&Object.prototype.hasOwnProperty.call(n,e)),cS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,s,r,u]=i.match(Rd);return{[t]:parseFloat(o),[e]:parseFloat(s),[n]:parseFloat(r),alpha:u!==void 0?parseFloat(u):1}},FI=t=>Rn(0,255,t),Cu={...ts,transform:t=>Math.round(FI(t))},Ei={test:wd("rgb","red"),parse:cS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Cu.transform(t)+", "+Cu.transform(e)+", "+Cu.transform(n)+", "+Bs(or.transform(i))+")"};function qI(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const zc={test:wd("#"),parse:qI,transform:Ei.transform},wr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kn=wr("deg"),ln=wr("%"),X=wr("px"),zI=wr("vh"),OI=wr("vw"),Xp={...ln,parse:t=>ln.parse(t)/100,transform:t=>ln.transform(t*100)},mo={test:wd("hsl","hue"),parse:cS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ln.transform(Bs(e))+", "+ln.transform(Bs(n))+", "+Bs(or.transform(i))+")"},Le={test:t=>Ei.test(t)||zc.test(t)||mo.test(t),parse:t=>Ei.test(t)?Ei.parse(t):mo.test(t)?mo.parse(t):zc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ei.transform(t):mo.transform(t),getAnimatableNone:t=>{const e=Le.parse(t);return e.alpha=0,Le.transform(e)}},YI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Rd))==null?void 0:e.length)||0)+(((n=t.match(YI))==null?void 0:n.length)||0)>0}const fS="number",dS="color",JI="var",XI="var(",$p="${}",$I=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sr(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let s=0;const u=e.replace($I,c=>(Le.test(c)?(i.color.push(s),o.push(dS),n.push(Le.parse(c))):c.startsWith(XI)?(i.var.push(s),o.push(JI),n.push(c)):(i.number.push(s),o.push(fS),n.push(parseFloat(c))),++s,$p)).split($p);return{values:n,split:u,indexes:i,types:o}}function hS(t){return sr(t).values}function mS(t){const{split:e,types:n}=sr(t),i=e.length;return o=>{let s="";for(let r=0;r<i;r++)if(s+=e[r],o[r]!==void 0){const u=n[r];u===fS?s+=Bs(o[r]):u===dS?s+=Le.transform(o[r]):s+=o[r]}return s}}const QI=t=>typeof t=="number"?0:Le.test(t)?Le.getAnimatableNone(t):t;function ZI(t){const e=hS(t);return mS(t)(e.map(QI))}const li={test:KI,parse:hS,createTransformer:mS,getAnimatableNone:ZI};function Au(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WI({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,s=0,r=0;if(!e)o=s=r=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;o=Au(c,u,t+1/3),s=Au(c,u,t),r=Au(c,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(r*255),alpha:i}}function oa(t,e){return n=>n>0?e:t}const Me=(t,e,n)=>t+(e-t)*n,Eu=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},jI=[zc,Ei,mo],eU=t=>jI.find(e=>e.test(t));function Qp(t){const e=eU(t);if(!e)return!1;let n=e.parse(t);return e===mo&&(n=WI(n)),n}const Zp=(t,e)=>{const n=Qp(t),i=Qp(e);if(!n||!i)return oa(t,e);const o={...n};return s=>(o.red=Eu(n.red,i.red,s),o.green=Eu(n.green,i.green,s),o.blue=Eu(n.blue,i.blue,s),o.alpha=Me(n.alpha,i.alpha,s),Ei.transform(o))},Oc=new Set(["none","hidden"]);function tU(t,e){return Oc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nU(t,e){return n=>Me(t,e,n)}function Dd(t){return typeof t=="number"?nU:typeof t=="string"?_d(t)?oa:Le.test(t)?Zp:sU:Array.isArray(t)?pS:typeof t=="object"?Le.test(t)?Zp:iU:oa}function pS(t,e){const n=[...t],i=n.length,o=t.map((s,r)=>Dd(s)(s,e[r]));return s=>{for(let r=0;r<i;r++)n[r]=o[r](s);return n}}function iU(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=Dd(t[o])(t[o],e[o]));return o=>{for(const s in i)n[s]=i[s](o);return n}}function oU(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],r=t.indexes[s][i[s]],u=t.values[r]??0;n[o]=u,i[s]++}return n}const sU=(t,e)=>{const n=li.createTransformer(e),i=sr(t),o=sr(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Oc.has(t)&&!o.values.length||Oc.has(e)&&!i.values.length?tU(t,e):_r(pS(oU(i,o),o.values),n):oa(t,e)};function gS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Me(t,e,n):Dd(t)(t,e)}const rU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ee.update(e,n),stop:()=>ri(e),now:()=>Xe.isProcessing?Xe.timestamp:pt.now()}},yS=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let s=0;s<o;s++)i+=Math.round(t(s/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},sa=2e4;function Nd(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<sa;)e+=n,i=t.next(e);return e>=sa?1/0:e}function lU(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(Nd(i),sa);return{type:"keyframes",ease:s=>i.next(o*s).value/e,duration:rn(o)}}const aU=5;function vS(t,e,n){const i=Math.max(e-aU,0);return ZT(n-t(i),e-i)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xu=.001;function uU({duration:t=Re.duration,bounce:e=Re.bounce,velocity:n=Re.velocity,mass:i=Re.mass}){let o,s,r=1-e;r=Rn(Re.minDamping,Re.maxDamping,r),t=Rn(Re.minDuration,Re.maxDuration,rn(t)),r<1?(o=f=>{const d=f*r,h=d*t,m=d-n,p=Yc(f,r),g=Math.exp(-h);return xu-m/p*g},s=f=>{const h=f*r*t,m=h*n+n,p=Math.pow(r,2)*Math.pow(f,2)*t,g=Math.exp(-h),T=Yc(Math.pow(f,2),r);return(-o(f)+xu>0?-1:1)*((m-p)*g)/T}):(o=f=>{const d=Math.exp(-f*t),h=(f-n)*t+1;return-xu+d*h},s=f=>{const d=Math.exp(-f*t),h=(n-f)*(t*t);return d*h});const u=5/t,c=fU(o,s,u);if(t=sn(t),isNaN(c))return{stiffness:Re.stiffness,damping:Re.damping,duration:t};{const f=Math.pow(c,2)*i;return{stiffness:f,damping:r*2*Math.sqrt(i*f),duration:t}}}const cU=12;function fU(t,e,n){let i=n;for(let o=1;o<cU;o++)i=i-t(i)/e(i);return i}function Yc(t,e){return t*Math.sqrt(1-e*e)}const dU=["duration","bounce"],hU=["stiffness","damping","mass"];function Wp(t,e){return e.some(n=>t[n]!==void 0)}function mU(t){let e={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...t};if(!Wp(t,hU)&&Wp(t,dU))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,s=2*Rn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Re.mass,stiffness:o,damping:s}}else{const n=uU(t);e={...e,...n,mass:Re.mass},e.isResolvedFromDuration=!0}return e}function ra(t=Re.visualDuration,e=Re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const s=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:f,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=mU({...n,velocity:-rn(n.velocity||0)}),g=m||0,T=f/(2*Math.sqrt(c*d)),R=r-s,y=rn(Math.sqrt(c/d)),v=Math.abs(R)<5;i||(i=v?Re.restSpeed.granular:Re.restSpeed.default),o||(o=v?Re.restDelta.granular:Re.restDelta.default);let S;if(T<1){const w=Yc(y,T);S=_=>{const N=Math.exp(-T*y*_);return r-N*((g+T*y*R)/w*Math.sin(w*_)+R*Math.cos(w*_))}}else if(T===1)S=w=>r-Math.exp(-y*w)*(R+(g+y*R)*w);else{const w=y*Math.sqrt(T*T-1);S=_=>{const N=Math.exp(-T*y*_),C=Math.min(w*_,300);return r-N*((g+T*y*R)*Math.sinh(C)+w*R*Math.cosh(C))/w}}const A={calculatedDuration:p&&h||null,next:w=>{const _=S(w);if(p)u.done=w>=h;else{let N=w===0?g:0;T<1&&(N=w===0?sn(g):vS(S,w,_));const C=Math.abs(N)<=i,E=Math.abs(r-_)<=o;u.done=C&&E}return u.value=u.done?r:_,u},toString:()=>{const w=Math.min(Nd(A),sa),_=yS(N=>A.next(w*N).value,w,30);return w+"ms "+_},toTransition:()=>{}};return A}ra.applyToOptions=t=>{const e=lU(t,100,ra);return t.ease=e.ease,t.duration=sn(e.duration),t.type="keyframes",t};function Kc({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:r,min:u,max:c,restDelta:f=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=C=>u!==void 0&&C<u||c!==void 0&&C>c,g=C=>u===void 0?c:c===void 0||Math.abs(u-C)<Math.abs(c-C)?u:c;let T=n*e;const R=h+T,y=r===void 0?R:r(R);y!==R&&(T=y-h);const v=C=>-T*Math.exp(-C/i),S=C=>y+v(C),A=C=>{const E=v(C),D=S(C);m.done=Math.abs(E)<=f,m.value=m.done?y:D};let w,_;const N=C=>{p(m.value)&&(w=C,_=ra({keyframes:[m.value,g(m.value)],velocity:vS(S,C,m.value),damping:o,stiffness:s,restDelta:f,restSpeed:d}))};return N(0),{calculatedDuration:null,next:C=>{let E=!1;return!_&&w===void 0&&(E=!0,A(C),N(C)),w!==void 0&&C>=w?_.next(C-w):(!E&&A(C),m)}}}function pU(t,e,n){const i=[],o=n||wn.mix||gS,s=t.length-1;for(let r=0;r<s;r++){let u=o(t[r],t[r+1]);if(e){const c=Array.isArray(e)?e[r]||Ht:e;u=_r(c,u)}i.push(u)}return i}function gU(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const s=t.length;if(Sd(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=pU(e,i,o),c=u.length,f=d=>{if(r&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=ir(t[h],t[h+1],d);return u[h](m)};return n?d=>f(Rn(t[0],t[s-1],d)):f}function yU(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=ir(0,e,i);t.push(Me(n,1,o))}}function vU(t){const e=[0];return yU(e,t.length-1),e}function TU(t,e){return t.map(n=>n*e)}function SU(t,e){return t.map(()=>e||rS).splice(0,t.length-1)}function Gs({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=bI(i)?i.map(Jp):Jp(i),s={done:!1,value:e[0]},r=TU(n&&n.length===e.length?n:vU(e),t),u=gU(r,e,{ease:Array.isArray(o)?o:SU(e,o)});return{calculatedDuration:t,next:c=>(s.value=u(c),s.done=c>=t,s)}}const CU=t=>t!==null;function bd(t,{repeat:e,repeatType:n="loop"},i,o=1){const s=t.filter(CU),u=o<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!u||i===void 0?s[u]:i}const AU={decay:Kc,inertia:Kc,tween:Gs,keyframes:Gs,spring:ra};function TS(t){typeof t.type=="string"&&(t.type=AU[t.type])}class Id{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const EU=t=>t/100;class Ud extends Id{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==pt.now()&&this.tick(pt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TS(e);const{type:n=Gs,repeat:i=0,repeatDelay:o=0,repeatType:s,velocity:r=0}=e;let{keyframes:u}=e;const c=n||Gs;c!==Gs&&typeof u[0]!="number"&&(this.mixKeyframes=_r(EU,gS(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-r})),f.calculatedDuration===null&&(f.calculatedDuration=Nd(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:s,mirroredGenerator:r,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:p,type:g,onUpdate:T,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-f*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>o;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let S=this.currentTime,A=i;if(h){const C=Math.min(this.currentTime,o)/u;let E=Math.floor(C),D=C%1;!D&&C>=1&&(D=1),D===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(m==="reverse"?(D=1-D,p&&(D-=p/u)):m==="mirror"&&(A=r)),S=Rn(0,1,D)*u}const w=v?{done:!1,value:d[0]}:A.next(S);s&&(w.value=s(w.value));let{done:_}=w;!v&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return N&&g!==Kc&&(w.value=bd(d,this.options,R,this.speed)),T&&T(w.value),N&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return rn(this.calculatedDuration)}get time(){return rn(this.currentTime)}set time(e){var n;e=sn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rn(this.currentTime))}play(){var o,s;if(this.isStopped)return;const{driver:e=rU,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),(s=(o=this.options).onPlay)==null||s.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function xU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xi=t=>t*180/Math.PI,Jc=t=>{const e=xi(Math.atan2(t[1],t[0]));return Xc(e)},MU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Jc,rotateZ:Jc,skewX:t=>xi(Math.atan(t[1])),skewY:t=>xi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xc=t=>(t=t%360,t<0&&(t+=360),t),jp=Jc,eg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_U={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eg,scaleY:tg,scale:t=>(eg(t)+tg(t))/2,rotateX:t=>Xc(xi(Math.atan2(t[6],t[5]))),rotateY:t=>Xc(xi(Math.atan2(-t[2],t[0]))),rotateZ:jp,rotate:jp,skewX:t=>xi(Math.atan(t[4])),skewY:t=>xi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $c(t){return t.includes("scale")?1:0}function Qc(t,e){if(!t||t==="none")return $c(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=_U,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=MU,o=u}if(!o)return $c(e);const s=i[e],r=o[1].split(",").map(wU);return typeof s=="function"?s(r):r[s]}const RU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qc(n,e)};function wU(t){return parseFloat(t.trim())}const ns=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],is=new Set(ns),ng=t=>t===ts||t===X,DU=new Set(["x","y","z"]),NU=ns.filter(t=>!DU.has(t));function bU(t){const e=[];return NU.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ii={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qc(e,"x"),y:(t,{transform:e})=>Qc(e,"y")};Ii.translateX=Ii.x;Ii.translateY=Ii.y;const Ui=new Set;let Zc=!1,Wc=!1,jc=!1;function SS(){if(Wc){const t=Array.from(Ui).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=bU(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([s,r])=>{var u;(u=i.getValue(s))==null||u.set(r)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Wc=!1,Zc=!1,Ui.forEach(t=>t.complete(jc)),Ui.clear()}function CS(){Ui.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wc=!0)})}function IU(){jc=!0,CS(),SS(),jc=!1}class Pd{constructor(e,n,i,o,s,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=s,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Ui.add(this),Zc||(Zc=!0,Ee.read(CS),Ee.resolveKeyframes(SS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const s=o==null?void 0:o.get(),r=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const u=i.readValue(n,r);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=r),o&&s===void 0&&o.set(e[0])}xU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ui.delete(this)}cancel(){this.state==="scheduled"&&(Ui.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UU=t=>t.startsWith("--");function PU(t,e,n){UU(e)?t.style.setProperty(e,n):t.style[e]=n}const VU=Cd(()=>window.ScrollTimeline!==void 0),LU={};function kU(t,e){const n=Cd(t);return()=>LU[e]??n()}const AS=kU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cs=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ig={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cs([0,.65,.55,1]),circOut:Cs([.55,0,1,.45]),backIn:Cs([.31,.01,.66,-.59]),backOut:Cs([.33,1.53,.69,.99])};function ES(t,e){if(t)return typeof t=="function"?AS()?yS(t,e):"ease-out":lS(t)?Cs(t):Array.isArray(t)?t.map(n=>ES(n,e)||ig.easeOut):ig[t]}function BU(t,e,n,{delay:i=0,duration:o=300,repeat:s=0,repeatType:r="loop",ease:u="easeOut",times:c}={},f=void 0){const d={[e]:n};c&&(d.offset=c);const h=ES(u,o);Array.isArray(h)&&(d.easing=h);const m={delay:i,duration:o,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:r==="reverse"?"alternate":"normal"};return f&&(m.pseudoElement=f),t.animate(d,m)}function xS(t){return typeof t=="function"&&"applyToOptions"in t}function GU({type:t,...e}){return xS(t)&&AS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HU extends Id{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:s,allowFlatten:r=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=r,this.options=e,Sd(typeof e.type!="string");const f=GU(e);this.animation=BU(n,i,o,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=bd(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(d):PU(n,i,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return rn(Number(e))}get time(){return rn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=sn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&VU()?(this.animation.timeline=e,Ht):n(this)}}const MS={anticipate:iS,backInOut:nS,circInOut:sS};function FU(t){return t in MS}function qU(t){typeof t.ease=="string"&&FU(t.ease)&&(t.ease=MS[t.ease])}const og=10;class zU extends HU{constructor(e){qU(e),TS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:s,...r}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Ud({...r,autoplay:!1}),c=sn(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-og).value,u.sample(c).value,og),u.stop()}}const sg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(li.test(t)||t==="0")&&!t.startsWith("url("));function OU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function YU(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],r=sg(o,e),u=sg(s,e);return!r||!u?!1:OU(t)||(n==="spring"||xS(n))&&i}function ef(t){t.duration=0,t.type}const KU=new Set(["opacity","clipPath","filter","transform"]),JU=Cd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XU(t){var d;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:s,type:r}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return JU()&&n&&KU.has(n)&&(n!=="transform"||!f)&&!c&&!i&&o!=="mirror"&&s!==0&&r!=="inertia"}const $U=40;class QU extends Id{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:r="loop",keyframes:u,name:c,motionValue:f,element:d,...h}){var g;super(),this.stop=()=>{var T,R;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=pt.now();const m={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:s,repeatType:r,name:c,motionValue:f,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||Pd;this.keyframeResolver=new p(u,(T,R,y)=>this.onKeyframesResolved(T,R,m,!y),c,f,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:s,type:r,velocity:u,delay:c,isHandoff:f,onUpdate:d}=i;this.resolvedAt=pt.now(),YU(e,s,r,u)||((wn.instantAnimations||!c)&&(d==null||d(bd(e,i,n))),e[0]=e[e.length-1],ef(i),i.repeat=0);const m={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>$U?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},p=!f&&XU(m)?new zU({...m,element:m.motionValue.owner.current}):new Ud(m);p.finished.then(()=>this.notifyFinished()).catch(Ht),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),IU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ZU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WU(t){const e=ZU.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function _S(t,e,n=1){const[i,o]=WU(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const r=s.trim();return XT(r)?parseFloat(r):r}return _d(o)?_S(o,e,n+1):o}function Vd(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const RS=new Set(["width","height","top","left","right","bottom",...ns]),jU={test:t=>t==="auto",parse:t=>t},wS=t=>e=>e.test(t),DS=[ts,X,ln,kn,OI,zI,jU],rg=t=>DS.find(wS(t));function eP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QT(t):!0}const tP=new Set(["brightness","contrast","saturate","opacity"]);function nP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Rd)||[];if(!i)return t;const o=n.replace(i,"");let s=tP.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+o+")"}const iP=/\b([a-z-]*)\(.*?\)/gu,tf={...li,getAnimatableNone:t=>{const e=t.match(iP);return e?e.map(nP).join(" "):t}},lg={...ts,transform:Math.round},oP={rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:Zr,scaleX:Zr,scaleY:Zr,scaleZ:Zr,skew:kn,skewX:kn,skewY:kn,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:or,originX:Xp,originY:Xp,originZ:X},Ld={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X,...oP,zIndex:lg,fillOpacity:or,strokeOpacity:or,numOctaves:lg},sP={...Ld,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:tf,WebkitFilter:tf},NS=t=>sP[t];function bS(t,e){let n=NS(t);return n!==tf&&(n=li),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rP=new Set(["auto","none","0"]);function lP(t,e,n){let i=0,o;for(;i<t.length&&!o;){const s=t[i];typeof s=="string"&&!rP.has(s)&&sr(s).values.length&&(o=t[i]),i++}if(o&&n)for(const s of e)t[s]=bS(n,o)}class aP extends Pd{constructor(e,n,i,o,s){super(e,n,i,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),_d(f))){const d=_S(f,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!RS.has(i)||e.length!==2)return;const[o,s]=e,r=rg(o),u=rg(s);if(r!==u)if(ng(r)&&ng(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Ii[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||eP(e[o]))&&i.push(o);i.length&&lP(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ii[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,r=i[s];i[s]=Ii[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function uP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const IS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function cP(t){return $T(t)&&"offsetHeight"in t}const ag=30,fP=t=>!isNaN(parseFloat(t));class dP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const o=pt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ad);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ag)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ag);return ZT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qo(t,e){return new dP(t,e)}const{schedule:kd}=aS(queueMicrotask,!1),Yt={x:!1,y:!1};function US(){return Yt.x||Yt.y}function hP(t){return t==="x"||t==="y"?Yt[t]?null:(Yt[t]=!0,()=>{Yt[t]=!1}):Yt.x||Yt.y?null:(Yt.x=Yt.y=!0,()=>{Yt.x=Yt.y=!1})}function PS(t,e){const n=uP(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function ug(t){return!(t.pointerType==="touch"||US())}function mP(t,e,n={}){const[i,o,s]=PS(t,n),r=u=>{if(!ug(u))return;const{target:c}=u,f=e(c,u);if(typeof f!="function"||!c)return;const d=h=>{ug(h)&&(f(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,o)};return i.forEach(u=>{u.addEventListener("pointerenter",r,o)}),s}const VS=(t,e)=>e?t===e?!0:VS(t,e.parentElement):!1,Bd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gP(t){return pP.has(t.tagName)||t.tabIndex!==-1}const yl=new WeakSet;function cg(t){return e=>{e.key==="Enter"&&t(e)}}function Mu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yP=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=cg(()=>{if(yl.has(n))return;Mu(n,"down");const o=cg(()=>{Mu(n,"up")}),s=()=>Mu(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function fg(t){return Bd(t)&&!US()}function vP(t,e,n={}){const[i,o,s]=PS(t,n),r=u=>{const c=u.currentTarget;if(!fg(u))return;yl.add(c);const f=e(c,u),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),yl.has(c)&&yl.delete(c),fg(p)&&typeof f=="function"&&f(p,{success:g})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||VS(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",m,o)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",r,o),cP(u)&&(u.addEventListener("focus",f=>yP(f,o)),!gP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function LS(t){return $T(t)&&"ownerSVGElement"in t}function TP(t){return LS(t)&&t.tagName==="svg"}const ot=t=>!!(t&&t.getVelocity),SP=[...DS,Le,li],CP=t=>SP.find(wS(t)),kS=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AP(t=!0){const e=O.useContext(yd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,s=O.useId();O.useEffect(()=>{if(t)return o(s)},[t]);const r=O.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,r]:[!0]}const BS=O.createContext({strict:!1}),dg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zo={};for(const t in dg)zo[t]={isEnabled:e=>dg[t].some(n=>!!e[n])};function EP(t){for(const e in t)zo[e]={...zo[e],...t[e]}}const xP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function la(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xP.has(t)}let GS=t=>!la(t);function MP(t){typeof t=="function"&&(GS=e=>e.startsWith("on")?!la(e):t(e))}try{MP(require("@emotion/is-prop-valid").default)}catch{}function _P(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(GS(o)||n===!0&&la(o)||!e&&!la(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const ba=O.createContext({});function Ia(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rr(t){return typeof t=="string"||Array.isArray(t)}const Gd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hd=["initial",...Gd];function Ua(t){return Ia(t.animate)||Hd.some(e=>rr(t[e]))}function HS(t){return!!(Ua(t)||t.variants)}function RP(t,e){if(Ua(t)){const{initial:n,animate:i}=t;return{initial:n===!1||rr(n)?n:void 0,animate:rr(i)?i:void 0}}return t.inherit!==!1?e:{}}function wP(t){const{initial:e,animate:n}=RP(t,O.useContext(ba));return O.useMemo(()=>({initial:e,animate:n}),[hg(e),hg(n)])}function hg(t){return Array.isArray(t)?t.join(" "):t}const lr={};function DP(t){for(const e in t)lr[e]=t[e],Md(e)&&(lr[e].isCSSVariable=!0)}function FS(t,{layout:e,layoutId:n}){return is.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lr[t]||t==="opacity")}const NP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bP=ns.length;function IP(t,e,n){let i="",o=!0;for(let s=0;s<bP;s++){const r=ns[s],u=t[r];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(r.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const f=IS(u,Ld[r]);if(!c){o=!1;const d=NP[r]||r;i+=`${d}(${f}) `}n&&(e[r]=f)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Fd(t,e,n){const{style:i,vars:o,transformOrigin:s}=t;let r=!1,u=!1;for(const c in e){const f=e[c];if(is.has(c)){r=!0;continue}else if(Md(c)){o[c]=f;continue}else{const d=IS(f,Ld[c]);c.startsWith("origin")?(u=!0,s[c]=d):i[c]=d}}if(e.transform||(r||n?i.transform=IP(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:d=0}=s;i.transformOrigin=`${c} ${f} ${d}`}}const qd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qS(t,e,n){for(const i in e)!ot(e[i])&&!FS(i,n)&&(t[i]=e[i])}function UP({transformTemplate:t},e){return O.useMemo(()=>{const n=qd();return Fd(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PP(t,e){const n=t.style||{},i={};return qS(i,n,t),Object.assign(i,UP(t,e)),i}function VP(t,e){const n={},i=PP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const LP={offset:"stroke-dashoffset",array:"stroke-dasharray"},kP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(t,e,n=1,i=0,o=!0){t.pathLength=1;const s=o?LP:kP;t[s.offset]=X.transform(-i);const r=X.transform(e),u=X.transform(n);t[s.array]=`${r} ${u}`}function zS(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:s=1,pathOffset:r=0,...u},c,f,d){if(Fd(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),o!==void 0&&BP(h,o,s,r,!1)}const OS=()=>({...qd(),attrs:{}}),YS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GP(t,e,n,i){const o=O.useMemo(()=>{const s=OS();return zS(s,e,YS(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};qS(s,t.style,t),o.style={...s,...o.style}}return o}const HP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zd(t){return typeof t!="string"||t.includes("-")?!1:!!(HP.indexOf(t)>-1||/[A-Z]/u.test(t))}function FP(t,e,n,{latestValues:i},o,s=!1){const u=(zd(t)?GP:VP)(e,i,o,t),c=_P(e,typeof t=="string",s),f=t!==O.Fragment?{...c,...u,ref:n}:{},{children:d}=e,h=O.useMemo(()=>ot(d)?d.get():d,[d]);return O.createElement(t,{...f,children:h})}function mg(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Od(t,e,n,i){if(typeof e=="function"){const[o,s]=mg(i);e=e(n!==void 0?n:t.custom,o,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,s]=mg(i);e=e(n!==void 0?n:t.custom,o,s)}return e}function vl(t){return ot(t)?t.get():t}function qP({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:zP(n,i,o,t),renderState:e()}}function zP(t,e,n,i){const o={},s=i(t,{});for(const m in s)o[m]=vl(s[m]);let{initial:r,animate:u}=t;const c=Ua(t),f=HS(t);e&&f&&!c&&t.inherit!==!1&&(r===void 0&&(r=e.initial),u===void 0&&(u=e.animate));let d=n?n.initial===!1:!1;d=d||r===!1;const h=d?u:r;if(h&&typeof h!="boolean"&&!Ia(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=Od(t,m[p]);if(g){const{transitionEnd:T,transition:R,...y}=g;for(const v in y){let S=y[v];if(Array.isArray(S)){const A=d?S.length-1:0;S=S[A]}S!==null&&(o[v]=S)}for(const v in T)o[v]=T[v]}}}return o}const KS=t=>(e,n)=>{const i=O.useContext(ba),o=O.useContext(yd),s=()=>qP(t,e,i,o);return n?s():EI(s)};function Yd(t,e,n){var s;const{style:i}=t,o={};for(const r in i)(ot(i[r])||e.style&&ot(e.style[r])||FS(r,t)||((s=n==null?void 0:n.getValue(r))==null?void 0:s.liveStyle)!==void 0)&&(o[r]=i[r]);return o}const OP=KS({scrapeMotionValuesFromProps:Yd,createRenderState:qd});function JS(t,e,n){const i=Yd(t,e,n);for(const o in t)if(ot(t[o])||ot(e[o])){const s=ns.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[s]=t[o]}return i}const YP=KS({scrapeMotionValuesFromProps:JS,createRenderState:OS}),KP=Symbol.for("motionComponentSymbol");function po(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JP(t,e,n){return O.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):po(n)&&(n.current=i))},[e])}const Kd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XP="framerAppearId",XS="data-"+Kd(XP),$S=O.createContext({});function $P(t,e,n,i,o){var T,R;const{visualElement:s}=O.useContext(ba),r=O.useContext(BS),u=O.useContext(yd),c=O.useContext(kS).reducedMotion,f=O.useRef(null);i=i||r.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,h=O.useContext($S);d&&!d.projection&&o&&(d.type==="html"||d.type==="svg")&&QP(f.current,n,o,h);const m=O.useRef(!1);O.useInsertionEffect(()=>{d&&m.current&&d.update(n,u)});const p=n[XS],g=O.useRef(!!p&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,p))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,p)));return xI(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),O.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1),d.enteringChildren=void 0)}),d}function QP(t,e,n,i){const{layoutId:o,layout:s,drag:r,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QS(t.parent)),t.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!r||u&&po(u),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:c,layoutRoot:f})}function QS(t){if(t)return t.options.allowProjection!==!1?t.projection:QS(t.parent)}function _u(t,{forwardMotionProps:e=!1}={},n,i){n&&EP(n);const o=zd(t)?YP:OP;function s(u,c){let f;const d={...O.useContext(kS),...u,layoutId:ZP(u)},{isStatic:h}=d,m=wP(u),p=o(u,h);if(!h&&gd){WP();const g=jP(d);f=g.MeasureLayout,m.visualElement=$P(t,p,d,i,g.ProjectionNode)}return U.jsxs(ba.Provider,{value:m,children:[f&&m.visualElement?U.jsx(f,{visualElement:m.visualElement,...d}):null,FP(t,u,JP(p,m.visualElement,c),p,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const r=O.forwardRef(s);return r[KP]=t,r}function ZP({layoutId:t}){const e=O.useContext(JT).id;return e&&t!==void 0?e+"-"+t:t}function WP(t,e){O.useContext(BS).strict}function jP(t){const{drag:e,layout:n}=zo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function eV(t,e){if(typeof Proxy>"u")return _u;const n=new Map,i=(s,r)=>_u(s,r,t,e),o=(s,r)=>i(s,r);return new Proxy(o,{get:(s,r)=>r==="create"?i:(n.has(r)||n.set(r,_u(r,void 0,t,e)),n.get(r))})}function ZS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function tV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ru(t){return t===void 0||t===1}function nf({scale:t,scaleX:e,scaleY:n}){return!Ru(t)||!Ru(e)||!Ru(n)}function Ci(t){return nf(t)||WS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WS(t){return pg(t.x)||pg(t.y)}function pg(t){return t&&t!=="0%"}function aa(t,e,n){const i=t-n,o=e*i;return n+o}function gg(t,e,n,i,o){return o!==void 0&&(t=aa(t,o,i)),aa(t,n,i)+e}function of(t,e=0,n=1,i,o){t.min=gg(t.min,e,n,i,o),t.max=gg(t.max,e,n,i,o)}function jS(t,{x:e,y:n}){of(t.x,e.translate,e.scale,e.originPoint),of(t.y,n.translate,n.scale,n.originPoint)}const yg=.999999999999,vg=1.0000000000001;function iV(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let s,r;for(let u=0;u<o;u++){s=n[u],r=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,jS(t,r)),i&&Ci(s.latestValues)&&yo(t,s.latestValues))}e.x<vg&&e.x>yg&&(e.x=1),e.y<vg&&e.y>yg&&(e.y=1)}function go(t,e){t.min=t.min+e,t.max=t.max+e}function Tg(t,e,n,i,o=.5){const s=Me(t.min,t.max,o);of(t,e,n,s,i)}function yo(t,e){Tg(t.x,e.x,e.scaleX,e.scale,e.originX),Tg(t.y,e.y,e.scaleY,e.scale,e.originY)}function eC(t,e){return ZS(nV(t.getBoundingClientRect(),e))}function oV(t,e,n){const i=eC(t,n),{scroll:o}=e;return o&&(go(i.x,o.offset.x),go(i.y,o.offset.y)),i}const Sg=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:Sg(),y:Sg()}),Cg=()=>({min:0,max:0}),Ie=()=>({x:Cg(),y:Cg()}),sf={current:null},tC={current:!1};function sV(){if(tC.current=!0,!!gd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sf.current=t.matches;t.addEventListener("change",e),e()}else sf.current=!1}const rV=new WeakMap;function lV(t,e,n){for(const i in e){const o=e[i],s=n[i];if(ot(o))t.addValue(i,o);else if(ot(s))t.addValue(i,qo(o,{owner:t}));else if(s!==o)if(t.hasValue(i)){const r=t.getValue(i);r.liveStyle===!0?r.jump(o):r.hasAnimated||r.set(o)}else{const r=t.getStaticValue(i);t.addValue(i,qo(r!==void 0?r:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ag=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aV{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:s,visualState:r},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=pt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ee.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=r;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=Ua(n),this.isVariantNode=HS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&ot(p)&&p.set(c[m])}}mount(e){var n;this.current=e,rV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),tC.current||sV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ri(this.notifyUpdate),ri(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=is.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zo){const n=zo[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ag.length;i++){const o=Ag[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,r=e[s];r&&(this.propEventSubscriptions[o]=this.on(o,r))}this.prevMotionValues=lV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=qo(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(XT(i)||QT(i))?i=parseFloat(i):!CP(i)&&li.test(n)&&(i=bS(e,n)),this.setBaseTarget(e,ot(i)?i.get():i)),ot(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=Od(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ot(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ad),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){kd.render(this.render)}}class nC extends aV{constructor(){super(...arguments),this.KeyframeResolver=aP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ot(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iC(t,{style:e,vars:n},i,o){const s=t.style;let r;for(r in e)s[r]=e[r];o==null||o.applyProjectionStyles(s,i);for(r in n)s.setProperty(r,n[r])}function uV(t){return window.getComputedStyle(t)}class cV extends nC{constructor(){super(...arguments),this.type="html",this.renderInstance=iC}readValueFromInstance(e,n){var i;if(is.has(n))return(i=this.projection)!=null&&i.isProjecting?$c(n):RU(e,n);{const o=uV(e),s=(Md(n)?o.getPropertyValue(n):o[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eC(e,n)}build(e,n,i){Fd(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Yd(e,n,i)}}const oC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fV(t,e,n,i){iC(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(oC.has(o)?o:Kd(o),e.attrs[o])}class dV extends nC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ie}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(is.has(n)){const i=NS(n);return i&&i.default||0}return n=oC.has(n)?n:Kd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return JS(e,n,i)}build(e,n,i){zS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){fV(e,n,i,o)}mount(e){this.isSVGTag=YS(e.tagName),super.mount(e)}}const hV=(t,e)=>zd(t)?new dV(e):new cV(e,{allowProjection:t!==O.Fragment});function No(t,e,n){const i=t.getProps();return Od(i,e,n!==void 0?n:i.custom,t)}const rf=t=>Array.isArray(t);function mV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qo(n))}function pV(t){return rf(t)?t[t.length-1]||0:t}function gV(t,e){const n=No(t,e);let{transitionEnd:i={},transition:o={},...s}=n||{};s={...s,...i};for(const r in s){const u=pV(s[r]);mV(t,r,u)}}function yV(t){return!!(ot(t)&&t.add)}function lf(t,e){const n=t.getValue("willChange");if(yV(n))return n.add(e);if(!n&&wn.WillChange){const i=new wn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function sC(t){return t.props[XS]}const vV=t=>t!==null;function TV(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(vV),s=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[s]}const SV={type:"spring",stiffness:500,damping:25,restSpeed:10},CV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AV={type:"keyframes",duration:.8},EV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xV=(t,{keyframes:e})=>e.length>2?AV:is.has(t)?t.startsWith("scale")?CV(e[1]):SV:EV;function MV({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:r,repeatDelay:u,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const Jd=(t,e,n,i={},o,s)=>r=>{const u=Vd(i,t)||{},c=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-sn(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:m=>{e.set(m),u.onUpdate&&u.onUpdate(m)},onComplete:()=>{r(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:s?void 0:o};MV(u)||Object.assign(d,xV(t,d)),d.duration&&(d.duration=sn(d.duration)),d.repeatDelay&&(d.repeatDelay=sn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ef(d),d.delay===0&&(h=!0)),(wn.instantAnimations||wn.skipAnimations)&&(h=!0,ef(d),d.delay=0),d.allowFlatten=!u.type&&!u.ease,h&&!s&&e.get()!==void 0){const m=TV(d.keyframes,u);if(m!==void 0){Ee.update(()=>{d.onUpdate(m),d.onComplete()});return}}return u.isSync?new Ud(d):new QU(d)};function _V({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function rC(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:r,...u}=e;i&&(s=i);const c=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const d in u){const h=t.getValue(d,t.latestValues[d]??null),m=u[d];if(m===void 0||f&&_V(f,d))continue;const p={delay:n,...Vd(s||{},d)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===g&&!p.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const y=sC(t);if(y){const v=window.MotionHandoffAnimation(y,d,Ee);v!==null&&(p.startTime=v,T=!0)}}lf(t,d),h.start(Jd(d,h,m,t.shouldReduceMotion&&RS.has(d)?{type:!1}:p,t,T));const R=h.animation;R&&c.push(R)}return r&&Promise.all(c).then(()=>{Ee.update(()=>{r&&gV(t,r)})}),c}function lC(t,e,n,i=0,o=1){const s=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),r=t.size,u=(r-1)*i;return typeof n=="function"?n(s,r):o===1?s*i:u-s*i}function af(t,e,n={}){var c;const i=No(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(rC(t,i,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=o;return RV(t,e,f,d,h,m,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,d]=u==="beforeChildren"?[s,r]:[r,s];return f().then(()=>d())}else return Promise.all([s(),r(n.delay)])}function RV(t,e,n=0,i=0,o=0,s=1,r){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(af(c,e,{...r,delay:n+(typeof i=="function"?0:i)+lC(t.variantChildren,c,i,o,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function wV(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(s=>af(t,s,n));i=Promise.all(o)}else if(typeof e=="string")i=af(t,e,n);else{const o=typeof e=="function"?No(t,e,n.custom):e;i=Promise.all(rC(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function aC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const DV=Hd.length;function uC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DV;n++){const i=Hd[n],o=t.props[i];(rr(o)||o===!1)&&(e[i]=o)}return e}const NV=[...Gd].reverse(),bV=Gd.length;function IV(t){return e=>Promise.all(e.map(({animation:n,options:i})=>wV(t,n,i)))}function UV(t){let e=IV(t),n=Eg(),i=!0;const o=c=>(f,d)=>{var m;const h=No(t,d,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:g,...T}=h;f={...f,...T,...g}}return f};function s(c){e=c(t)}function r(c){const{props:f}=t,d=uC(t.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let R=0;R<bV;R++){const y=NV[R],v=n[y],S=f[y]!==void 0?f[y]:d[y],A=rr(S),w=y===c?v.isActive:null;w===!1&&(g=R);let _=S===d[y]&&S!==f[y]&&A;if(_&&i&&t.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...p},!v.isActive&&w===null||!S&&!v.prevProp||Ia(S)||typeof S=="boolean")continue;const N=PV(v.prevProp,S);let C=N||y===c&&v.isActive&&!_&&A||R>g&&A,E=!1;const D=Array.isArray(S)?S:[S];let b=D.reduce(o(y),{});w===!1&&(b={});const{prevResolvedValues:I={}}=v,L={...I,...b},P=x=>{C=!0,m.has(x)&&(E=!0,m.delete(x)),v.needsAnimating[x]=!0;const B=t.getValue(x);B&&(B.liveStyle=!1)};for(const x in L){const B=b[x],V=I[x];if(p.hasOwnProperty(x))continue;let G=!1;rf(B)&&rf(V)?G=!aC(B,V):G=B!==V,G?B!=null?P(x):m.add(x):B!==void 0&&m.has(x)?P(x):v.protectedKeys[x]=!0}v.prevProp=S,v.prevResolvedValues=b,v.isActive&&(p={...p,...b}),i&&t.blockInitialAnimation&&(C=!1);const k=_&&N;C&&(!k||E)&&h.push(...D.map(x=>{const B={type:y};if(typeof x=="string"&&i&&!k&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,G=No(V,x);if(V.enteringChildren&&G){const{delayChildren:K}=G.transition||{};B.delay=lC(V.enteringChildren,t,K)}}return{animation:x,options:B}}))}if(m.size){const R={};if(typeof f.initial!="boolean"){const y=No(t,Array.isArray(f.initial)?f.initial[0]:f.initial);y&&y.transition&&(R.transition=y.transition)}m.forEach(y=>{const v=t.getBaseTarget(y),S=t.getValue(y);S&&(S.liveStyle=!0),R[y]=v??null}),h.push({animation:R})}let T=!!h.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(h):Promise.resolve()}function u(c,f){var h;if(n[c].isActive===f)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,f)}),n[c].isActive=f;const d=r(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:r,setActive:u,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Eg(),i=!0}}}function PV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aC(e,t):!1}function yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Eg(){return{animate:yi(!0),whileInView:yi(),whileHover:yi(),whileTap:yi(),whileDrag:yi(),whileFocus:yi(),exit:yi()}}class ci{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VV extends ci{constructor(e){super(e),e.animationState||(e.animationState=UV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ia(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let LV=0;class kV extends ci{constructor(){super(...arguments),this.id=LV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const BV={animation:{Feature:VV},exit:{Feature:kV}};function ar(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Dr(t){return{point:{x:t.pageX,y:t.pageY}}}const GV=t=>e=>Bd(e)&&t(e,Dr(e));function Hs(t,e,n,i){return ar(t,e,GV(n),i)}const cC=1e-4,HV=1-cC,FV=1+cC,fC=.01,qV=0-fC,zV=0+fC;function ut(t){return t.max-t.min}function OV(t,e,n){return Math.abs(t-e)<=n}function xg(t,e,n,i=.5){t.origin=i,t.originPoint=Me(e.min,e.max,t.origin),t.scale=ut(n)/ut(e),t.translate=Me(n.min,n.max,t.origin)-t.originPoint,(t.scale>=HV&&t.scale<=FV||isNaN(t.scale))&&(t.scale=1),(t.translate>=qV&&t.translate<=zV||isNaN(t.translate))&&(t.translate=0)}function Fs(t,e,n,i){xg(t.x,e.x,n.x,i?i.originX:void 0),xg(t.y,e.y,n.y,i?i.originY:void 0)}function Mg(t,e,n){t.min=n.min+e.min,t.max=t.min+ut(e)}function YV(t,e,n){Mg(t.x,e.x,n.x),Mg(t.y,e.y,n.y)}function _g(t,e,n){t.min=e.min-n.min,t.max=t.min+ut(e)}function qs(t,e,n){_g(t.x,e.x,n.x),_g(t.y,e.y,n.y)}function bt(t){return[t("x"),t("y")]}const dC=({current:t})=>t?t.ownerDocument.defaultView:null,Rg=(t,e)=>Math.abs(t-e);function KV(t,e){const n=Rg(t.x,e.x),i=Rg(t.y,e.y);return Math.sqrt(n**2+i**2)}class hC{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:s=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Du(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=KV(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:T}=m,{timestamp:R}=Xe;this.history.push({...T,timestamp:R});const{onStart:y,onMove:v}=this.handlers;p||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=wu(p,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:T,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Du(m.type==="pointercancel"?this.lastMoveEventInfo:wu(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,y),T&&T(m,y)},!Bd(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=o||window;const u=Dr(e),c=wu(u,this.transformPagePoint),{point:f}=c,{timestamp:d}=Xe;this.history=[{...f,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Du(c,this.history)),this.removeListeners=_r(Hs(this.contextWindow,"pointermove",this.handlePointerMove),Hs(this.contextWindow,"pointerup",this.handlePointerUp),Hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ri(this.updatePoint)}}function wu(t,e){return e?{point:e(t.point)}:t}function wg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Du({point:t},e){return{point:t,delta:wg(t,mC(e)),offset:wg(t,JV(e)),velocity:XV(e,.1)}}function JV(t){return t[0]}function mC(t){return t[t.length-1]}function XV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=mC(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>sn(e)));)n--;if(!i)return{x:0,y:0};const s=rn(o.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const r={x:(o.x-i.x)/s,y:(o.y-i.y)/s};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function $V(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Me(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Me(n,t,i.max):Math.min(t,n)),t}function Dg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QV(t,{top:e,left:n,bottom:i,right:o}){return{x:Dg(t.x,n,o),y:Dg(t.y,e,i)}}function Ng(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function ZV(t,e){return{x:Ng(t.x,e.x),y:Ng(t.y,e.y)}}function WV(t,e){let n=.5;const i=ut(t),o=ut(e);return o>i?n=ir(e.min,e.max-i,t.min):i>o&&(n=ir(t.min,t.max-o,e.min)),Rn(0,1,n)}function jV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uf=.35;function e3(t=uf){return t===!1?t=0:t===!0&&(t=uf),{x:bg(t,"left","right"),y:bg(t,"top","bottom")}}function bg(t,e,n){return{min:Ig(t,e),max:Ig(t,n)}}function Ig(t,e){return typeof t=="number"?t:t[e]||0}const t3=new WeakMap;class n3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dr(h).point)},r=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:T}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hP(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(y=>{let v=this.getAxisMotionValue(y).get()||0;if(ln.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[y];A&&(v=ut(A)*(parseFloat(v)/100))}}this.originPoint[y]=v}),T&&Ee.postRender(()=>T(h,m)),lf(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:T,onDrag:R}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=m;if(g&&this.currentDirection===null){this.currentDirection=i3(y),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),R&&R(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>bt(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new hC(e,{onSessionStart:s,onStart:r,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:dC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!o||!i)return;const{velocity:r}=o;this.startAnimation(r);const{onDragEnd:u}=this.getProps();u&&Ee.postRender(()=>u(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Wr(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let r=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(r=$V(r,this.constraints[e],this.elastic[e])),s.set(r)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,o=this.constraints;e&&po(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=QV(i.layoutBox,e):this.constraints=!1,this.elastic=e3(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bt(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=jV(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!po(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=oV(i,o.root,this.visualElement.getTransformPagePoint());let r=ZV(o.layout.layoutBox,s);if(n){const u=n(tV(r));this.hasMutatedConstraints=!!u,u&&(r=ZS(u))}return r}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:s,dragSnapToOrigin:r,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=bt(d=>{if(!Wr(d,n,this.currentDirection))return;let h=c&&c[d]||{};r&&(h={min:0,max:0});const m=o?200:1e6,p=o?40:1e7,g={type:"inertia",velocity:i?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return lf(this.visualElement,e),i.start(Jd(e,i,0,n,this.visualElement,!1))}stopAnimation(){bt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){bt(n=>{const{drag:i}=this.getProps();if(!Wr(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:r,max:u}=o.layout.layoutBox[n];s.set(e[n]-Me(r,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!po(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bt(r=>{const u=this.getAxisMotionValue(r);if(u&&this.constraints!==!1){const c=u.get();o[r]=WV({min:c,max:c},this.constraints[r])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),bt(r=>{if(!Wr(r,e,null))return;const u=this.getAxisMotionValue(r),{min:c,max:f}=this.constraints[r];u.set(Me(c,f,o[r]))})}addListeners(){if(!this.visualElement.current)return;t3.set(this.visualElement,this);const e=this.visualElement.current,n=Hs(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();po(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ee.read(i);const r=ar(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(bt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{r(),n(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:r=uf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:s,dragElastic:r,dragMomentum:u}}}function Wr(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class o3 extends ci{constructor(e){super(e),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new n3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ug=t=>(e,n)=>{t&&Ee.postRender(()=>t(e,n))};class s3 extends ci{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(e){this.session=new hC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ug(e),onStart:Ug(n),onMove:i,onEnd:(s,r)=>{delete this.session,o&&Ee.postRender(()=>o(s,r))}}}mount(){this.removePointerDownListener=Hs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=Pg(t,e.target.x),i=Pg(t,e.target.y);return`${n}% ${i}%`}},r3={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=li.parse(t);if(o.length>5)return i;const s=li.createTransformer(t),r=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+r]/=u,o[1+r]/=c;const f=Me(u,c,.5);return typeof o[2+r]=="number"&&(o[2+r]/=f),typeof o[3+r]=="number"&&(o[3+r]/=f),s(o)}};let Nu=!1;class l3 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:s}=e;DP(a3),s&&(n.group&&n.group.add(s),i&&i.register&&o&&i.register(s),Nu&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Tl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:s}=this.props,{projection:r}=i;return r&&(r.isPresent=s,Nu=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==s?r.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?r.promote():r.relegate()||Ee.postRender(()=>{const u=r.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Nu=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pC(t){const[e,n]=AP(),i=O.useContext(JT);return U.jsx(l3,{...t,layoutGroup:i,switchLayoutGroup:O.useContext($S),isPresent:e,safeToRemove:n})}const a3={borderRadius:{...gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gs,borderTopRightRadius:gs,borderBottomLeftRadius:gs,borderBottomRightRadius:gs,boxShadow:r3};function u3(t,e,n){const i=ot(t)?t:qo(t);return i.start(Jd("",i,e,n)),i.animation}const c3=(t,e)=>t.depth-e.depth;class f3{constructor(){this.children=[],this.isDirty=!1}add(e){vd(this.children,e),this.isDirty=!0}remove(e){Td(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c3),this.isDirty=!1,this.children.forEach(e)}}function d3(t,e){const n=pt.now(),i=({timestamp:o})=>{const s=o-n;s>=e&&(ri(i),t(s-e))};return Ee.setup(i,!0),()=>ri(i)}const gC=["TopLeft","TopRight","BottomLeft","BottomRight"],h3=gC.length,Vg=t=>typeof t=="string"?parseFloat(t):t,Lg=t=>typeof t=="number"||X.test(t);function m3(t,e,n,i,o,s){o?(t.opacity=Me(0,n.opacity??1,p3(i)),t.opacityExit=Me(e.opacity??1,0,g3(i))):s&&(t.opacity=Me(e.opacity??1,n.opacity??1,i));for(let r=0;r<h3;r++){const u=`border${gC[r]}Radius`;let c=kg(e,u),f=kg(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||Lg(c)===Lg(f)?(t[u]=Math.max(Me(Vg(c),Vg(f),i),0),(ln.test(f)||ln.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Me(e.rotate||0,n.rotate||0,i))}function kg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const p3=yC(0,.5,oS),g3=yC(.5,.95,Ht);function yC(t,e,n){return i=>i<t?0:i>e?1:n(ir(t,e,i))}function Bg(t,e){t.min=e.min,t.max=e.max}function Nt(t,e){Bg(t.x,e.x),Bg(t.y,e.y)}function Gg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hg(t,e,n,i,o){return t-=e,t=aa(t,1/n,i),o!==void 0&&(t=aa(t,1/o,i)),t}function y3(t,e=0,n=1,i=.5,o,s=t,r=t){if(ln.test(e)&&(e=parseFloat(e),e=Me(r.min,r.max,e/100)-r.min),typeof e!="number")return;let u=Me(s.min,s.max,i);t===s&&(u-=e),t.min=Hg(t.min,e,n,u,o),t.max=Hg(t.max,e,n,u,o)}function Fg(t,e,[n,i,o],s,r){y3(t,e[n],e[i],e[o],e.scale,s,r)}const v3=["x","scaleX","originX"],T3=["y","scaleY","originY"];function qg(t,e,n,i){Fg(t.x,e,v3,n?n.x:void 0,i?i.x:void 0),Fg(t.y,e,T3,n?n.y:void 0,i?i.y:void 0)}function zg(t){return t.translate===0&&t.scale===1}function vC(t){return zg(t.x)&&zg(t.y)}function Og(t,e){return t.min===e.min&&t.max===e.max}function S3(t,e){return Og(t.x,e.x)&&Og(t.y,e.y)}function Yg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function TC(t,e){return Yg(t.x,e.x)&&Yg(t.y,e.y)}function Kg(t){return ut(t.x)/ut(t.y)}function Jg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class C3{constructor(){this.members=[]}add(e){vd(this.members,e),e.scheduleRender()}remove(e){if(Td(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A3(t,e,n){let i="";const o=t.x.translate/e.x,s=t.y.translate/e.y,r=(n==null?void 0:n.z)||0;if((o||s||r)&&(i=`translate3d(${o}px, ${s}px, ${r}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:g}=n;f&&(i=`perspective(${f}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),m&&(i+=`rotateY(${m}deg) `),p&&(i+=`skewX(${p}deg) `),g&&(i+=`skewY(${g}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(i+=`scale(${u}, ${c})`),i||"none"}const bu=["","X","Y","Z"],E3=1e3;let x3=0;function Iu(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function SC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ee,!(o||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&SC(i)}function CC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(r={},u=e==null?void 0:e()){this.id=x3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(R3),this.nodes.forEach(b3),this.nodes.forEach(I3),this.nodes.forEach(w3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new f3)}addEventListener(r,u){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Ad),this.eventHandlers.get(r).add(u)}notifyListeners(r,...u){const c=this.eventHandlers.get(r);c&&c.notify(...u)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=LS(r)&&!TP(r),this.instance=r;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;Ee.read(()=>{h=window.innerWidth}),t(r,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=d3(m,250),Tl.hasAnimatedSinceResize&&(Tl.hasAnimatedSinceResize=!1,this.nodes.forEach(Qg)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||f.getDefaultTransition()||k3,{onLayoutAnimationStart:T,onLayoutAnimationComplete:R}=f.getProps(),y=!this.targetLayout||!TC(this.targetLayout,p),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Vd(g,"layout"),onPlay:T,onComplete:R};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,v)}else h||Qg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U3),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($g);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N3),this.nodes.forEach(M3),this.nodes.forEach(_3)):this.nodes.forEach($g),this.clearAllSnapshots();const u=pt.now();Xe.delta=Rn(0,1e3/60,u-Xe.timestamp),Xe.timestamp=u,Xe.isProcessing=!0,Su.update.process(Xe),Su.preRender.process(Xe),Su.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D3),this.sharedNodes.forEach(P3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ut(this.snapshot.measuredBox.x)&&!ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(u=!1),u&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!o)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!vC(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;r&&this.instance&&(u||Ci(this.latestValues)||d)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return r&&(c=this.removeTransform(c)),B3(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:r}=this.options;if(!r)return Ie();const u=r.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(G3))){const{scroll:d}=this.root;d&&(go(u.x,d.offset.x),go(u.y,d.offset.y))}return u}removeElementScroll(r){var c;const u=Ie();if(Nt(u,r),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Nt(u,r),go(u.x,h.offset.x),go(u.y,h.offset.y))}return u}applyTransform(r,u=!1){const c=Ie();Nt(c,r);for(let f=0;f<this.path.length;f++){const d=this.path[f];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ci(d.latestValues)&&yo(c,d.latestValues)}return Ci(this.latestValues)&&yo(c,this.latestValues),c}removeTransform(r){const u=Ie();Nt(u,r);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Ci(f.latestValues))continue;nf(f.latestValues)&&f.updateSnapshot();const d=Ie(),h=f.measurePageBox();Nt(d,h),qg(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return Ci(this.latestValues)&&qg(u,this.latestValues),u}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var m;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),qs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nt(this.target,this.layout.layoutBox),jS(this.target,this.targetDelta)):Nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),qs(this.relativeTargetOrigin,this.target,p.target),Nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nf(this.parent.latestValues)||WS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const r=this.getLead(),u=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Nt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;iV(this.layoutCorrected,this.treeScale,this.path,u),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Ie());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gg(this.prevProjectionDelta.x,this.projectionDelta.x),Gg(this.prevProjectionDelta.y,this.projectionDelta.y)),Fs(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!Jg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(r,u=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},h=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const m=Ie(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,T=p!==g,R=this.getStack(),y=!R||R.members.length<=1,v=!!(T&&!y&&this.options.crossfade===!0&&!this.path.some(L3));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const w=A/1e3;Zg(h.x,r.x,w),Zg(h.y,r.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qs(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V3(this.relativeTarget,this.relativeTargetOrigin,m,w),S&&S3(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ie()),Nt(S,this.relativeTarget)),T&&(this.animationValues=d,m3(d,f,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Tl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qo(0)),this.currentAnimation=u3(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),r.onUpdate&&r.onUpdate(d)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:d}=r;if(!(!u||!c||!f)){if(this!==r&&this.layout&&f&&AC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Ie();const h=ut(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+h;const m=ut(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+m}Nt(u,c),yo(u,d),Fs(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(r,u){this.sharedNodes.has(r)||this.sharedNodes.set(r,new C3),this.sharedNodes.get(r).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var u;const{layoutId:r}=this.options;return r?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:r}=this.options;return r?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let u=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&Iu("z",r,f,this.animationValues);for(let d=0;d<bu.length;d++)Iu(`rotate${bu[d]}`,r,f,this.animationValues),Iu(`skew${bu[d]}`,r,f,this.animationValues);r.render();for(const d in f)r.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);r.scheduleRender()}applyProjectionStyles(r,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=vl(u==null?void 0:u.pointerEvents)||"",r.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=vl(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ci(this.latestValues)&&(r.transform=c?c({},""):"none",this.hasProjected=!1);return}r.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let h=A3(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),r.transform=h;const{x:m,y:p}=this.projectionDelta;r.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?r.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:r.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in lr){if(d[g]===void 0)continue;const{correct:T,applyTo:R,isCSSVariable:y}=lr[g],v=h==="none"?d[g]:T(d[g],f);if(R){const S=R.length;for(let A=0;A<S;A++)r[R[A]]=v}else y?this.options.visualElement.renderState.vars[g]=v:r[g]=v}this.options.layoutId&&(r.pointerEvents=f===this?vl(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var u;return(u=r.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Xg),this.root.sharedNodes.clear()}}}function M3(t){t.updateLayout()}function _3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:s}=t.options,r=e.source!==t.layout.source;s==="size"?bt(h=>{const m=r?e.measuredBox[h]:e.layoutBox[h],p=ut(m);m.min=i[h].min,m.max=m.min+p}):AC(s,e.layoutBox,i)&&bt(h=>{const m=r?e.measuredBox[h]:e.layoutBox[h],p=ut(i[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const u=vo();Fs(u,i,e.layoutBox);const c=vo();r?Fs(c,t.applyTransform(o,!0),e.measuredBox):Fs(c,i,e.layoutBox);const f=!vC(u);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=Ie();qs(g,e.layoutBox,m.layoutBox);const T=Ie();qs(T,i,p.layoutBox),TC(g,T)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function R3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function w3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D3(t){t.clearSnapshot()}function Xg(t){t.clearMeasurements()}function $g(t){t.isLayoutDirty=!1}function N3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function b3(t){t.resolveTargetDelta()}function I3(t){t.calcProjection()}function U3(t){t.resetSkewAndRotation()}function P3(t){t.removeLeadSnapshot()}function Zg(t,e,n){t.translate=Me(e.translate,0,n),t.scale=Me(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Wg(t,e,n,i){t.min=Me(e.min,n.min,i),t.max=Me(e.max,n.max,i)}function V3(t,e,n,i){Wg(t.x,e.x,n.x,i),Wg(t.y,e.y,n.y,i)}function L3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k3={duration:.45,ease:[.4,0,.1,1]},jg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ey=jg("applewebkit/")&&!jg("chrome/")?Math.round:Ht;function ty(t){t.min=ey(t.min),t.max=ey(t.max)}function B3(t){ty(t.x),ty(t.y)}function AC(t,e,n){return t==="position"||t==="preserve-aspect"&&!OV(Kg(e),Kg(n),.2)}function G3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const H3=CC({attachResizeListener:(t,e)=>ar(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uu={current:void 0},EC=CC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uu.current){const t=new H3({});t.mount(window),t.setOptions({layoutScroll:!0}),Uu.current=t}return Uu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),F3={pan:{Feature:s3},drag:{Feature:o3,ProjectionNode:EC,MeasureLayout:pC}};function ny(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,s=i[o];s&&Ee.postRender(()=>s(e,Dr(e)))}class q3 extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=mP(e,(n,i)=>(ny(this.node,i,"Start"),o=>ny(this.node,o,"End"))))}unmount(){}}class z3 extends ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_r(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iy(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),s=i[o];s&&Ee.postRender(()=>s(e,Dr(e)))}class O3 extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=vP(e,(n,i)=>(iy(this.node,i,"Start"),(o,{success:s})=>iy(this.node,o,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cf=new WeakMap,Pu=new WeakMap,Y3=t=>{const e=cf.get(t.target);e&&e(t)},K3=t=>{t.forEach(Y3)};function J3({root:t,...e}){const n=t||document;Pu.has(n)||Pu.set(n,{});const i=Pu.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(K3,{root:t,...e})),i[o]}function X3(t,e,n){const i=J3(e);return cf.set(t,n),i.observe(t),()=>{cf.delete(t),i.unobserve(t)}}const $3={some:0,all:1};class Q3 extends ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:s}=e,r={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:$3[o]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=f?d:h;m&&m(c)};return X3(this.node.current,r,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Z3(e,n))&&this.startObserver()}unmount(){}}function Z3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W3={inView:{Feature:Q3},tap:{Feature:O3},focus:{Feature:z3},hover:{Feature:q3}},j3={layout:{ProjectionNode:EC,MeasureLayout:pC}},e4={...BV,...W3,...F3,...j3},xC=eV(e4,hV),t4=({className:t,children:e})=>U.jsxs("div",{className:`min-h-screen relative overflow-hidden ${t||""}`,children:[U.jsx(xC.div,{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:30,repeat:1/0,ease:"easeInOut"},style:{backgroundImage:"radial-gradient(1200px 600px at -10% -20%, rgba(255, 200, 150, 0.25), transparent 60%),radial-gradient(1000px 500px at 110% 120%, rgba(255, 180, 120, 0.25), transparent 60%),linear-gradient(135deg, #fff7ed, #fff1d6, #fef3c7)",backgroundSize:"200% 200%"}}),U.jsx("div",{className:"relative z-10",children:e})]}),n4=({children:t,className:e})=>U.jsxs("span",{className:`relative inline-block ${e||""}`,children:[U.jsx(xC.span,{"aria-hidden":!0,className:"absolute inset-x-0 bottom-0 h-3 rounded-md",initial:{scaleX:0,opacity:.6},animate:{scaleX:1,opacity:1},transition:{duration:1.2,ease:"easeInOut"},style:{transformOrigin:"left",background:"linear-gradient(90deg, #fed7aa, #fde68a)"}}),U.jsx("span",{className:"relative z-10",children:t})]});function i4(){const[t,e]=O.useState(!1),[n,i]=O.useState(!1),{currentStep:o,apiKey:s,error:r}=Bi(),u=o==="prompt"?"generate":o;O.useEffect(()=>{if(!n&&s)try{jl.init(s),i(!0)}catch(d){console.error("Failed to initialize Gemini service:",d)}},[n,s]);const c=!s||s.trim()==="";O.useEffect(()=>{c&&e(!0)},[c]);const f=()=>{switch(u){case"upload":return U.jsx(gI,{});case"enhance":return U.jsx(vI,{});case"generate":return U.jsx(Kp,{});case"complete":return U.jsx(SI,{});default:return U.jsx(Kp,{})}};return U.jsxs(t4,{children:[U.jsx("header",{className:"border-b border-orange-100 bg-white/80 backdrop-blur-sm",children:U.jsx("div",{className:"mx-auto max-w-4xl px-4 py-4 sm:px-6 lg:px-8",children:U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-orange-400 to-amber-500 flex items-center justify-center",children:U.jsx("span",{className:"text-white text-lg",children:"❤️"})}),U.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Moving Memories"}),U.jsx("p",{className:"hidden sm:block text-sm text-gray-500 ml-2",children:U.jsx(n4,{children:"Transform photos into living memories"})})]}),U.jsx("button",{onClick:()=>e(!0),className:"rounded-lg border border-gray-200 bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:s?"Update Key":"Setup"})]})})}),U.jsx("div",{className:"border-b border-orange-100 bg-white/60",children:U.jsx("div",{className:"mx-auto max-w-4xl px-4 py-3 sm:px-6 lg:px-8",children:U.jsxs("div",{className:"flex items-center justify-between text-xs",children:[U.jsx("div",{className:`flex-1 text-center ${u==="upload"?"text-orange-600 font-semibold":"text-gray-400"}`,children:"Upload"}),U.jsx("div",{className:`flex-1 text-center ${u==="enhance"?"text-orange-600 font-semibold":"text-gray-400"}`,children:"Enhance"}),U.jsx("div",{className:`flex-1 text-center ${u==="generate"?"text-orange-600 font-semibold":"text-gray-400"}`,children:"Generate"}),U.jsx("div",{className:`flex-1 text-center ${u==="complete"?"text-orange-600 font-semibold":"text-gray-400"}`,children:"Done"})]})})}),U.jsxs("main",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8",children:[f(),r&&U.jsx("div",{className:"mt-6 rounded-lg border border-red-200 bg-red-50 p-4",children:U.jsx("p",{className:"text-sm text-red-800",children:r})})]}),U.jsx("footer",{className:"mt-auto py-8 text-center",children:U.jsxs("p",{className:"text-sm text-gray-500",children:["Made with ",U.jsx("span",{className:"text-red-500",children:"❤️"})," using"," ",U.jsx("span",{className:"font-medium",children:"Gemini AI"})]})}),U.jsx(iI,{isOpen:t,onClose:()=>!c&&e(!1),required:c})]})}ME.createRoot(document.getElementById("root")).render(U.jsx(O.StrictMode,{children:U.jsx(i4,{})}));
